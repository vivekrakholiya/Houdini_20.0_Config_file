{"type": "root", "attrs": {}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["idenoise"], "extent": [0, 13]}, {"type": "summary", "indent": 0, "text": ["Removes noise from an image file."], "extent": [13, 56]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Synopsis"], "extent": [56, 71], "body": [{"lang": null, "type": "pre", "indent": 0, "text": ["\nidenoise infile outfile [options]...\n"], "extent": [71, 117]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Description"], "extent": [117, 137], "body": [{"type": "para", "indent": 0, "text": ["You can install libraries that use various techniques (such as machine learning and GPU computation) to provide very fast and high-quality denoising. This utility is a convenient front-end to use those libraries to denoise a single image."], "extent": [137, 378]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [378, 383], "body": [{"type": "para", "indent": 4, "text": ["The ", {"scheme": "Node", "value": "/nodes/cop2/aidenoise", "type": "link", "text": ["Denoise AI compositing node"], "fullpath": "/nodes/cop2/aidenoise.html"}, " lets you apply the same denoisers as this utility in a compositing network."], "extent": [383, 518]}], "container": true}], "container": true, "role": "item_group"}, {"type": "box_group", "body": [{"ext": null, "type": "box", "indent": 0, "role": "item", "extent": [518, 524], "body": [{"type": "para", "indent": 4, "text": ["This utility currently supports ", {"scheme": null, "value": "https://openimagedenoise.github.io", "type": "link", "text": ["Intel Open Image Denoise"], "exists": true}, " and the ", {"scheme": null, "value": "https://developer.nvidia.com/optix-denoiser", "type": "link", "text": ["NVIDIA OptiX Denoiser"], "exists": true}, ". You must be on a supported platform and have the chosen denoising library installed for this utility to work."], "extent": [544, 830]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Houdini ships with OIDN so it will be available if you are in a Houdini shell environment."], "extent": [830, 928]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["The NVIDIA OptiX Denoiser only works with NVIDIA cards. It is now included with the NVIDIA driver (version 435 or later). If you have an earlier driver version, you can choose ", {"type": "ui", "text": ["Render \u25b8 Download NVIDIA OptiX Denoiser"]}, " in Houdini to download the library automatically."], "extent": [928, 1205]}], "container": true}, {"type": "para", "indent": 4, "text": ["You can specify multiple image planes to denoise simultaneously."], "extent": [1205, 1275]}], "container": true, "attrs": {"id": "supported"}}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Some denoising libraries can use normals and/or albedo to get a better sense of the image, guiding how and where it reduces noise. This utility lets you optionally specify the name of a normal plane and the name of an albedo plane to use as input for the denoiser."], "extent": [1275, 1542]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Options"], "extent": [1542, 1556], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": [{"type": "code", "text": ["-l"]}], "extent": [1556, 1563], "body": [{"type": "para", "indent": 4, "text": ["List all available denoisers."], "extent": [1563, 1598]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"type": "code", "text": ["-d ", {"type": "var", "text": ["denoiser"]}]}], "extent": [1598, 1617], "body": [{"type": "para", "indent": 4, "text": ["Denoiser to use. This must be one of ", {"type": "code", "text": ["oidn"]}, " (Intel Open Image Denoise) or ", {"type": "code", "text": ["optix"]}, "\n    (NVIDIA OptiX Denoiser). The default is ", {"type": "code", "text": ["oidn"]}, "."], "extent": [1617, 1756]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"type": "code", "text": ["-n ", {"type": "var", "text": ["normal_name"]}]}], "extent": [1756, 1778], "body": [{"type": "para", "indent": 4, "text": ["Name of the normal plane in the image file to use as input to the denoiser.\n    If you don\u2019t supply this option, the denoiser will not use a normal plane."], "extent": [1778, 1938]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"type": "code", "text": ["-a ", {"type": "var", "text": ["albedo_name"]}]}], "extent": [1938, 1960], "body": [{"type": "para", "indent": 4, "text": ["Name of the albedo plane in the image file to use as input to the denoiser.\n    If you don\u2019t supply this option, the denoiser will not use an albedo plane."], "extent": [1960, 2121]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"type": "code", "text": ["-m ", {"type": "var", "text": ["motionvectors_name"]}]}], "extent": [2121, 2150], "body": [{"type": "para", "indent": 4, "text": ["The name of the motion vectors plane. Required by OptiX to eliminate temporal noise."], "extent": [2150, 2240]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"type": "code", "text": ["-p ", {"type": "var", "text": ["previous_frame"]}]}], "extent": [2240, 2265], "body": [{"type": "para", "indent": 4, "text": ["The path to the previous denoised frame. In the first frame of a sequence, it could be set\n    to the noisy beauty image of the first frame instead of the denoised version and all flow\n    vectors set to zero. Required by OptiX to eliminate temporal noise."], "extent": [2265, 2527]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"type": "code", "text": ["--extra_aovs ", {"type": "var", "text": ["plane_1 plane_2 \u2026 plane_n"]}]}], "extent": [2527, 2575], "body": [{"type": "para", "indent": 4, "text": ["Space-separated names of the extra image planes to pass to the denoiser (other than the specific normal, albedo, etc.). These AOVs are not altered, but available to the denoiser for reference."], "extent": [2575, 2773]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"type": "code", "text": ["--aovs ", {"type": "var", "text": ["plane_1 plane_2 \u2026 plane_n"]}]}], "extent": [2773, 2815], "body": [{"type": "para", "indent": 4, "text": ["Space-separated names of the image planes to denoise in the output image. If not specified, ", {"type": "code", "text": ["C"]}, ", ", {"type": "code", "text": ["Cf"]}, ", and ", {"type": "code", "text": ["color"]}, " are used by default."], "extent": [2815, 2956]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"type": "code", "text": ["--exrmode ", {"type": "var", "text": ["mode"]}]}], "extent": [2956, 2978], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": [{"type": "code", "text": ["-1"]}], "extent": [2978, 2988], "body": [{"type": "para", "indent": 8, "text": ["Use ", {"type": "code", "text": ["HOUDINI_OIIO_EXR"]}, " variable."], "extent": [2988, 3030]}], "container": true}, {"type": "dt", "indent": 4, "text": [{"type": "code", "text": ["0"]}], "extent": [3030, 3039], "body": [{"type": "para", "indent": 8, "text": ["Use classic driver."], "extent": [3039, 3068]}], "container": true}, {"type": "dt", "indent": 4, "text": [{"type": "code", "text": ["1"]}], "extent": [3068, 3077], "body": [{"type": "para", "indent": 8, "text": ["Use improved driver."], "extent": [3077, 3107]}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": [{"type": "code", "text": ["--options ", {"type": "var", "text": ["json"]}]}], "extent": [3107, 3129], "body": [{"type": "para", "indent": 4, "text": ["The argument is a JSON-formatted object. You should enclose the JSON text in quotes to prevent the shell from trying to interpret any special characters. For example:"], "extent": [3129, 3301]}, {"lang": "sh", "type": "pre", "indent": 4, "text": ["\n    > idenoise -d oidn --options \"{'auxareclean':true}\" infile.exr out.exr\n    > idenoise -d optix --options '{\"blendfactor\":1.2}' infile.exr out.exr\n    "], "extent": [3301, 3476]}, {"type": "para", "indent": 4, "text": ["You can specify the following keys in the option JSON:"], "extent": [3476, 3537]}, {"type": "table", "thead": [{"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Denoiser "], "role": "th", "extent": [3537, 3553], "container": true}, {"type": "cell", "indent": 8, "text": ["Key "], "role": "th", "extent": [3553, 3568], "container": true}, {"type": "cell", "indent": 12, "text": ["Type "], "role": "th", "extent": [3568, 3588], "container": true}, {"type": "cell", "indent": 16, "text": ["Description "], "role": "th", "extent": [3588, 3619]}], "divider": false}], "body": [{"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["OIDN "], "role": "td", "extent": [3619, 3630], "container": true}, {"type": "cell", "indent": 8, "text": [{"type": "code", "text": ["auxareclean"]}, " "], "role": "td", "extent": [3630, 3654], "container": true}, {"type": "cell", "indent": 12, "text": [{"type": "code", "text": ["boolean"]}, " "], "role": "td", "extent": [3654, 3678], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 16, "text": ["Sets the ", {"type": "code", "text": ["cleanAux"]}, " filter parameter, for further improving quality when the auxilary feature (albedo, normal) planes are noise-free, as described in the OIDN documentation. Default is ", {"type": "code", "text": ["false"]}, "."], "extent": [3678, 3888]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["OIDN "], "role": "td", "extent": [3888, 3899], "container": true}, {"type": "cell", "indent": 8, "text": [{"type": "code", "text": ["prefilteraux"]}, " "], "role": "td", "extent": [3899, 3924], "container": true}, {"type": "cell", "indent": 12, "text": [{"type": "code", "text": ["boolean"]}, " "], "role": "td", "extent": [3924, 3948], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 16, "text": ["Whether to pre-filter the albedo and normal auxiliary planes before de-noising the image planes. Default is ", {"type": "code", "text": ["false"]}, "."], "extent": [3948, 4081]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Optix "], "role": "td", "extent": [4081, 4093], "container": true}, {"type": "cell", "indent": 8, "text": [{"type": "code", "text": ["blendfactor"]}, " "], "role": "td", "extent": [4093, 4117], "container": true}, {"type": "cell", "indent": 12, "text": [{"type": "code", "text": ["number"]}, " "], "role": "td", "extent": [4117, 4140], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 16, "text": ["Blend between the denoised image (", {"type": "code", "text": ["0.0"]}, ") and the original image (", {"type": "code", "text": ["1.0"]}, "). For example, ", {"type": "code", "text": ["0.25"]}, " is like overlaying the original image with 25% opacity onto the denoised image. Default is ", {"type": "code", "text": ["0.0"]}, "."], "extent": [4140, 4349]}]}], "divider": false}]}], "container": true}], "container": true}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Examples"], "extent": [4349, 4364], "body": [{"type": "para", "indent": 0, "text": ["Denoise the color plane of ", {"type": "code", "text": ["example.exr"]}, " using Intel OIDN:"], "extent": [4364, 4425]}, {"lang": null, "type": "pre", "indent": 0, "text": ["\nidenoise example.exr denoised.exr\n"], "extent": [4425, 4467]}, {"type": "para", "indent": 0, "text": ["Denoise the ", {"type": "code", "text": ["diffuse"]}, " and ", {"type": "code", "text": ["indirectDiffuse"]}, " planes of ", {"type": "code", "text": ["example.exr"]}, ", with the NVIDIA OptiX Denoiser, using the ", {"type": "code", "text": ["hitN"]}, " normal plane as input to the denoiser:"], "extent": [4467, 4626]}, {"lang": null, "type": "pre", "indent": 0, "text": ["\nidenoise example.exr denoised.exr -d optix -n hitN --aovs diffuse indirectDiffuse \n"], "extent": [4626, 4717]}, {"type": "para", "indent": 0, "text": ["Denoise in temporal denoising mode to eliminate motion blur noise properly."], "extent": [4717, 4795]}, {"lang": null, "type": "pre", "indent": 0, "text": ["\nidenoiser -d optix -m motiovectors -p previous_frame.exr --options '{\"blendfactor\": 1.2}' infile.exr out.exr\n"], "extent": [4795, 4912]}]}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [4912, 4922], "body": [{"type": "related_item_group", "body": [{"ext": null, "type": "related_item", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/cop2/aidenoise", "type": "link", "text": "", "fullpath": "/nodes/cop2/aidenoise.html"}], "role": "item", "extent": [4922, 4947]}, {"ext": null, "type": "related_item", "indent": 0, "text": [{"scheme": null, "value": "iinfo", "type": "link", "text": "", "fullpath": "/ref/utils/iinfo.html"}], "role": "item", "extent": [4947, 4957]}, {"ext": null, "type": "related_item", "indent": 0, "text": [{"scheme": null, "value": "iconvert", "type": "link", "text": "", "fullpath": "/ref/utils/iconvert.html"}], "role": "item", "extent": [4957, 4970]}, {"ext": null, "type": "related_item", "indent": 0, "text": [{"scheme": null, "value": "icp", "type": "link", "text": "", "fullpath": "/ref/utils/icp.html"}], "role": "item", "extent": [4970, 4978]}, {"ext": null, "type": "related_item", "indent": 0, "text": [{"scheme": null, "value": "iflip", "type": "link", "text": "", "fullpath": "/ref/utils/iflip.html"}], "role": "item", "extent": [4978, 4990]}], "container": true, "role": "item_group"}], "text": "Related"}], "title": ["idenoise"], "summary": ["Removes noise from an image file."]}