{"type": "root", "attrs": {"type": "node", "context": "top", "internal": "workitemexpand", "icon": "TOP/workitemexpand", "tags": "work items", "since": "17.5", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Work Item Expand"], "extent": [110, 131]}, {"type": "summary", "indent": 0, "text": ["Expands file lists or partitions into multiple work items"], "extent": [131, 197]}, {"type": "para", "indent": 0, "text": ["This node can be used to expand ether an upstream item\u2019s output file list,\narray attribute value, or a partition into multiple work items. Example\nuse cases:"], "extent": [197, 356]}, {"type": "para", "indent": 0, "text": ["A work item has 30 output files associated with it, and you'd like to create a\nnew work item for each of those 30 files."], "extent": [356, 478]}, {"type": "para", "indent": 0, "text": ["A partition has some number of work items in it, and you'd like to create a\nnew work item for each group of 5 items in the partition."], "extent": [478, 613]}, {"type": "para", "indent": 0, "text": ["A work item has an attribute with multiple values in it, and you wish to do\nsome processing on each value in separate work item."], "extent": [613, 743]}, {"level": 1, "id": "top_attributes", "container": true, "type": "top_attributes_section", "indent": 0, "role": "section", "extent": [743, 759], "body": [{"type": "top_attributes_item_group", "body": [{"ext": null, "type": "top_attributes_item", "indent": 0, "text": [{"type": "code", "text": ["expandsize"]}], "role": "item", "extent": [759, 776], "body": [{"type": "para", "indent": 4, "text": ["The size of the expanded group of work items. For example  if ", {"type": "ui", "text": ["Expansion Type"]}, "\n    is set to a ", {"type": "ui", "text": ["Fixed Count"]}, " of 3 and there are 12 items in the partition being\n    expanded, ", {"type": "code", "text": ["expandsize"]}, " will be set to 4 on each work item. If there were only\n    11 items in the partition, then the last set of work items would have an\n    ", {"type": "code", "text": ["expandsize"]}, " of 2."], "extent": [796, 1147]}], "container": true, "attrs": {"type": "integer"}}, {"ext": null, "type": "top_attributes_item", "indent": 0, "text": [{"type": "code", "text": ["expandvalue"]}], "role": "item", "extent": [1147, 1164], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Apply Expansion To"]}, " is set to ", {"type": "ui", "text": ["Upstream Attribute"]}, ", work items are\n    created for each value in the specified upstream attribute. This attribute\n    will contain the value from that slice of that array associated with each\n    work item in this node. For other expansion types, this attribute is not set."], "extent": [1164, 1485]}, {"type": "para", "indent": 4, "text": ["Note that the name of this attribute can be changed by setting a custom value\n    using the ", {"type": "ui", "text": ["Value Attribute"]}, " parameter."], "extent": [1485, 1613]}], "container": true}], "container": true, "role": "item_group"}], "text": "Top_attributes"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1613, 1625], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Generate When"], "extent": [16, 31], "body": [{"type": "para", "indent": 4, "text": ["Determines when this node will generate work items. You should generally leave this set to ", {"type": "q", "text": ["Automatic"]}, " unless you know the node requires a specific generation mode, or that the work items need to be generated dynamically."], "extent": [64, 291]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["All Upstream Items are Generated"], "extent": [291, 329], "body": [{"type": "para", "indent": 11, "text": ["This node will generate work items once all of the input nodes have generated their work items."], "extent": [329, 437]}], "container": true}, {"type": "dt", "indent": 4, "text": ["All Upstream Items are Cooked"], "extent": [437, 472], "body": [{"type": "para", "indent": 11, "text": ["This node will generate work items once all of the input nodes have cooked their work items."], "extent": [472, 577]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Each Upstream Item is Cooked"], "extent": [577, 611], "body": [{"type": "para", "indent": 11, "text": ["This node will generate work items each time a work item in an input node is cooked."], "extent": [611, 708]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Automatic"], "extent": [708, 723], "body": [{"type": "para", "indent": 11, "text": ["The generation mode is selected based on the generation mode of the input nodes. If any of the input nodes are generating work items when their inputs cook, this node will be set to ", {"type": "ui", "text": ["Each Upstream Item is Cooked"]}, ". Otherwise, it will be set to ", {"type": "ui", "text": ["All Upstream Items are Generated"]}, "."], "extent": [723, 1018]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "pdg_workitemgeneration"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Apply Expansion To"], "extent": [1677, 1697], "body": [{"type": "para", "indent": 4, "text": ["Determines what will be expanded."], "extent": [1714, 1753]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Upstream Output Files"], "extent": [1753, 1780], "body": [{"type": "para", "indent": 8, "text": ["For each upstream work item, expands the output files into more work\n        items."], "extent": [1780, 1873]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Items in Upstream Partitions"], "extent": [1873, 1907], "body": [{"type": "para", "indent": 8, "text": ["For each upstream partition, expands the items in the partition into\n        more work items."], "extent": [1907, 2010]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Upstream Attribute"], "extent": [2010, 2034], "body": [{"type": "para", "indent": 8, "text": ["For each upstream work, expands the attribute specified in the ", {"type": "ui", "text": ["Source Attribute"]}, "\n        parameter into more work items. Each work item in this node will have an\n        ", {"type": "code", "text": ["expandvalue"]}, " attribute that contains a slice of the values from the expanded\n        attribute."], "extent": [2034, 2313]}, {"type": "para", "indent": 8, "text": ["Note: This also works with iterable Python Object attributes."], "extent": [2313, 2384]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "expand"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Source Attribute"], "extent": [2384, 2402], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Apply Expansion To"]}, " is set to ", {"type": "ui", "text": ["Upstream Attribute"]}, ", this parameter specifies the name of the attribute that should be used when expanding work items. The attribute should be an array with a length greater than q, since a work item will be created for each value in the attribute."], "extent": [2425, 2720]}], "container": true, "attrs": {"id": "expandattrib"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Value Attribute"], "extent": [2720, 2737], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Apply Expansion To"]}, " is set to ", {"type": "ui", "text": ["Upstream Attribute"]}, ", this parameter determines the name of the attribute that will be created and set to the expanded value(s) associated with the work item."], "extent": [2759, 2963]}], "container": true, "attrs": {"id": "expandvalue"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Expand as Work Item IDs"], "extent": [2963, 2988], "body": [{"type": "para", "indent": 4, "text": ["When on, the integer values in the attribute are interpreted as work item IDs. The list of work item IDs in the attribute are also expanded into this node as real work items."], "extent": [3014, 3194]}, {"type": "para", "indent": 4, "text": ["This parameter is only available when ", {"type": "ui", "text": ["Apply Expansion To"]}, " is set to ", {"type": "ui", "text": ["Upstream Attribute"]}, "."], "extent": [3194, 3294]}], "container": true, "attrs": {"id": "expandworkitems"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Include Expected Output Files"], "extent": [3294, 3325], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Apply Expansion To"]}, " is set to ", {"type": "ui", "text": ["Upstream Output Files"]}, ", this toggle controls whether or not the expansion should also include upstream expected outputs in addition to regular output files. By default, expected output files are not included."], "extent": [3351, 3607]}], "container": true, "attrs": {"id": "includeexpected"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Expansion Type"], "extent": [3607, 3623], "body": [{"type": "para", "indent": 4, "text": ["Determines the relationship between the elements being expanded and the\n    new work items."], "extent": [3647, 3744]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["One to One"], "extent": [3744, 3760], "body": [{"type": "para", "indent": 8, "text": ["A new work item will be created for each upstream file or for each work\n        item in the upstream partition."], "extent": [3760, 3881]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Fixed Size"], "extent": [3881, 3897], "body": [{"type": "para", "indent": 8, "text": ["The upstream files or partitioned items will be put into fixed size\n        groups based on ", {"type": "ui", "text": ["Value"]}, ", a new work item will be created for each\n        of those groups."], "extent": [3897, 4083]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Fixed Count"], "extent": [4083, 4100], "body": [{"type": "para", "indent": 8, "text": ["The upstream files or partitioned items will be distributed amongst a\n        fixed number of groups based on ", {"type": "ui", "text": ["Value"]}, ", a new work item will be\n        created for each of those groups."], "extent": [4100, 4296]}], "container": true}, {"type": "dt", "indent": 4, "text": ["First N"], "extent": [4296, 4309], "body": [{"type": "para", "indent": 8, "text": ["The first N upstream files or partitioned items will be expanded back\n        into individual work items. The value of N is determined by the\n        ", {"type": "ui", "text": ["Value"]}, " parameter."], "extent": [4309, 4489]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Last N"], "extent": [4489, 4501], "body": [{"type": "para", "indent": 8, "text": ["The last N upstream files or partitioned items will be expanded back\n        into individual work items. The value of N is determined by the\n        ", {"type": "ui", "text": ["Value"]}, " parameter."], "extent": [4501, 4680]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "expansiontype"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Value"], "extent": [4680, 4687], "body": [{"type": "para", "indent": 4, "text": ["When using an expansion type other than ", {"type": "ui", "text": ["One to One"]}, ", this parameter\n    determines the way the upstream elements are grouped."], "extent": [4703, 4837]}], "container": true, "attrs": {"id": "value"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Preserve Source Index"], "extent": [4837, 4860], "body": [{"type": "para", "indent": 4, "text": ["When this toggle is enabled the work item index is set to the index of the\n    upstream partition or output file that was used for expansion."], "extent": [4884, 5031]}], "container": true, "attrs": {"id": "preserveindex"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Set Work Item Frame"], "extent": [5031, 5052], "body": [{"type": "para", "indent": 4, "text": ["When this toggle is enabled, the expanded work items have their frame set\n    based on their position within the list of expanded items."], "extent": [5071, 5213]}], "container": true, "attrs": {"id": "setframe"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Frame Start/Step"], "extent": [5213, 5231], "body": [{"type": "para", "indent": 4, "text": ["Determines the starting frame and frame step size, when ", {"type": "ui", "text": ["Set Work Item Frame"]}, " is enabled. The work item\u2019s frame will be set to ", {"type": "code", "text": ["step*expansion_index + start"]}, "."], "extent": [5252, 5418]}], "container": true, "attrs": {"id": "framestart"}, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [5418, 5427], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/top/merge", "type": "link", "text": "", "fullpath": "/nodes/top/merge.html"}], "extent": [5427, 5446]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/top/partitionbyattribute", "type": "link", "text": "", "fullpath": "/nodes/top/partitionbyattribute.html"}], "extent": [5446, 5480]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/top/partitionbyframe", "type": "link", "text": "", "fullpath": "/nodes/top/partitionbyframe.html"}], "extent": [5480, 5510]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/top/partitionbyindex", "type": "link", "text": "", "fullpath": "/nodes/top/partitionbyindex.html"}], "extent": [5510, 5541]}], "container": true}], "text": "Related"}], "title": ["Work Item Expand"], "summary": ["Expands file lists or partitions into multiple work items"], "included": ["/nodes/top/processor_common"]}