{"type": "root", "attrs": {"icon": "VOP/intersect", "context": "sop", "type": "node", "internal": "ray_ql", "version": "1", "namespace": "qLib"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Ray qL"], "extent": [48, 59]}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["interface version 1"]}], "extent": [59, 83]}, {"type": "summary", "indent": 0, "text": ["An alternative version of the original ", {"scheme": "Node", "value": "/nodes/sop/ray", "type": "link", "text": ["Ray SOP"], "fullpath": "/nodes/sop/ray.html"}, " (with some extra features)."], "extent": [83, 180]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/nodes/sop/qLib--ray_ql-1/ray_ql_sop_main.png", "type": "img", "text": ""}], "extent": [180, 216]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"type": "em", "text": ["Ray and Stick: on the left, points are rayed on a torus, and intersection attributes are stored;\n  on the right, the points are sticked on the deformed geometry (based on the intersection attribs)."]}], "extent": [216, 420]}], "container": true}, {"type": "para", "indent": 0, "text": ["There are both advantages and disadvantages, compared to the original Ray SOP."], "extent": [420, 500]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Advantages"], "extent": [500, 512], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "strong", "text": ["Much faster, especially on large data sets"]}, " and multi-threaded (the main reason for this OPs existence)."], "extent": [512, 624]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Can create both ray hit and ray miss point groups"], "extent": [624, 680]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "strong", "text": [{"type": "q", "text": ["Stick"]}, " mode"]}, ": once points are rayed to a geometry,\n      they can be sticked onto a deforming version of the geometry,\n      using the generated primitive index and U/V attributes"], "extent": [680, 869]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["Limitations"], "extent": [869, 882], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Can only work in Project Rays mode (no Minimum Distance mode)"], "extent": [882, 950]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["No multiple ray samples (although that\u2019s very useful for geometry with holes)"], "extent": [950, 1035]}], "container": true}], "container": true}], "container": true}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [1035, 1040], "body": [{"type": "para", "indent": 4, "text": ["The ", {"type": "em", "text": ["poly soup"]}, " geometry type can be used as a collider and it\u2019s ", {"type": "em", "text": ["much faster"]}, " to triangulate\n    than regular polygons (can be 10-15 ", {"type": "em", "text": ["times"]}, " faster)."], "extent": [1040, 1197]}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1197, 1209], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Triangulate Collider"], "extent": [1209, 1236], "body": [{"type": "para", "indent": 8, "text": ["Triangulate the collision (2nd) geometry."], "extent": [1236, 1287]}, {"type": "para", "indent": 8, "text": ["Non-planar polygons as ray colliders might give inaccurate results\n        (usually resulting in ", {"type": "q", "text": ["spikes"]}, " appering in the projected geometry).\n        If this happens, try enabling this option."], "extent": [1287, 1490]}, {"type": "para", "indent": 8, "text": ["This option can be slow for large geometry (see ", {"type": "em", "text": ["Optimize"]}, " below)."], "extent": [1490, 1566]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Optimize (Pre-Triangulate)"], "extent": [1566, 1598], "body": [{"type": "para", "indent": 8, "text": ["This option ", {"type": "q", "text": ["optimizes"]}, " the collision geometry before triangulation\n        (currently it converts it to a poly soup, as it is very fast to triangulate)."], "extent": [1598, 1761]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [1761, 1775], "body": [{"type": "para", "indent": 12, "text": ["When building a Ray/Stick workflow, do ", {"type": "strong", "text": ["not"]}, " enable ", {"type": "em", "text": ["Triangulate"]}, " or ", {"type": "em", "text": ["Optimize"]}, "\n            (they change the topology), and don\u2019t use the poly soup type as collider."], "extent": [1775, 1955]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Ray"], "extent": [1955, 1964], "body": [{"type": "para", "indent": 8, "text": ["Regular ray mode \u2013 projection of points onto a collision geometry."], "extent": [1964, 2041]}, {"type": "para", "indent": 8, "text": ["For most parameter descriptions see ", {"scheme": "Node", "value": "/nodes/sop/ray", "type": "link", "text": ["the original Ray SOP documentation"], "fullpath": "/nodes/sop/ray.html"}, "."], "extent": [2041, 2137]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Ray Attribute"], "extent": [2137, 2160], "body": [{"type": "para", "indent": 12, "text": ["Create a vector attribute that points from the intersection points back to their\n            original positions."], "extent": [2160, 2290]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Flip"], "extent": [2290, 2304], "body": [{"type": "para", "indent": 12, "text": ["Reverse the direction of the ", {"type": "em", "text": ["Ray Attribute"]}, " vectors."], "extent": [2304, 2375]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Distance Attribute"], "extent": [2375, 2403], "body": [{"type": "para", "indent": 12, "text": ["Store individual ray distances in a float attribute."], "extent": [2403, 2473]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Ray Hit Group"], "extent": [2473, 2496], "body": [{"type": "para", "indent": 12, "text": ["Add points to this group that hit the target surface."], "extent": [2496, 2567]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Ray Miss Group"], "extent": [2567, 2591], "body": [{"type": "para", "indent": 12, "text": ["Add points to this group that missed the target surface."], "extent": [2591, 2665]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Import Attributes from Hits"], "extent": [2665, 2702], "body": [{"type": "para", "indent": 12, "text": ["If enabled, the specified per-point attributes will be retrieved from the\n            hit points of the collision geometry."], "extent": [2702, 2839]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Keep Intersection Attribs"], "extent": [2839, 2874], "body": [{"type": "para", "indent": 12, "text": ["If enabled, all intersection information (intersected primitive number, U/V coordinates)\n            will be preserved."], "extent": [2874, 3007]}, {"type": "note_group", "body": [{"type": "note", "indent": 12, "role": "item", "extent": [3007, 3025], "body": [{"type": "para", "indent": 16, "text": ["The intersection U/V attributes are per-primitive barycentric coordinates\n                (and ", {"type": "em", "text": ["not"]}, " regular UV texture coordinates)."], "extent": [3025, 3176]}], "container": true}], "container": true, "role": "item_group"}, {"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["Prim, U, V Attribs"], "extent": [3176, 3208], "body": [{"type": "para", "indent": 16, "text": ["Names of the extra intersection attributes."], "extent": [3208, 3274]}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 8, "text": ["Debug (Show Code)"], "extent": [3274, 3301], "body": [{"type": "para", "indent": 12, "text": ["Temporary, debugging-related parameter (will be removed)."], "extent": [3301, 3373]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Stick"], "extent": [3373, 3384], "body": [{"type": "para", "indent": 8, "text": ["This mode sticks points (from the first input) to the surface of the geometry\n        connected to the second input."], "extent": [3384, 3510]}, {"type": "para", "indent": 8, "text": ["Sticking requires per-point attributes for primitive index and U/V coordinates\n        on each point of the 1st geometry.\n        (These attributes can be generated with a Ray qL SOP in regular Ray mode.)"], "extent": [3510, 3724]}, {"type": "para", "indent": 8, "text": ["Stick works ", {"type": "em", "text": ["only with regular polygons"]}, " (i.e. no poly soups)."], "extent": [3724, 3796]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Envelope, Weighting, etc."], "extent": [3796, 3831], "body": [{"type": "para", "indent": 12, "text": ["The standard issue deformer-weighting parameters."], "extent": [3831, 3894]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Prim Num, U, V Attrib"], "extent": [3894, 3925], "body": [{"type": "para", "indent": 12, "text": ["Names of the per-point intersection attributes for sticking each point\n            to the surface of the secondary input geometry."], "extent": [3925, 4070]}], "container": true}], "container": true}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "todo", "container": true, "type": "todo_section", "indent": 0, "text": ["To Do:"], "role": "section", "extent": [4070, 4083], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Support multiple ray samples"], "extent": [4083, 4120]}], "container": true}]}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [4120, 4129], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/ray", "type": "link", "text": "", "fullpath": "/nodes/sop/ray.html"}], "extent": [4129, 4152]}], "container": true}], "text": "Related"}, {"level": 1, "id": "relnotes", "container": true, "type": "relnotes_section", "indent": 0, "text": ["Release Notes"], "role": "section", "extent": [4152, 4176], "body": [{"type": "para", "indent": 0, "text": [{"type": "em", "text": ["interface version 1"]}, " \u2014"], "extent": [4176, 4204]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["2014-08-09"], "extent": [4204, 4216], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Minor help page fixes."], "extent": [4216, 4246]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-07-17"], "extent": [4246, 4258], "body": [{"type": "para", "indent": 4, "text": ["Since poly soups turned out to be crazy fast to triangulate\u2026"], "extent": [4258, 4325]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added pre-triangulate Optimize option"], "extent": [4325, 4369]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Updated help page accordingly (with info on poly soups)"], "extent": [4369, 4431]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Minor UI c.c.'s"], "extent": [4431, 4454]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-06-19"], "extent": [4454, 4466], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added Triangulate option"], "extent": [4466, 4498]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-03-26"], "extent": [4498, 4510], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Descriptive parm"], "extent": [4510, 4534]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-03-25"], "extent": [4534, 4546], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added ", {"type": "q", "text": ["Show Guide Geometry"]}, " toggle"], "extent": [4546, 4587]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Set 2nd input as reference"], "extent": [4587, 4621]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-02-19"], "extent": [4621, 4633], "body": [{"type": "para", "indent": 4, "text": ["Added ", {"type": "q", "text": ["Stick"]}, " mode."], "extent": [4633, 4658]}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-12-13"], "extent": [4658, 4670], "body": [{"type": "para", "indent": 4, "text": ["Friday the 13th: Updated to H13 (hopefully)."], "extent": [4670, 4720]}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-08-14"], "extent": [4720, 4732], "body": [{"type": "para", "indent": 4, "text": ["Added ", {"type": "q", "text": ["Import Attributes from Hits"]}, " (experimental)."], "extent": [4732, 4789]}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-08-03"], "extent": [4789, 4801], "body": [{"type": "para", "indent": 4, "text": ["First version."], "extent": [4801, 4824]}], "container": true}], "container": true}]}], "title": ["Ray qL"], "summary": ["An alternative version of the original ", {"scheme": "Node", "value": "/nodes/sop/ray", "type": "link", "text": ["Ray SOP"], "fullpath": "/nodes/sop/ray.html"}, " (with some extra features)."]}