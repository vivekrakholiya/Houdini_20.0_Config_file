{"type": "root", "attrs": {"icon": "PANETYPES/bundle_list", "context": "sop", "type": "node", "internal": "primgroup_centroids_ql", "version": "1", "namespace": "qLib"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["PrimGroup Centroids qL"], "extent": [56, 83]}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["interface version 1"]}], "extent": [83, 107]}, {"type": "summary", "indent": 0, "text": ["Creates center points for geometry primitive groups ('PrimGroup family' SOP)."], "extent": [107, 192]}, {"type": "para", "indent": 0, "text": ["Useful for generating center points for fractured geometry pieces.\n(As with other Houdini tools, geometry pieces can either be represented by primitive groups (e.g. ", {"type": "code", "text": ["piece*"]}, ") or by a per-primitive ", {"type": "code", "text": ["name"]}, " attribute.)"], "extent": [192, 409]}, {"type": "para", "indent": 0, "text": ["It also supports:"], "extent": [409, 428]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["Generation of convenience attributes, which allow easy mapping between group names and point indices (in both directions \u2013 index-to-name and name-to-index lookup)."], "extent": [428, 596]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Measuring the geometry area/volume of each primitive group and storing the results on the center points. This allows using more advanced techniques, for instance to\u2026"], "extent": [596, 767], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["\u2026 apply different dynamic properties (friction, mass, etc.) for differently-sized pieces"], "extent": [767, 864]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["\u2026 use RBD dynamics on ", {"type": "q", "text": ["large"]}, " pieces and particle simulation for ", {"type": "q", "text": ["small"]}, " ones"], "extent": [864, 950]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["etc."], "extent": [950, 962]}], "container": true}], "container": true}], "container": true}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [962, 968], "body": [{"type": "para", "indent": 4, "text": ["When using ", {"type": "em", "text": ["primitive groups"]}, ", the order of the groups and their corresponding centroids\n    should ", {"type": "strong", "text": ["always match"]}, " (if not, that\u2019s a bug)."], "extent": [968, 1112]}, {"type": "para", "indent": 4, "text": [{"type": "strong", "text": ["When using ", {"type": "em", "text": ["name attributes"]}, ", however, this is not guaranteed."]}, " In this case an index attribute\n    should be copied from the primitives to the centroid points. The centroids then should be\n    ", {"scheme": "Node", "value": "/nodes/sop/sort", "type": "link", "text": ["sorted"], "fullpath": "/nodes/sop/sort.html"}, " using this attribute as the Sort\u2019s ", {"type": "code", "text": ["expression"]}, "."], "extent": [1112, 1384]}, {"type": "para", "indent": 4, "text": ["Most related Houdini nodes can provide such index attribute.\n    Example parameters include:"], "extent": [1384, 1481]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/assemble", "type": "link", "text": ["Assemble SOP"], "fullpath": "/nodes/sop/assemble.html"}, "'s ", {"type": "em", "text": ["Piece Attribute"]}], "extent": [1481, 1540]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/voronoifracture", "type": "link", "text": ["Voronoi Fracture SOP"], "fullpath": "/nodes/sop/voronoifracture.html"}, "'s ", {"type": "em", "text": ["Keep Internal Attributes / Primitive Piece"]}], "extent": [1540, 1643]}], "container": true}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "Parameters", "container": true, "type": "Parameters_section", "indent": 0, "role": "section", "extent": [1643, 1655], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Mode"], "extent": [1655, 1665], "body": [{"type": "para", "indent": 8, "text": ["Mode for detecting each geometry fracture (by primitive groups or name attribute)."], "extent": [1665, 1757]}, {"type": "para", "indent": 8, "text": ["IMPORTANT: See the information above (note) about pieces and centroids' ordering."], "extent": [1757, 1848]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Group Mask"], "extent": [1848, 1864], "body": [{"type": "para", "indent": 8, "text": ["Primitive groups matching this mask will be treated as individual pieces. A single center point\n        for each piece will be generated."], "extent": [1864, 2011]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 8, "role": "item", "extent": [2011, 2024], "body": [{"type": "para", "indent": 12, "text": ["The matched results are shown as guide geometry."], "extent": [2024, 2086]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 4, "text": ["Attrib Name"], "extent": [2086, 2103], "body": [{"type": "para", "indent": 8, "text": ["Name of the attribute used to determine the geometry pieces."], "extent": [2103, 2173]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Tolerance"], "extent": [2173, 2188], "body": [{"type": "para", "indent": 8, "text": ["A tolerance value name attribute values (in case it contains numerical values, e.g. fracture indices).\n        Values that differ less than the tolerance are considered equal."], "extent": [2188, 2373]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Add Attributes"], "extent": [2373, 2393], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Group Indexing"], "extent": [2393, 2417], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["Group Name Attribute"], "extent": [2417, 2451], "body": [{"type": "para", "indent": 16, "text": ["A per-point string attribute that stores the group name for each centroid\n                (or the value of the name attribute)."], "extent": [2451, 2596]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Group Index (from Group Name)"], "extent": [2596, 2639], "body": [{"type": "para", "indent": 16, "text": ["The index value of the corresponding primitive group (or name attribute) is extracted from the name\n                and stored into this (integer) attribute."], "extent": [2639, 2822]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Group Index Attribue"], "extent": [2822, 2856], "body": [{"type": "para", "indent": 16, "text": ["If enabled, it creates a detail attribute for each piece, where the attribute name is the same\n                as the piece group name, and the value is the group index (same as the ", {"type": "code", "text": ["__origpt"]}, " attribute from\n                the ", {"scheme": "Node", "value": "/nodes/sop/voronoifracture", "type": "link", "text": "", "fullpath": "/nodes/sop/voronoifracture.html"}, " SOP)."], "extent": [2856, 3142]}, {"type": "note_group", "body": [{"type": "note", "indent": 16, "role": "item", "extent": [3142, 3164], "body": [{"type": "para", "indent": 20, "text": ["The name-to-index detail attributes (if created) can be used by the PrimGroup Add IDs qL\n                    SOP (providing much more reliable behaviour; see ", {"scheme": "Node", "value": "/nodes/sop/qLib::primgroup_add_ids_ql::1", "type": "link", "text": ["PrimGroup Add IDs SOP"], "exists": true}, ")."], "extent": [3164, 3408]}], "container": true}], "container": true, "role": "item_group"}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 8, "text": ["From Primitives"], "extent": [3408, 3434], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["Copy Attributes From Primitives"], "extent": [3434, 3479], "body": [{"type": "para", "indent": 16, "text": ["Copy specified per-primitive attributes to the corresponding centroid."], "extent": [3479, 3567]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Attribs from Prims"], "extent": [3567, 3599], "body": [{"type": "para", "indent": 16, "text": ["The attribute(s) to copy.\n                (Note that an empty field means no attributes. Use ", {"type": "code", "text": ["*"]}, " to copy all attributes.)"], "extent": [3599, 3738]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Promotion method"], "extent": [3738, 3768], "body": [{"type": "para", "indent": 16, "text": ["The mode of converting the attributes to per-point before copying it to the centroid."], "extent": [3768, 3871]}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 8, "text": ["Measure Pieces"], "extent": [3871, 3895], "body": [{"type": "para", "indent": 16, "text": ["Various geometric ", {"scheme": "Node", "value": "/nodes/sop/measure", "type": "link", "text": ["measurements"], "fullpath": "/nodes/sop/measure.html"}, " of each primitive group can be performed, and the\n                results stored in the given point attribute(s) on the centroid that belongs to the primgroup."], "extent": [3895, 4122]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["Surface Area"], "extent": [4122, 4148], "body": [{"type": "para", "indent": 16, "text": ["Measure the geometric surface area of each primitive group. The result is stored on the\n                corresponding centroid points (as a float attribute with the specified name)."], "extent": [4148, 4347]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Volume"], "extent": [4347, 4367], "body": [{"type": "para", "indent": 16, "text": ["Measure the volume of each primitive group. The result is stored on the\n                corresponding centroid points (as a float attribute with the specified name)."], "extent": [4367, 4550]}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 8, "text": ["Transformation Related"], "extent": [4550, 4586], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["Rest Position"], "extent": [4586, 4613], "body": [{"type": "para", "indent": 16, "text": ["Store centroid positions as their rest positions as well (", {"type": "code", "text": ["rest"]}, " attribute)."], "extent": [4613, 4715]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Orientation Vectors"], "extent": [4715, 4748], "body": [{"type": "para", "indent": 16, "text": ["Generate aim and up vectors for the centroids (with default values.)"], "extent": [4748, 4842]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 16, "text": ["None"], "extent": [4842, 4864], "body": [{"type": "para", "indent": 20, "text": ["No vectors are generated."], "extent": [4864, 4910]}], "container": true}, {"type": "dt", "indent": 16, "text": ["N, up"], "extent": [4910, 4933], "body": [{"type": "para", "indent": 20, "text": ["Use the ", {"type": "code", "text": ["N"]}, " (normal) and ", {"type": "code", "text": ["up"]}, " attributes."], "extent": [4933, 4995]}], "container": true}, {"type": "dt", "indent": 16, "text": ["v, up"], "extent": [4995, 5018], "body": [{"type": "para", "indent": 20, "text": ["Use the ", {"type": "code", "text": ["v"]}, " (velocity) and ", {"type": "code", "text": ["up"]}, " attributes."], "extent": [5018, 5091]}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 12, "text": ["Aim, Up"], "extent": [5091, 5112], "body": [{"type": "para", "indent": 16, "text": ["Values for the aim and up vectors."], "extent": [5112, 5164]}], "container": true}], "container": true}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["Preview"], "extent": [5164, 5177], "body": [{"type": "para", "indent": 8, "text": ["These options are for providing visual feedback of the current settings \u2013 they do ", {"type": "em", "text": ["not"]}, " affect\n        actual geometry output."], "extent": [5177, 5314]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Preview Individual Pieces"], "extent": [5314, 5349], "body": [{"type": "para", "indent": 12, "text": ["If enabled, only a single piece is displayed as guide geometry."], "extent": [5349, 5426]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Piece to Display"], "extent": [5426, 5452], "body": [{"type": "para", "indent": 12, "text": ["Index number of the preview piece to display in individual piece preview mode."], "extent": [5452, 5544]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Center Pt Size"], "extent": [5544, 5568], "body": [{"type": "para", "indent": 12, "text": ["When previewing a single piece, its centroid is also displayed. This value specifies the\n            centroid\u2019s size on display."], "extent": [5568, 5710]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Pieces Info"], "extent": [5710, 5731], "body": [{"type": "para", "indent": 12, "text": ["These fields show additional information (non-editable), such as the total number of pieces\n            and the group name of the currently displayed piece."], "extent": [5731, 5901]}, {"type": "note_group", "body": [{"type": "note", "indent": 12, "role": "item", "extent": [5901, 5919], "body": [{"type": "para", "indent": 16, "text": ["You need to press ", {"keys": ["MMB"], "type": "keys", "text": null}, " on the ", {"type": "strong", "text": ["Current Piece"]}, " field if you see an expression instead of\n                a group name."], "extent": [5919, 6058]}], "container": true}], "container": true, "role": "item_group"}], "container": true}], "container": true}], "container": true}], "container": true}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [6058, 6067], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::primgroup_add_ids_ql::1", "type": "link", "text": ["PrimGroup Add IDs"], "exists": true}], "extent": [6067, 6132]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::xform_by_points_ql::1", "type": "link", "text": ["Xform by Points qL"], "exists": true}], "extent": [6132, 6196]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/measure", "type": "link", "text": "", "fullpath": "/nodes/sop/measure.html"}], "extent": [6196, 6221]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/voronoifracture", "type": "link", "text": "", "fullpath": "/nodes/sop/voronoifracture.html"}], "extent": [6221, 6254]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/assemble", "type": "link", "text": "", "fullpath": "/nodes/sop/assemble.html"}], "extent": [6254, 6280]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/explodedview", "type": "link", "text": "", "fullpath": "/nodes/sop/explodedview.html"}], "extent": [6280, 6312]}], "container": true}], "text": "Related"}, {"level": 1, "id": "relnotes", "container": true, "type": "relnotes_section", "indent": 0, "text": ["Release Notes"], "role": "section", "extent": [6312, 6336], "body": [{"type": "para", "indent": 4, "text": [{"type": "em", "text": ["interface version 1"]}, " \u2014"], "extent": [6336, 6368]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["2013-05-05"], "extent": [6368, 6384], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Faster centroid generation (depending on geometry, could be as much as ~2x)"], "extent": [6384, 6470]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Added inheriting of per-primitive attributes on centroids (to allow inheriting of name attribute, piece indices, etc.)"], "extent": [6470, 6599]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Help card update"], "extent": [6599, 6627]}], "container": true}], "container": true}], "container": true}, {"type": "para", "indent": 4, "text": [{"type": "em", "text": ["older versions"]}, " \u2014"], "extent": [6627, 6653]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Version 0.0.3"], "extent": [6653, 6672], "body": [{"type": "para", "indent": 8, "text": ["Support for measuring individual primitive group geometry area/volume\n        and store them as attributes on the generated center points."], "extent": [6672, 6820]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Version 0.0.2"], "extent": [6820, 6839], "body": [{"type": "para", "indent": 8, "text": ["Support for fracture grouping with a name attribute (H12+)."], "extent": [6839, 6908]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Version 0.0.1"], "extent": [6908, 6927], "body": [{"type": "para", "indent": 8, "text": ["Initial release."], "extent": [6927, 6952]}], "container": true}], "container": true}]}], "title": ["PrimGroup Centroids qL"], "summary": ["Creates center points for geometry primitive groups ('PrimGroup family' SOP)."]}