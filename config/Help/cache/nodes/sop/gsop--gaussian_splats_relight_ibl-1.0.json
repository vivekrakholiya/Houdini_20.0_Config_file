{"type": "root", "attrs": {"icon": "/nodes/sop/gsop--gaussian_splats_relight_ibl-1.0/light_environment.svg", "type": "node", "context": "sop", "internal": "gaussian_splats_relight_ibl", "version": "1.0", "namespace": "gsop"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Gaussian Splats Relight IBL"], "extent": [0, 32]}, {"type": "summary", "indent": 0, "text": ["Relight Gaussian splat models using image-based lighting techniques."], "extent": [71, 147]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [147, 162], "body": [{"type": "para", "indent": 0, "text": ["Relight 3DGS models using HDR images. "], "extent": [162, 202]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/nodes/sop/gsop--gaussian_splats_relight_ibl-1.0/relight_IBL_example.png", "type": "img", "text": ""}, "\n", {"type": "em", "text": ["Example of a 3DGS shoe model relit using various HDRI environment maps (rendered in Unity)."]}], "extent": [202, 337]}]}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [337, 345], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Input Splats"], "extent": [345, 360], "body": [{"type": "para", "indent": 4, "text": ["The splats you would like to relight."], "extent": [360, 407]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [407, 417], "body": [{"type": "para", "indent": 8, "text": [{"type": "code", "text": ["Input Splats"]}, " must have normal (N) point attributes. "], "extent": [417, 485]}], "container": true}], "container": true, "role": "item_group"}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [485, 494], "body": [{"type": "para", "indent": 8, "text": ["Transfer normals from an existing mesh (via photogrammetry) or generate them with the Houdini 20 Point Cloud Normal SOP. "], "extent": [494, 629]}], "container": true}], "container": true, "role": "item_group"}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [629, 638], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Output Splats (lit)"], "extent": [638, 660], "body": [{"type": "para", "indent": 4, "text": ["The lit splats. Lighting data is baked into the ", {"type": "code", "text": ["Cd"]}, " attribute."], "extent": [660, 733]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Environment Preview"], "extent": [733, 754], "body": [{"type": "para", "indent": 4, "text": ["This output can be used to preview environment map contributions while iterating."], "extent": [754, 845]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/nodes/sop/gsop--gaussian_splats_relight_ibl-1.0/relight_IBL_environment_preview.png", "type": "img", "text": ""}], "extent": [845, 902]}, {"type": "para", "indent": 4, "text": [{"type": "em", "text": ["Left: Diffuse (irradiance map) contribution,\n    Middle: Original HDRI,\n    Right: Specular contribution."]}], "extent": [902, 1019]}], "container": true}], "container": true}], "text": "Outputs"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1019, 1031], "body": [{"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["General Settings"], "extent": [1031, 1057], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Roughness"], "extent": [1057, 1069], "body": [{"type": "para", "indent": 4, "text": ["Controls the sharpness of reflections. A value of 1 means no specular hightlights (Fresnel is controlled separately)."], "extent": [1089, 1212]}], "container": true, "attrs": {"id": "roughness"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Ambient Color"], "extent": [1212, 1227], "body": [{"type": "para", "indent": 4, "text": ["The ambient light color.  "], "extent": [1255, 1291]}], "container": true, "attrs": {"id": "ambient_color"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Ambient Multiplier"], "extent": [1291, 1315], "body": [{"type": "para", "indent": 4, "text": ["The ambient light intensity. General formula: "], "extent": [1347, 1398]}, {"lang": null, "type": "pre", "indent": 4, "text": ["(ambient_color * ambient_intensity) + specular_component + (diffuse_component * albedo_component)"], "extent": [1398, 1506]}], "container": true, "attrs": {"id": "ambient_intensity"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Environment Settings"], "extent": [1506, 1536], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Camera"], "extent": [1536, 1545], "body": [{"type": "para", "indent": 4, "text": ["The operator path for the camera that will be used to compute view-dependent specular and fresnel reflections."], "extent": [1566, 1686]}], "container": true, "attrs": {"id": "camera"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Environment Map"], "extent": [1686, 1703], "body": [{"type": "para", "indent": 4, "text": ["The HDRI you would like to use to relight the splats."], "extent": [1733, 1796]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [1796, 1806], "body": [{"type": "para", "indent": 8, "text": ["Filmic Tone Mapping is used to normalize HDR color values."], "extent": [1806, 1882]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "environment_map"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Environment Rotation"], "extent": [1882, 1904], "body": [{"type": "para", "indent": 4, "text": ["The y-axis rotation of the environment map. Use this to adjust relative lighting contribution."], "extent": [1943, 2047]}], "container": true, "attrs": {"id": "environment_map_rotation"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Diffuse Settings"], "extent": [2047, 2072], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Irradiance Frequency"], "extent": [2072, 2095], "body": [{"type": "para", "indent": 4, "text": ["Determines the number of polygons used for the irradiance map environment sphere. A lower frequency will produce more diffuse lighting."], "extent": [2130, 2275]}], "container": true, "attrs": {"id": "irradiance_frequency"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Irradiance Blur Strength"], "extent": [2275, 2301], "body": [{"type": "para", "indent": 4, "text": ["The amount to blur the irradiance map. A higher blur strength will produce more diffuse lighting, but may reduce lighting detail."], "extent": [2340, 2479]}], "container": true, "attrs": {"id": "irradiance_blur_strength"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Diffuse Multiplier"], "extent": [2479, 2499], "body": [{"type": "para", "indent": 4, "text": ["The diffuseBRDF contribution coefficient. Diffuse contribution formula: "], "extent": [2531, 2608]}, {"lang": null, "type": "pre", "indent": 4, "text": ["diffuseBRDF * irradiance_color * diffuse_intensity"], "extent": [2608, 2669]}, {"type": "para", "indent": 4, "text": ["This is then multiplied by the albedo_component."], "extent": [2669, 2732]}], "container": true, "attrs": {"id": "diffuse_intensity"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Albedo Multiplier"], "extent": [2732, 2751], "body": [{"type": "para", "indent": 4, "text": ["The albedo contribution coefficient. Albedo contribution formula: "], "extent": [2782, 2853]}, {"lang": null, "type": "pre", "indent": 4, "text": ["removeGamma(v@Cd) * albedo_intensity"], "extent": [2853, 2900]}], "container": true, "attrs": {"id": "albedo_intensity"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Specular Settings"], "extent": [2900, 2928], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Specular Frequency"], "extent": [2928, 2949], "body": [{"type": "para", "indent": 4, "text": ["Determines the number of polygons used for the specular map environment sphere. A higher frequency will sharper reflections."], "extent": [2982, 3116]}], "container": true, "attrs": {"id": "specular_frequency"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Specular Blur Strength"], "extent": [3116, 3140], "body": [{"type": "para", "indent": 4, "text": ["The amount to blur the specular map. A lower blur strength will produce sharper reflections."], "extent": [3177, 3279]}], "container": true, "attrs": {"id": "specular_blur_strength"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Specular Multiplier"], "extent": [3279, 3300], "body": [{"type": "para", "indent": 4, "text": ["The specular contribution coefficient. Specular contribution formula: "], "extent": [3333, 3408]}, {"lang": null, "type": "pre", "indent": 4, "text": ["specular_color * specular_intensity * (1-roughness)"], "extent": [3408, 3470]}, {"type": "para", "indent": 4, "text": ["Fresnel_component is then added."], "extent": [3470, 3517]}], "container": true, "attrs": {"id": "specular_intensity"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["IoR"], "extent": [3517, 3522], "body": [{"type": "para", "indent": 4, "text": ["Index of refraction is the change of direction that a beam of light takes as it moves from one medium to another. This is used to compute the fresnel contribution. "], "extent": [3540, 3718]}], "container": true, "attrs": {"id": "ior"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Fresnel Multuplier"], "extent": [3718, 3738], "body": [{"type": "para", "indent": 4, "text": ["The fresnel reflection contribution. Fresnel contribution formula: "], "extent": [3770, 3842]}, {"lang": null, "type": "pre", "indent": 4, "text": ["specular_color * fresnel_intensity * kr"], "extent": [3842, 3892]}, {"type": "para", "indent": 4, "text": ["Where ", {"type": "code", "text": ["kr"]}, " is the amount of reflected light determined by the ", {"type": "code", "text": ["fresnel"]}, " VEX function."], "extent": [3892, 3995]}], "container": true, "attrs": {"id": "fresnel_intensity"}, "role": "item"}], "container": true, "role": "item_group"}]}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [3995, 4004], "body": [{"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [3878, 3887], "body": [{"type": "para", "indent": 0, "text": ["General"], "extent": [3887, 3895]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_align_by_points-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_align_by_points-1.0.html"}], "extent": [3895, 3950]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_attribute_adjust-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_attribute_adjust-1.0.html"}], "extent": [3950, 4006]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_crop-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_crop-1.0.html"}], "extent": [4006, 4050]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_dbscan-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_dbscan-1.0.html"}], "extent": [4050, 4096]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_deform-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_deform-1.0.html"}], "extent": [4096, 4142]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_evaluate_spherical_harmonics-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_evaluate_spherical_harmonics-1.0.html"}], "extent": [4142, 4210]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_export-3.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_export-3.0.html"}], "extent": [4210, 4256]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_feature_analysis-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_feature_analysis-1.0.html"}], "extent": [4256, 4312]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_from_polygons-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_from_polygons-1.0.html"}], "extent": [4312, 4365]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_generate_training_data-2.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_generate_training_data-2.0.html"}], "extent": [4365, 4427]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_hald_clut-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_hald_clut-1.0.html"}], "extent": [4427, 4476]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_import-2.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_import-2.0.html"}], "extent": [4476, 4522]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_import_cameras-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_import_cameras-1.0.html"}], "extent": [4522, 4576]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_relight_ibl-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_relight_ibl-1.0.html"}], "extent": [4576, 4627]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_source-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_source-1.0.html"}], "extent": [4627, 4673]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_transform-1.1", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_transform-1.1.html"}], "extent": [4673, 4722]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_visualize_boxes-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_visualize_boxes-1.0.html"}], "extent": [4722, 4778]}], "container": true}, {"type": "para", "indent": 0, "text": ["Coarse Meshing"], "extent": [4778, 4793]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_apply_normals-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_apply_normals-1.0.html"}], "extent": [4793, 4846]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--splat_mesh_from_point_cloud-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--splat_mesh_from_point_cloud-1.0.html"}], "extent": [4846, 4897]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--splat_mesh_from_vdb-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--splat_mesh_from_vdb-1.0.html"}], "extent": [4897, 4940]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_prepare_for_vdb-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_prepare_for_vdb-1.0.html"}], "extent": [4940, 4995]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_vdb_slice-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_vdb_slice-1.0.html"}], "extent": [4995, 5044]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--VDB_from_gaussian_splats-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--VDB_from_gaussian_splats-1.0.html"}], "extent": [5044, 5093]}], "container": true}, {"type": "para", "indent": 0, "text": ["Toys"], "extent": [5093, 5098]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_advect-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_advect-1.0.html"}], "extent": [5098, 5144]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_font-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_font-1.0.html"}], "extent": [5144, 5188]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/gsop--gaussian_splats_jellify-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/gsop--gaussian_splats_jellify-1.0.html"}], "extent": [5188, 5234]}], "container": true}], "text": "Related"}], "text": "Related"}], "title": ["Gaussian Splats Relight IBL"], "summary": ["Relight Gaussian splat models using image-based lighting techniques."], "included": ["/nodes/sop/gsop--gaussian_splats_import-2.0"]}