{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "crowdmotionpathtransition", "icon": "SOP/crowdmotionpathtransition", "tags": "crowds, agents", "since": "20.0", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Crowd MotionPath Transition"], "extent": [136, 168]}, {"type": "summary", "indent": 0, "text": ["Blends an agent\u2019s motion path into a new animation clip."], "extent": [168, 233]}, {"type": "para", "indent": 0, "text": ["This SOP transitions agents from one animation clip to another, blending the agent\u2019s current motion path into a path built from the new clip\u2019s locomotion."], "extent": [233, 389]}, {"type": "para", "indent": 0, "text": ["See ", {"scheme": null, "value": "/crowds/sopcrowds", "type": "link", "text": ["SOP motion paths"], "fullpath": "/crowds/sopcrowds.html"}, " for more information on the SOP Crowds MotionPath toolset."], "extent": [389, 490]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [490, 502], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Group"], "extent": [502, 510], "body": [{"type": "para", "indent": 4, "text": ["The motion paths that transition into a new clip."], "extent": [525, 580]}], "container": true, "attrs": {"id": "group"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "text": [" Trigger "], "extent": [580, 596], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Trigger Group"], "extent": [596, 616], "body": [{"type": "para", "indent": 8, "text": ["For each motion path, the transition begins at the first point along the path that is in this group."], "extent": [642, 752]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 8, "role": "item", "extent": [752, 765], "body": [{"type": "para", "indent": 12, "text": ["The ", {"scheme": "Node", "value": "/nodes/sop/crowdmotionpathtrigger", "type": "link", "text": ["Crowd MotionPath Trigger SOP"], "fullpath": "/nodes/sop/crowdmotionpathtrigger.html"}, " can be used to create many common types of triggers."], "extent": [765, 898]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "triggergroup"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 4, "text": [" Combine Triggers "], "extent": [898, 927], "body": [{"type": "para", "indent": 4, "text": ["Combines the trigger with other existing triggers using boolean operations."], "extent": [2083, 2164]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Boolean Operation (left drop-down box)"], "extent": [2164, 2208], "body": [{"type": "para", "indent": 8, "text": ["The boolean operation to perform (", {"type": "ui", "text": ["Union (Or)"]}, ", ", {"type": "ui", "text": ["Intersect (And)"]}, ", ", {"type": "ui", "text": ["Exclusive Or"]}, ", or ", {"type": "ui", "text": ["Subtraction"]}, ")."], "extent": [2232, 2351]}], "container": true, "attrs": {"id": "operation2"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Comparison (middle drop-down box)"], "extent": [2351, 2390], "body": [{"type": "para", "indent": 8, "text": ["Specifies whether to the perform the boolean operation on the trigger groups in the right drop-down box (", {"type": "ui", "text": ["With"]}, "), or on all the trigger groups except those in the right drop-down box (", {"type": "ui", "text": ["With All But"]}, ")."], "extent": [2412, 2626]}], "container": true, "attrs": {"id": "negate2"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Trigger Group (right drop-down box)"], "extent": [2626, 2667], "body": [{"type": "para", "indent": 8, "text": ["A trigger or list of trigger group names."], "extent": [2694, 2745]}], "container": true, "attrs": {"id": "triggergroup2"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}, {"level": 3, "type": "sep", "indent": 4, "text": [" Random Delay "], "extent": [994, 1019], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Max Random Delay"], "extent": [1019, 1046], "body": [{"type": "para", "indent": 4, "text": ["When turned on, specifies the maximum delay (in seconds) between when the trigger evaluates to true and when the transition begins. This is useful to avoid having many agents start the transition at the same time. "], "extent": [5617, 5837]}], "container": true, "attrs": {"id": "randomstartoffset"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Random Seed"], "extent": [1147, 1168], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Max Random Delay"]}, " is turned on, this specifies the seed used when selecting a random delay time."], "extent": [5875, 5985]}], "container": true, "attrs": {"id": "randomstartseed"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}], "container": true}, {"level": 3, "type": "sep", "indent": 0, "text": [" Clips "], "extent": [1268, 1282], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Randomize Clips"], "extent": [1282, 1304], "body": [{"type": "para", "indent": 8, "text": ["When turned on, selects the agent\u2019s clip from a weighted random distribution of clips.\n        If ", {"type": "ui", "text": ["Use Clip Transition Graph"]}, " is turned on, clips are only considered if they can be reached through a sequence of transitions from the agent\u2019s current clip."], "extent": [1332, 1597]}], "container": true, "attrs": {"id": "randomizeclips"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Random Seed"], "extent": [1597, 1614], "body": [{"type": "para", "indent": 8, "text": ["The seed for randomly selecting clips when there are multiple ", {"type": "ui", "text": ["Clip Groups"]}, ", or when ", {"type": "ui", "text": ["Clip Names"]}, " is a list of clip names."], "extent": [2227, 2363]}], "container": true, "attrs": {"id": "randomclipnameseed"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Clip Groups"], "extent": [1696, 1713], "body": [{"type": "para", "indent": 8, "text": ["A weighted random distribution of clips to transition agents to."], "extent": [1742, 1816]}], "container": true, "attrs": {"id": "numclippatterns"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Clip Names"], "extent": [1816, 1832], "body": [{"type": "para", "indent": 8, "text": ["A string pattern that specifies one or more clip names.\n        The pattern follows the same syntax as the ", {"scheme": "Vex", "value": "/vex/functions/match", "type": "link", "text": ["match"], "fallback_text": "match()", "fullpath": "/vex/functions/match.html"}, " VEX function.\n        The ", {"type": "ui", "text": ["Weight"]}, " value for the group is divided evenly between the matching clips."], "extent": [2541, 2778]}], "container": true, "attrs": {"id": "clippattern_#"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Weight"], "extent": [1910, 1922], "body": [{"type": "para", "indent": 8, "text": ["Specifies how likely the clips are to be selected."], "extent": [2817, 2877]}], "container": true, "attrs": {"id": "clipweight_#"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Clip Name"], "extent": [1998, 2013], "body": [{"type": "para", "indent": 8, "text": ["The name of the clip to transition to."], "extent": [2035, 2083]}], "container": true, "attrs": {"id": "clipname"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Clip Speed"], "extent": [2083, 2099], "body": [{"type": "para", "indent": 8, "text": ["A multiplier for how fast the animation clip is played back."], "extent": [10645, 10715]}], "container": true, "attrs": {"id": "clipspeed"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Clip Speed Mode"], "extent": [2169, 2190], "body": [{"type": "para", "indent": 8, "text": ["Controls whether the clip speed is randomized or overridden by a point attribute on the input agents."], "extent": [3912, 4023]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Set Uniform"], "extent": [4023, 4044], "body": [{"type": "para", "indent": 12, "text": ["Each agent\u2019s clip speed is set to the ", {"type": "ui", "text": ["Clip Speed"]}, "."], "extent": [4044, 4111]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Set Varying"], "extent": [4111, 4132], "body": [{"type": "para", "indent": 12, "text": ["Each agent\u2019s clip speed is randomized according to the ", {"type": "ui", "text": ["Variance (%)"]}, " and ", {"type": "ui", "text": ["Variance Seed"]}, "."], "extent": [4132, 4240]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Use Attribute"], "extent": [4240, 4263], "body": [{"type": "para", "indent": 12, "text": ["Each agent\u2019s clip speed is set from a point attribute on the input geometry."], "extent": [4263, 4353]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "clipspeedmode"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Variance (%)"], "extent": [2268, 2286], "body": [{"type": "para", "indent": 8, "text": ["The percentage that the ", {"type": "ui", "text": ["Clip Speed"]}, " can be randomly increased or decreased by.\n        For example, if the ", {"type": "ui", "text": ["Clip Speed"]}, " is 0.7 and the ", {"type": "ui", "text": ["Variance"]}, " is 10%, the agents' clip speeds will be random values between 0.63 and 0.77."], "extent": [4403, 4642]}], "container": true, "attrs": {"id": "clipspeedvariance"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Variance Seed"], "extent": [2372, 2391], "body": [{"type": "para", "indent": 8, "text": ["When the ", {"type": "ui", "text": ["Clip Speed Mode"]}, " is set to ", {"type": "ui", "text": ["Set Varying"]}, ", this seed is used when randomly varying clip speeds."], "extent": [4689, 4807]}], "container": true, "attrs": {"id": "clipspeedseed"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Clip Speed Attribute"], "extent": [2469, 2495], "body": [{"type": "para", "indent": 8, "text": ["When the ", {"type": "ui", "text": ["Clip Speed Mode"]}, " is set to ", {"type": "ui", "text": ["Use Attribute"]}, ", this is the name of a float point attribute to set the clip speed from."], "extent": [4863, 5002]}], "container": true, "attrs": {"id": "clipspeedattrib"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Use Clip Transition Graph"], "extent": [2577, 2608], "body": [{"type": "para", "indent": 8, "text": ["When turned on, the agent\u2019s ", {"scheme": "Node", "value": "/nodes/sop/agentcliptransitiongraph", "type": "link", "text": ["clip transition graph"], "fullpath": "/nodes/sop/agentcliptransitiongraph.html"}, " may optionally be used to control transitions between animation clips.\n        This can be used to delay transitions until an appropriate point in the current animation clip, make use of intermediate transition clips, and provide information about how to smoothly blend into the new clip."], "extent": [2644, 3028]}, {"type": "para", "indent": 8, "text": ["Additionally, the clip transition graph allows per-clip control over this behavior, which is useful if the new clip is being randomly selected from a list of clips."], "extent": [3028, 3202]}, {"type": "para", "indent": 8, "text": ["The clip transition graph geometry is expected to be ", {"scheme": "Node", "value": "/nodes/sop/agentcliptransitiongraph#usage", "type": "link", "text": ["stored in the agent\u2019s shape library"], "fullpath": "/nodes/sop/agentcliptransitiongraph.html#usage", "fragment": "#usage"}, " as a shape named ", {"type": "code", "text": ["__transitiongraph__"]}, "."], "extent": [3202, 3382]}], "container": true, "attrs": {"id": "usecliptransitiongraph"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Blend Frames"], "extent": [3382, 3400], "body": [{"type": "para", "indent": 8, "text": ["When ", {"type": "ui", "text": ["Use Clip Transition Graph"]}, " is turned off, this is the number of frames over which to blend into the new animation clip."], "extent": [3425, 3562]}], "container": true, "attrs": {"id": "blendframes"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}, {"level": 3, "type": "sep", "indent": 0, "text": [" Attributes "], "extent": [3562, 3581], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["State Attribute"], "extent": [3581, 3603], "body": [{"type": "para", "indent": 8, "text": ["When turned on, this string point attribute is set to the ", {"type": "ui", "text": ["Output State"]}, " for the post-transition points on the motion paths.\n        This can be used to tag the affected points with a descriptive name for the agents' new state (for example, ", {"type": "code", "text": ["running"]}, ")."], "extent": [3628, 3892]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 8, "role": "item", "extent": [3892, 3905], "body": [{"type": "para", "indent": 12, "text": ["A group pattern such as ", {"type": "code", "text": ["@state=running"]}, " can be used to select points based on the value of this attribute."], "extent": [3905, 4026]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "stateattrib"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Output State"], "extent": [4026, 4044], "body": [{"type": "para", "indent": 8, "text": ["The new value of the ", {"type": "ui", "text": ["State Attribute"]}, " for any motion path points after the transition has completed."], "extent": [4069, 4182]}], "container": true, "attrs": {"id": "outputstate"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}], "text": "Parameters"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [4182, 4190], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Motion Paths"], "extent": [4190, 4205], "body": [{"type": "para", "indent": 4, "text": ["Polyline curves representing the paths of the agents over a time range."], "extent": [4205, 4282]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Agents"], "extent": [4282, 4290], "body": [{"type": "para", "indent": 4, "text": ["A crowd of agents whose motion is represented by the Motion Paths."], "extent": [4290, 4362]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [4362, 4371], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Motion Paths"], "extent": [4371, 4386], "body": [{"type": "para", "indent": 4, "text": ["Polyline curves representing the paths of the agents over a time range."], "extent": [4386, 4463]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Agents"], "extent": [4463, 4471], "body": [{"type": "para", "indent": 4, "text": ["A crowd of agents whose motion is represented by the Motion Paths."], "extent": [4471, 4543]}], "container": true}], "container": true}], "text": "Outputs"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [4543, 4552], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": null, "value": "/crowds/sopcrowds", "type": "link", "text": ["SOP motion paths"], "fullpath": "/crowds/sopcrowds.html"}], "extent": [4552, 4591]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/crowdmotionpath", "type": "link", "text": "", "fullpath": "/nodes/sop/crowdmotionpath.html"}], "extent": [4591, 4620]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/crowdmotionpathavoid", "type": "link", "text": "", "fullpath": "/nodes/sop/crowdmotionpathavoid.html"}], "extent": [4620, 4654]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/crowdmotionpathedit", "type": "link", "text": "", "fullpath": "/nodes/sop/crowdmotionpathedit.html"}], "extent": [4654, 4687]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/crowdmotionpathevaluate", "type": "link", "text": "", "fullpath": "/nodes/sop/crowdmotionpathevaluate.html"}], "extent": [4687, 4724]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/crowdmotionpathfollow", "type": "link", "text": "", "fullpath": "/nodes/sop/crowdmotionpathfollow.html"}], "extent": [4724, 4759]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/crowdmotionpathlayer", "type": "link", "text": "", "fullpath": "/nodes/sop/crowdmotionpathlayer.html"}], "extent": [4759, 4793]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/crowdmotionpathretime", "type": "link", "text": "", "fullpath": "/nodes/sop/crowdmotionpathretime.html"}], "extent": [4793, 4828]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/crowdmotionpathtrigger", "type": "link", "text": "", "fullpath": "/nodes/sop/crowdmotionpathtrigger.html"}], "extent": [4828, 4864]}], "container": true}], "text": "Related"}], "title": ["Crowd MotionPath Transition"], "summary": ["Blends an agent\u2019s motion path into a new animation clip."], "included": ["/destruction/sop_sim", "/nodes/dop/conetwistconrel", "/nodes/dop/crowdstate", "/nodes/dop/crowdtransition", "/nodes/dop/rbdpackedobject", "/nodes/dop/standard_bulletconstraint_parm", "/nodes/dop/standard_bulletdata_parm", "/nodes/dop/standard_conetwistconrelguide_parms", "/nodes/dop/standard_data_idparms", "/nodes/dop/standard_data_inputs", "/nodes/dop/standard_data_locals", "/nodes/dop/standard_data_outputs", "/nodes/dop/standard_data_parms", "/nodes/dop/standard_dataactive_parms", "/nodes/dop/standard_datagroup_parms", "/nodes/dop/standard_dataname_parms", "/nodes/dop/standard_dataop_parms", "/nodes/dop/standard_datashare_parms", "/nodes/dop/standard_locals", "/nodes/dop/standard_physparms", "/nodes/sop/crowdmotionpath", "/nodes/sop/crowdmotionpathtrigger", "/nodes/sop/rbdconfigure"]}