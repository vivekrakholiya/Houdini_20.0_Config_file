{"type": "root", "attrs": {"type": "node", "context": "sop", "icon": "POP/translation", "internal": "xform_by_points_ql", "version": "1", "namespace": "qLib"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Xform by Points qL"], "extent": [50, 73]}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["interface version 1"]}], "extent": [73, 97]}, {"type": "summary", "indent": 0, "text": ["Transforms geometry groups, using point cloud points for individual placement (PrimGroup family SOP)."], "extent": [97, 206]}, {"type": "para", "indent": 0, "text": ["This SOP takes a geometry consisting of multiple geometry groups (pieces), and transforms each piece\nusing point cloud(s), wherein each point represents a centroid for a corresponding piece."], "extent": [206, 398]}, {"type": "para", "indent": 0, "text": ["The input geometry should have an (usually per-primitive, called ", {"type": "code", "text": ["__origpt"]}, " \u2013 or ", {"type": "code", "text": ["piece"]}, " in H12) attribute that specifies\nan index number for each geometry element. This index is used to refer to a point with the same index\nin the point cloud \u2013 that point will be used for the transformation of the element."], "extent": [398, 709]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [709, 714], "body": [{"type": "para", "indent": 4, "text": ["A point cloud can be built using a ", {"scheme": "Node", "value": "/nodes/sop/qLib::primgroup_centroids_ql::1", "type": "link", "text": ["PrimGroup Centroids qL"], "exists": true}, " SOP.\n    Piece group indices can be generated using a ", {"scheme": "Node", "value": "/nodes/sop/qLib::primgroup_add_ids_ql::1", "type": "link", "text": ["PrimGroup Add IDs qL"], "exists": true}, "\n    node."], "extent": [714, 946]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Two point clouds are expected: ", {"type": "em", "text": ["rest"]}, " and ", {"type": "em", "text": ["transformation"]}, ". Transformation to each piece is applied\nusing the difference between the two. Rotations are implemented using an aim/up vector pair (can be\nadded to rest and transform both)."], "extent": [946, 1182]}, {"type": "para", "indent": 0, "text": ["A single point cloud can also be used by using the same cloud for both inputs and storing ", {"type": "code", "text": ["rest"]}, "\npositions for its points."], "extent": [1182, 1307]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1307, 1319], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Point Index Attribute"], "extent": [1319, 1347], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Index Attribute"], "extent": [1347, 1372], "body": [{"type": "para", "indent": 12, "text": ["Name of the (usually per-primitive) attribute that specifies which group the primitive\n            belongs to.\n            The default name is ", {"type": "code", "text": ["__origpt"]}, " (to be in accord with the ", {"scheme": "Node", "value": "/nodes/sop/voronoifracture", "type": "link", "text": "", "fullpath": "/nodes/sop/voronoifracture.html"}, " SOP).\n            In Houdini 12 the attribute is called ", {"type": "code", "text": ["piece"]}, " (and has to be explicitly enabled in the ", {"scheme": "Node", "value": "/nodes/sop/voronoifracture", "type": "link", "text": "", "fullpath": "/nodes/sop/voronoifracture.html"}, " SOP)."], "extent": [1372, 1730]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Convert to Per-Point Type"], "extent": [1730, 1765], "body": [{"type": "para", "indent": 12, "text": ["The index attribute needs to be of per-point type. If it is not, it has to be promoted\n            temporarily."], "extent": [1765, 1890]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Delete Index Attribute on Completion"], "extent": [1890, 1936], "body": [{"type": "para", "indent": 12, "text": ["Delete the converted index attribute after the transformations are done.\n            (For large amounts of geometry it can be faster ", {"type": "em", "text": ["not"]}, " to delete this attribute.)"], "extent": [1936, 2115]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Original Class, Promotion Method"], "extent": [2115, 2157], "body": [{"type": "para", "indent": 12, "text": ["Settings on how to promote the attribute."], "extent": [2157, 2225]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Transformation"], "extent": [2225, 2246], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Orient Mode"], "extent": [2246, 2267], "body": [{"type": "para", "indent": 16, "text": ["How to apply rotation on the pieces."], "extent": [2267, 2321]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 16, "text": ["Vector Pairs"], "extent": [2321, 2351], "body": [{"type": "para", "indent": 20, "text": ["Rotation is determined by two vectors for each point (an aim/up vector pair,\n                    e.g. ", {"type": "code", "text": ["N"]}, " or ", {"type": "code", "text": ["v"]}, " for aim and ", {"type": "code", "text": ["up"]}, " for up vector)."], "extent": [2351, 2518]}], "container": true}, {"type": "dt", "indent": 16, "text": ["Quaternion ('orient')"], "extent": [2518, 2557], "body": [{"type": "para", "indent": 20, "text": ["Rotation is determined by a per-point quaternion type (", {"type": "code", "text": ["vector4"]}, ") attribute.\n                    The default attribute name for this is ", {"type": "code", "text": ["orient"]}, " (it is supported throughout\n                    Houdini, from the Copy SOP to POP and DOP networks)."], "extent": [2557, 2824]}, {"type": "note_group", "body": [{"type": "note", "indent": 20, "role": "item", "extent": [2824, 2850], "body": [{"type": "para", "indent": 24, "text": ["For instance, if you set your DOPImport SOP to 'Create Points to Represent Objects'\n                        input style and use the Quaternion mode on this SOP, you\u2019ll get the exact\n                        same result as if the DOPImport node drove the geometry\n                        (but it will be faster, due to multithreading)."], "extent": [2850, 3209]}], "container": true}], "container": true, "role": "item_group"}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 8, "text": ["Rest Point Attributes"], "extent": [3209, 3245], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["Rest Position"], "extent": [3245, 3272], "body": [{"type": "para", "indent": 16, "text": ["Attribute that specifies the rest position (pivot) of each point cloud point\n                (hence each geometry piece)."], "extent": [3272, 3415]}, {"type": "para", "indent": 16, "text": ["Specify ", {"type": "code", "text": ["rest"]}, " here when using a single point cloud."], "extent": [3415, 3489]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Rest Aim Vector, Rest Up Vector"], "extent": [3489, 3534], "body": [{"type": "para", "indent": 16, "text": ["Attributes that specify rest orientation for each point.\n                Empty string means the appropriate default world axis direction."], "extent": [3534, 3689]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Rest Orient"], "extent": [3689, 3714], "body": [{"type": "para", "indent": 16, "text": ["Name of the orientation quaternion attribute to use for determining\n                the rotation component of the rest position."], "extent": [3714, 3860]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Scale, Uniform Scale"], "extent": [3860, 3894], "body": [{"type": "para", "indent": 16, "text": ["If enabled, the specified per-point attribute(s) will be used for specifying\n                the rest scale(s).\n                ", {"type": "q", "text": ["Scale"]}, " is 3-component float, ", {"type": "q", "text": ["Uniform Scale"]}, " is single-component."], "extent": [3894, 4106]}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 8, "text": ["Transform Point Attributes"], "extent": [4106, 4147], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["Position"], "extent": [4147, 4169], "body": [{"type": "para", "indent": 16, "text": ["Attribute that specifies the current position of each point cloud point\n                (hence each geometry piece). Translation is calculated by the difference of\n                this position and the rest position."], "extent": [4169, 4407]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Aim Vector, Up Vector"], "extent": [4407, 4442], "body": [{"type": "para", "indent": 16, "text": ["Attributes that specify the current orientation of each point.\n                Empty string means the appropriate default world axis direction."], "extent": [4442, 4607]}, {"type": "para", "indent": 16, "text": ["Rotation is calculated from the difference of the rest and the transform\n                aim and up vectors."], "extent": [4607, 4733]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Orient"], "extent": [4733, 4753], "body": [{"type": "para", "indent": 16, "text": ["Name of the orientation quaternion attribute to use for rotation."], "extent": [4753, 4840]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Scale, Uniform Scale"], "extent": [4840, 4874], "body": [{"type": "para", "indent": 16, "text": ["If enabled, the specified per-point attribute(s) will be used for specifying\n                scale component(s) of the transformation.\n                ", {"type": "q", "text": ["Scale"]}, " is 3-component float, ", {"type": "q", "text": ["Uniform Scale"]}, " is single-component."], "extent": [4874, 5109]}], "container": true}], "container": true}], "container": true}], "container": true}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [5109, 5123], "body": [{"type": "para", "indent": 16, "text": ["Scaling of individual pieces is not supported."], "extent": [5123, 5197]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [5197, 5206], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::primgroup_centroids_ql::1", "type": "link", "text": ["PrimGroup Centroids qL"], "exists": true}], "extent": [5206, 5278]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::primgroup_add_ids_ql::1", "type": "link", "text": ["PrimGroup Add IDs qL"], "exists": true}], "extent": [5278, 5346]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::orient_ql::1", "type": "link", "text": ["Orient qL"], "exists": true}], "extent": [5346, 5392]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/voronoifracture", "type": "link", "text": "", "fullpath": "/nodes/sop/voronoifracture.html"}], "extent": [5392, 5425]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/assemble", "type": "link", "text": "", "fullpath": "/nodes/sop/assemble.html"}], "extent": [5425, 5451]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/explodedview", "type": "link", "text": "", "fullpath": "/nodes/sop/explodedview.html"}], "extent": [5451, 5483]}], "container": true}], "text": "Related"}, {"level": 1, "id": "relnotes", "container": true, "type": "relnotes_section", "indent": 0, "text": ["Release Notes"], "role": "section", "extent": [5483, 5507], "body": [{"type": "para", "indent": 0, "text": [{"type": "em", "text": ["interface version 1"]}, " \u2014"], "extent": [5507, 5535]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["2014-08-18"], "extent": [5535, 5547], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["RIP \u2013 ", {"type": "q", "text": ["graveyarded"]}, ", in favor of ", {"scheme": "Node", "value": "/nodes/sop/xformpieces", "type": "link", "text": "", "fullpath": "/nodes/sop/xformpieces.html"}, "."], "extent": [5547, 5612]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-05-01"], "extent": [5612, 5624], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Minor fix: doesn\u2019t add ", {"type": "code", "text": ["N"]}, " attribute if not present in the input geometry (hackish fix)."], "extent": [5624, 5719]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Index attribute is now ", {"type": "code", "text": ["piece"]}, " by default"], "extent": [5719, 5767]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added ", {"type": "code", "text": ["Copy Template Point Attributes"]}, " option"], "extent": [5767, 5820]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-03-08"], "extent": [5820, 5832], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added support for scale attributes (three-axes and uniform)."], "extent": [5832, 5899]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Help card cleanups."], "extent": [5899, 5927]}], "container": true}], "container": true}], "container": true}, {"type": "para", "indent": 0, "text": [{"type": "em", "text": ["older versions"]}, " \u2014"], "extent": [5927, 5949]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Version 0.0.2"], "extent": [5949, 5964], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added per-point quaternion rotation support (orient attribute)."], "extent": [5964, 6034]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Various small internal cosmetics."], "extent": [6034, 6075]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["Version 0.0.1"], "extent": [6075, 6090], "body": [{"type": "para", "indent": 4, "text": ["Initial release."], "extent": [6090, 6111]}], "container": true}], "container": true}]}], "title": ["Xform by Points qL"], "summary": ["Transforms geometry groups, using point cloud points for individual placement (PrimGroup family SOP)."]}