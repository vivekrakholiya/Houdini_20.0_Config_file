{"type": "root", "attrs": {"icon": "TOOLS/render_region", "context": "sop", "type": "node", "internal": "camera_project_ql", "version": "1", "namespace": "qLib"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Camera Project qL"], "extent": [54, 76]}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["interface version 1"]}], "extent": [76, 100]}, {"type": "summary", "indent": 0, "text": ["Projection of 3D geometry to a perspective camera plane."], "extent": [100, 164]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/nodes/sop/qLib--camera_project_ql-1/camera_project_ql_sop_main.png", "type": "img", "text": ""}], "extent": [164, 211]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"type": "em", "text": ["Projecting a torus onto the near plane of a perspective camera."]}], "extent": [211, 280]}], "container": true}, {"type": "para", "indent": 0, "text": ["This node projects geometry to what\u2019s essentially ", {"type": "q", "text": ["screen space"]}, ", allowing\nrelated operations to be performed (such as measuring screen space distance\nof geometry, etc.)"], "extent": [280, 451]}, {"type": "para", "indent": 0, "text": ["The operator requires a source geometry and a perspective camera."], "extent": [451, 518]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/nodes/sop/qLib--camera_project_ql-1/camera_project_ql_sop_main_2.png", "type": "img", "text": ""}], "extent": [518, 567]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"type": "em", "text": ["The ", {"type": "q", "text": ["Camera Space"]}, " option aligns the camera plane and the results\n  with the world axes, providing ", {"type": "q", "text": ["real"]}, " 2d coordinates."]}], "extent": [567, 695]}], "container": true}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [695, 704], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/obj/cam", "type": "link", "text": "", "fullpath": "/nodes/obj/cam.html"}], "extent": [704, 725]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::camera_plane_ql::1", "type": "link", "text": ["Camera Plane qL"], "exists": true}], "extent": [725, 783]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::camera_frustrum_ql::1", "type": "link", "text": ["Camera Frustrum qL"], "exists": true}], "extent": [783, 849]}], "container": true}], "text": "Related"}, {"level": 1, "id": "Parameters", "container": true, "type": "Parameters_section", "indent": 0, "role": "section", "extent": [849, 861], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Camera"], "extent": [861, 873], "body": [{"type": "para", "indent": 8, "text": ["The camera to use for the projection.\n        (Currently only perspective cameras are supported.)"], "extent": [873, 980]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Near, Far Clipping"], "extent": [980, 1004], "body": [{"type": "para", "indent": 8, "text": ["Depth clipping distances. Geometry outside of these will be clipped\n        and not be projected."], "extent": [1004, 1111]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Overscan"], "extent": [1111, 1125], "body": [{"type": "para", "indent": 8, "text": ["Scale values of the camera plane (2D). They can be used to provide\n        an additional 2D margin, if necessary."], "extent": [1125, 1248]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Delete Backfacing Geometry"], "extent": [1248, 1280], "body": [{"type": "para", "indent": 8, "text": ["Delete all geometry components facing away from the camera\n        before doing the projection. The component type (primitive, point, edge)\n        can also be specified."], "extent": [1280, 1460]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Accurate Near/Far Clipping"], "extent": [1460, 1492], "body": [{"type": "para", "indent": 8, "text": ["If enabled, near/far clipping is performed using ", {"scheme": "Node", "value": "/nodes/sop/clip", "type": "link", "text": ["Clip SOPs"], "fullpath": "/nodes/sop/clip.html"}, ".\n        This can be useful if the geometry has low resolution,\n        or very accurate 2D contours are desired in the projected results."], "extent": [1492, 1715]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Keep Points Only"], "extent": [1715, 1737], "body": [{"type": "para", "indent": 8, "text": ["Delete all but the points from the source geometry.\n        This might help conserve resources with heavy input geometry."], "extent": [1737, 1868]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Keep Unprojectables"], "extent": [1868, 1893], "body": [{"type": "para", "indent": 8, "text": ["After projection, do ", {"type": "em", "text": ["not"]}, " delete geometry points that couldn\u2019t be\n        projected."], "extent": [1893, 1988]}, {"type": "para", "indent": 8, "text": ["(This is mostly for purposes of ", {"type": "q", "text": ["debugging"]}, " projection problems. Normally\n        it should be disabled, as it interferes with proper 2d projection.)"], "extent": [1988, 2147]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Projection Blend"], "extent": [2147, 2169], "body": [{"type": "para", "indent": 8, "text": ["This blends the ", {"type": "em", "text": ["Projected Geo"]}, " between its original and fully projected state."], "extent": [2169, 2258]}, {"type": "para", "indent": 8, "text": ["Note that this settings has to be (or very near) to ", {"type": "code", "text": ["1.0"]}, " to get accurate\n        2d results."], "extent": [2258, 2361]}], "container": true}, {"type": "dt", "indent": 4, "text": ["2d Padding"], "extent": [2361, 2377], "body": [{"type": "para", "indent": 8, "text": ["An additional padding (2D) applied to the boundary rectangle only."], "extent": [2377, 2453]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Output Space"], "extent": [2453, 2471], "body": [{"type": "para", "indent": 8, "text": ["Coordinate space of the projection results."], "extent": [2471, 2524]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Object Space"], "extent": [2524, 2546], "body": [{"type": "para", "indent": 12, "text": ["The resulting geometry will assume the transformations of the camera,\n            ending up the expected object (world) space position."], "extent": [2546, 2694]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Camera Space"], "extent": [2694, 2716], "body": [{"type": "para", "indent": 12, "text": ["The resulting geometry will be generated in camera local space\n            (it will ", {"type": "em", "text": ["not"]}, " contain any transformations from the camera)."], "extent": [2716, 2865]}, {"type": "para", "indent": 12, "text": ["In this space, the camera is assumed to be at the origin, looking\n            down the ", {"type": "code", "text": ["-Z"]}, " axis."], "extent": [2865, 2977]}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["Output Geometry Groups"], "extent": [2977, 3006], "body": [{"type": "para", "indent": 8, "text": ["These settings specify which geometry and attribute components should\n        be output. Geometry components are returned as primitive groups."], "extent": [3006, 3158]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["2D Position Attribute"], "extent": [3158, 3189], "body": [{"type": "para", "indent": 12, "text": ["Name of the normalized 2D (screen space) coordinates attribute\n            (generated as a result of the projection)."], "extent": [3189, 3319]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Projected Geo"], "extent": [3319, 3342], "body": [{"type": "para", "indent": 12, "text": ["The projected geometry itself."], "extent": [3342, 3385]}], "container": true}, {"type": "dt", "indent": 8, "text": ["2D Bounds"], "extent": [3385, 3404], "body": [{"type": "para", "indent": 12, "text": ["Geometry representing the 2d bounding rectangle of the projection results."], "extent": [3404, 3491]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Camera Plane"], "extent": [3491, 3513], "body": [{"type": "para", "indent": 12, "text": ["The camera plane the geometry was projected on."], "extent": [3513, 3573]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Pre-projection Geo"], "extent": [3573, 3601], "body": [{"type": "para", "indent": 12, "text": ["The geometry as it was right before the projection\n            (but after preprocessing \u2013 clipping, etc.)"], "extent": [3601, 3721]}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2D Boundary Values (Read Only)"], "extent": [3721, 3757], "body": [{"type": "para", "indent": 8, "text": ["These fields describe the resulting 2d bounding rectangle. They can be\n        used for linking to other parameters, expressions, etc."], "extent": [3757, 3901]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Overall validity"], "extent": [3901, 3927], "body": [{"type": "para", "indent": 12, "text": ["It has the value of ", {"type": "code", "text": ["1"]}, " if the projection has valid 2d bounding\n            box results. (All resulting values are invalid otherwise.)"], "extent": [3927, 4075]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Box Min, Max"], "extent": [4075, 4097], "body": [{"type": "para", "indent": 12, "text": ["Normalized screen-space coordinates of the corners\n            of the 2d bounding box."], "extent": [4097, 4197]}, {"type": "para", "indent": 12, "text": ["They're only valid if ", {"type": "code", "text": ["Overall Validity"]}, " is non-zero."], "extent": [4197, 4264]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Coverage"], "extent": [4264, 4282], "body": [{"type": "para", "indent": 12, "text": ["Percentage of how much the 2d bounding box covers screen space.\n            Value of ", {"type": "code", "text": ["1.0"]}, " means the entire screen is covered, ", {"type": "code", "text": ["0.0"]}, " is\n            for the geometry not visible at all."], "extent": [4282, 4480]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Checkbox (", {"type": "q", "text": ["Editable"]}, ")"], "extent": [4480, 4511], "body": [{"type": "para", "indent": 12, "text": ["Allows to edit the bounding box output-expressions.\n            (Normally there\u2019s no need to do that.)"], "extent": [4511, 4627]}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["Show Guides"], "extent": [4627, 4644], "body": [{"type": "para", "indent": 8, "text": ["Display the camera and its frustrum, the original object, etc. as guides."], "extent": [4644, 4728]}], "container": true}], "container": true}], "text": "Parameters"}, {"level": 1, "id": "todo", "container": true, "type": "todo_section", "indent": 0, "role": "section", "extent": [4728, 4734], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Extend ", {"type": "code", "text": ["Accurate Clipping"]}, " to use Clip SOPs for all sides of the frustrum"], "extent": [4734, 4814]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["2d positions (uv) should be much better ", {"type": "q", "text": ["normalized"]}, " regardless of overscan/padding settings"], "extent": [4814, 4915]}], "container": true}], "text": "Todo"}, {"level": 1, "id": "relnotes", "container": true, "type": "relnotes_section", "indent": 0, "text": ["Release Notes"], "role": "section", "extent": [4915, 4939], "body": [{"type": "para", "indent": 4, "text": [{"type": "em", "text": ["interface version 1"]}, " \u2014"], "extent": [4939, 4971]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["2015-02-16"], "extent": [4971, 4987], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Resaved for H14"], "extent": [4987, 5013]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Added new parameters:"], "extent": [5013, 5045], "body": [{"type": "bullet_group", "body": [{"blevel": 12, "type": "bullet", "indent": 10, "text": ["Show Guides"], "extent": [5045, 5069]}, {"blevel": 12, "type": "bullet", "indent": 10, "text": ["Delete Backfacing Geometry (with component type)"], "extent": [5069, 5130]}], "container": true}], "container": true}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["All Accurate Clipping/Keep Unprojectables combinations now work as expected"], "extent": [5130, 5216]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Other minor UI changes"], "extent": [5216, 5249]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Help card update, with images"], "extent": [5249, 5294]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2013-08-18"], "extent": [5294, 5310], "body": [{"type": "para", "indent": 8, "text": ["First version."], "extent": [5310, 5333]}], "container": true}], "container": true}]}], "title": ["Camera Project qL"], "summary": ["Projection of 3D geometry to a perspective camera plane."]}