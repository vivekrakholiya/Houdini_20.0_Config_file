{"type": "root", "attrs": {"icon": "/icons/MISC/present.svg", "type": "node", "context": "sop", "internal": "wrap", "version": "3.6.0", "namespace": "cfx"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Wrap"], "extent": [0, 9]}, {"type": "summary", "indent": 0, "text": [" Wrap geometry to an animated mesh "], "extent": [43, 86]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [86, 101], "body": [{"type": "para", "indent": 0, "text": ["The Wrap Deformer allows you to wrap your Geometry to an Animated Mesh.\nAs an alternative to the ", {"type": "strong", "text": ["Point Deform"]}, ", this node considers the surface orientation to build a full offset matrix.\nIt allows you to wrap to points, wires and polygons."], "extent": [101, 345]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["How to use"], "extent": [345, 364], "body": [{"type": "para", "indent": 0, "text": ["To wrap your geometry to an animation the easiest way is to:"], "extent": [364, 426]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["Wire the main geometry to the first input"], "extent": [426, 470]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Wire the animation reference pose to the second input"], "extent": [470, 526]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Wire the animated mesh to the third input"], "extent": [526, 571]}], "container": true}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Tips and tricks"], "extent": [571, 595], "body": [{"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [595, 601], "body": [{"type": "para", "indent": 4, "text": ["If the animation mesh provides a rest attribue, it can be used instead of the second input."], "extent": [601, 698]}], "container": true}, {"type": "tip", "indent": 0, "role": "item", "extent": [698, 703], "body": [{"type": "para", "indent": 4, "text": ["When wrapping around wires/hairs, an orient attribute can be provided for stable twist/turn.\n    This also supports mixed types, i.e. a vellum sim with cloth and hair, where only the hair comes with an orient."], "extent": [703, 919]}], "container": true}], "container": true, "role": "item_group"}]}]}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [919, 927], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Geo To Wrap"], "extent": [927, 941], "body": [{"type": "para", "indent": 4, "text": ["Geometry to modify"], "extent": [941, 964]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Driver Rest Pose"], "extent": [964, 982], "body": [{"type": "para", "indent": 4, "text": ["Reference pose of the animation mesh matching the main geometry in shape"], "extent": [982, 1059]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Driver"], "extent": [1059, 1067], "body": [{"type": "para", "indent": 4, "text": ["Animated geometry to wrap to"], "extent": [1067, 1105]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1105, 1117], "body": [{"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["General"], "extent": [1117, 1132], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Group"], "extent": [1132, 1140], "body": [{"type": "para", "indent": 4, "text": ["A subset of points in the input geometry to run the deformer on. Leave this blank to affect all points in the input."], "extent": [1140, 1261]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Group Type"], "extent": [1261, 1273], "body": [{"type": "para", "indent": 4, "text": ["What the group is made of."], "extent": [1273, 1304]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Envelope"], "extent": [1304, 1314], "body": [{"type": "para", "indent": 4, "text": ["Blends the influence of the deformer. 0 will bypass it completely."], "extent": [1314, 1385]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Visualize"], "extent": [1385, 1396], "body": [{"type": "para", "indent": 4, "text": ["Visualizes the influence area on the geometry. This is normalized."], "extent": [1396, 1467]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Show Guides"], "extent": [1467, 1480], "body": [{"type": "para", "indent": 4, "text": ["Display a guide visualization of the animation and reference pose."], "extent": [1480, 1557]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Assignment"], "extent": [1557, 1574], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Rest Pose Driver"], "extent": [1574, 1593], "body": [{"type": "para", "indent": 4, "text": ["Attribute on the driver geometry to use as rest pose. This can be used instead of the second input."], "extent": [1593, 1697]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Assume Static"], "extent": [1697, 1712], "body": [{"type": "para", "indent": 4, "text": ["Set whether the animation reference pose should be evaluated over time."], "extent": [1712, 1793]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [1793, 1802], "body": [{"type": "para", "indent": 8, "text": ["If you know your rest pose won\u2019t change, this can speed things up."], "extent": [1802, 1886]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Assign Pose Geo"], "extent": [1886, 1903], "body": [{"type": "para", "indent": 4, "text": ["Optional additional wrap pose to determine to which part of the animated geo to wrap.\n    This is only used to determine which point on the anim surface to wrap to, not to determine relative positioning."], "extent": [1903, 2116]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [2116, 2125], "body": [{"type": "para", "indent": 8, "text": ["This can improve the wrap when the rest pose is purposely animated. i.e. when wrapping the difference of animated and simulated mesh onto a render geo, this ensures a stable assignment."], "extent": [2125, 2324]}], "container": true}, {"type": "tip", "indent": 4, "text": ["        "], "role": "item", "extent": [2324, 2341], "body": [{"type": "para", "indent": 8, "text": ["It can also be useful when dealing with an overlapping reference pose on a single piece of geometry.\n        I.e. lips are going through each other, armpits with self intersections etc."], "extent": [2341, 2544]}, {"type": "para", "indent": 8, "text": ["If the overlap happens between indivudial pieces, use the ", {"type": "ui", "text": ["Pairing Attribute"]}, " option instead."], "extent": [2544, 2657]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Assign Pose Driver"], "extent": [2657, 2677], "body": [{"type": "para", "indent": 4, "text": ["Optional additional wrap pose to determine to which part of the main geo to wrap.\n    Same as ", {"type": "strong", "text": ["Assign Pose Geo"]}, " applies."], "extent": [2677, 2802]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Rigid Wrap / Rivet"], "extent": [2802, 2822], "body": [{"type": "para", "indent": 4, "text": ["Rigidly wraps the main geometry to the animated mesh.\n    This is similar to a rivet deformer."], "extent": [2822, 2926]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [2926, 2935], "body": [{"type": "para", "indent": 8, "text": ["This can be useful for wrapping rigid objects like buttons, armor plates to deforming objects."], "extent": [2935, 3047]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Deform"], "extent": [3047, 3060], "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Pre Transform Smooth"], "extent": [3060, 3088]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Mode"], "extent": [3088, 3094], "body": [{"type": "para", "indent": 4, "text": ["The mode chooses how to specify the size (or ", {"type": "q", "text": ["strength"]}, ") of each blurring iteration."], "extent": [3094, 3188]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Laplacian"], "extent": [3188, 3203], "body": [{"type": "para", "indent": 8, "text": ["Each iteration has the same size specified by the Step Size parameter"], "extent": [3203, 3290]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Volume Preserving"], "extent": [3290, 3313], "body": [{"type": "para", "indent": 8, "text": ["Iteration sizes are chosen to blur based on a noise frequency chosen by the Cutoff Frequency parameter"], "extent": [3313, 3424]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Iterations"], "extent": [3424, 3436], "body": [{"type": "para", "indent": 4, "text": ["The number of times the transform attribute is blurred before applying it. The higher the number, the more blurring."], "extent": [3436, 3557]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Step Size"], "extent": [3557, 3568], "body": [{"type": "para", "indent": 4, "text": ["Size of each iteration when ", {"type": "ui", "text": ["Mode"]}, " is set to ", {"type": "ui", "text": ["Laplacian"]}, "."], "extent": [3568, 3634]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Cutoff Frequency"], "extent": [3634, 3652], "body": [{"type": "para", "indent": 4, "text": ["Noise frequency to remove. The larger this value, the more it will keep the original shape of the geometry. This option controls the blur strength in ", {"type": "ui", "text": ["Volume Preserving"]}, " mode."], "extent": [3652, 3839]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}, {"level": 0, "type": "title", "indent": 0, "text": ["Post Transform Smooth"], "extent": [3839, 3863]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Smooth Iterations"], "extent": [3863, 3882], "body": [{"type": "para", "indent": 4, "text": ["The number of smoothing iterations to apply on the difference between input and output geometry. More iterations result in smoother results. Generally, more iterations are needed for the same amount of smoothing for geometry that has higher point counts at the same size."], "extent": [3882, 4158]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Smooth Step Size"], "extent": [4158, 4176], "body": [{"type": "para", "indent": 4, "text": ["The amount of smoothing applied for each iteration. Larger step sizes result in smoother results. If there are artifacts in the results, try using smaller step sizes along with more iterations (at the expense of longer cook times)."], "extent": [4176, 4413]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}, {"level": 0, "type": "title", "indent": 0, "text": ["Scaling"], "extent": [4413, 4423]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Scale Mode"], "extent": [4423, 4435], "body": [{"type": "para", "indent": 4, "text": ["Will adjust the distance from main geometry to anim reference pose according to the size change of the animated mesh."], "extent": [4435, 4562]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["None"], "extent": [4562, 4572], "body": [{"type": "para", "indent": 8, "text": ["No scaling applied. Distance to the anim surface will stay the same."], "extent": [4572, 4658]}], "container": true}, {"type": "dt", "indent": 4, "text": ["With Anim"], "extent": [4658, 4673], "body": [{"type": "para", "indent": 8, "text": ["Scales the distance to the anim mesh along with anim. If the anim mesh gets bigger, the main geo will too."], "extent": [4673, 4793]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 8, "role": "item", "extent": [4793, 4806], "body": [{"type": "para", "indent": 12, "text": ["The effect will become more prominent if the main geo is further away from the anim reference by intention.\n            Useful, if anim is scaling, but no ", {"type": "strong", "text": ["Global Scale"]}, " attribute was provided."], "extent": [4806, 5025]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 4, "text": ["Invert (Squash/Stretch)"], "extent": [5025, 5054], "body": [{"type": "para", "indent": 8, "text": ["Scales the distance to the anim mesh inverse to anim scale. If the anim mesh stretches, the main geo will come closer for a squash and stretch effect."], "extent": [5054, 5222]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 8, "role": "item", "extent": [5222, 5235], "body": [{"type": "para", "indent": 12, "text": ["When i.e. wrapping along a stretching/compressing line, this will ensure a constant volume of the main geo."], "extent": [5235, 5373]}], "container": true}], "container": true, "role": "item_group"}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Custom Scale"], "extent": [5373, 5387], "body": [{"type": "para", "indent": 4, "text": ["Per-point scale of the main geometry relative to distance to the animation reference pose.\n    It can be used in combination with ", {"type": "strong", "text": ["Scale Mode"]}, "."], "extent": [5387, 5540]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [5540, 5549], "body": [{"type": "para", "indent": 8, "text": ["If an animation ", {"type": "strong", "text": ["Global Scale"]}, " attribute is provided, it should be used here."], "extent": [5549, 5641]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Output"], "extent": [5641, 5654], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Attributes to Transform"], "extent": [5654, 5680], "body": [{"type": "para", "indent": 4, "text": ["Point and Vertex attributes that match this pattern will be transformed. Their Type Info will be used to determine how they should transform, as points, vectors, and normals all need different operations."], "extent": [5680, 5894]}, {"type": "para", "indent": 4, "text": ["If P matches this string, then primitive transforms will also be rotated."], "extent": [5894, 5972]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Recompute Affected Normals"], "extent": [5972, 6000], "body": [{"type": "para", "indent": 4, "text": ["Recomputes any normals that are affected by polygons that use both transformed and untransformed points. When transforming the full geometry or full connected components, the results should be the same as when this option is iff, i.e. the normals will just be transformed and not recomputed. This does nothing if P is not being transformed."], "extent": [6000, 6346]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overrides"], "extent": [6346, 6362], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Visualize Overrides"], "extent": [6362, 6384], "body": [{"type": "para", "indent": 4, "text": ["Toggles coloring of override patches."], "extent": [6384, 6431]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Pairing Attribute"], "extent": [6431, 6450], "body": [{"type": "para", "indent": 4, "text": ["When dealing with multiple pieces , this attribute can be used to determine matching pairs between main geometry and animation mesh pairs.\n    This can be a point or prim (Int or string) attribute on the main geo, but has to be a prim attribute on the anim geo."], "extent": [6450, 6717]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Enable All"], "extent": [6717, 6729], "body": [{"type": "para", "indent": 4, "text": ["Enable or disable manual assignment overrides globally"], "extent": [6729, 6788]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Overrides"], "extent": [6788, 6799], "body": [{"type": "para", "indent": 4, "text": ["Number of manual assignment overrides. An override is made of a pair of main geometry patch and anim geometry patch.\n    That way the main geo can be forced to wrap to a specific part of the animation."], "extent": [6799, 7010]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [7010, 7019], "body": [{"type": "para", "indent": 8, "text": ["This is the easiest way to fix wrapping artifacts like closed lips, intersecting armpits, overlapping cloth pieces etc."], "extent": [7019, 7152]}], "container": true}, {"type": "tip", "indent": 4, "role": "item", "extent": [7152, 7161], "body": [{"type": "para", "indent": 8, "text": ["The pair can be built from manual point/prim selection, from predefined groups or from attribute filters like name or uv-patch."], "extent": [7161, 7297]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Enable #"], "extent": [7297, 7307], "body": [{"type": "para", "indent": 4, "text": ["Toggle individual overrides"], "extent": [7307, 7339]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Geo #"], "extent": [7339, 7346], "body": [{"type": "para", "indent": 4, "text": ["What part of the main geo to apply the override on."], "extent": [7346, 7402]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Driver #"], "extent": [7402, 7412], "body": [{"type": "para", "indent": 4, "text": ["What part of the anim geo to limit the override to."], "extent": [7412, 7484]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [7484, 7493], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/pointdeform", "type": "link", "text": "", "fullpath": "/nodes/sop/pointdeform.html"}], "extent": [7493, 7519]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/wiredeform", "type": "link", "text": "", "fullpath": "/nodes/sop/wiredeform.html"}], "extent": [7519, 7543]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/xformbyattrib", "type": "link", "text": "", "fullpath": "/nodes/sop/xformbyattrib.html"}], "extent": [7543, 7569]}], "container": true}], "text": "Related"}], "title": ["Wrap"], "summary": [" Wrap geometry to an animated mesh "]}