{"type": "root", "attrs": {"icon": "CHOP/transformchain", "context": "sop", "type": "node", "internal": "curverefs_ql", "version": "1", "namespace": "qLib"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Curve Refs qL"], "extent": [54, 72]}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["interface version 1"]}], "extent": [72, 96]}, {"type": "summary", "indent": 0, "text": ["Generate ", {"type": "strong", "text": ["non-flipping"]}, " tangent/normal/up vectors for all points on (polygonal) curves."], "extent": [96, 191]}, {"type": "warning_group", "body": [{"type": "warning", "indent": 0, "role": "item", "extent": [191, 200], "body": [{"type": "para", "indent": 4, "text": ["This SOP is obsoleted, in favor of ", {"scheme": "Node", "value": "/nodes/sop/qLib::curve_frame_ql::1", "type": "link", "text": ["Curve Frame qL SOP"], "exists": true}, "."], "extent": [200, 295]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["This SOP generates reference frames (a set of three vectors that defines a local coordinate system)\nfor all curve points."], "extent": [295, 418]}, {"type": "para", "indent": 0, "text": ["The algorithm generates each reference frame incrementally from the previous one to avoid flipping.\nThis can be very useful where curves with 'on-curve orientation' information is needed\n(such as motion paths or hair curves)."], "extent": [418, 645]}, {"type": "para", "indent": 0, "text": ["The method is based on the paper ", {"type": "q", "text": ["Calculation of Reference Frames along a Space Curve"]}, " by Jules Bloomenthal\n(Graphics Gems, vol. 1)."], "extent": [645, 779]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [779, 784], "body": [{"type": "para", "indent": 4, "text": ["Although there won\u2019t be sudden ", {"type": "q", "text": ["flips"]}, " in vector directions along the curve,\n    the algorithm can be sensitive about the initial up vector direction, especially\n    if the curve is arbitrarily deformed."], "extent": [784, 993]}, {"type": "para", "indent": 4, "text": ["To avoid possible flipping of vectors on the ", {"type": "em", "text": ["entire curve"]}, ", generate an up vector\n    on the first curve point that has no sudden changes during animation, and use the\n    ", {"type": "q", "text": [{"type": "strong", "text": ["Up Vector from First Curve Point"]}]}, " option for ", {"type": "em", "text": ["Up Vector Mode"]}, "."], "extent": [993, 1237]}, {"type": "para", "indent": 4, "text": ["(This only applies for animated/deformed curves. It also doesn\u2019t matter in case\n    only the tangent vectors are used.)"], "extent": [1237, 1362]}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "Parameters", "container": true, "type": "Parameters_section", "indent": 0, "role": "section", "extent": [1362, 1374], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Mode"], "extent": [1374, 1384], "body": [{"type": "para", "indent": 8, "text": ["Method of generating the vectors for the input curve(s)."], "extent": [1384, 1450]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Use UV coordinates"], "extent": [1450, 1478], "body": [{"type": "para", "indent": 12, "text": ["The algorithm will derive on-curve 3d points based on curve parametrization (i.e. UV coordinates).\n            Valid UV texture mapping should be present on all curves to be processed."], "extent": [1478, 1676]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Assume linear curves"], "extent": [1676, 1706], "body": [{"type": "para", "indent": 12, "text": ["The algorithm will assume curve(s) with points that lie on the curve, and evenly distributed.\n            (Only linear curves can match both criteria.)"], "extent": [1706, 1871]}, {"type": "para", "indent": 12, "text": ["This mode tends to give better results. Its preferred inputs are ", {"scheme": "Node", "value": "/nodes/sop/resample", "type": "link", "text": ["resampled curves"], "fullpath": "/nodes/sop/resample.html"}, "."], "extent": [1871, 1987]}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["UV Attribute"], "extent": [1987, 2005], "body": [{"type": "para", "indent": 8, "text": ["A per-point UV attribute to build the reference frames from (only the U parameter is used).\n        This attribute can be generated with an ", {"scheme": "Node", "value": "/nodes/sop/texture", "type": "link", "text": "", "fullpath": "/nodes/sop/texture.html"}, " SOP."], "extent": [2005, 2178]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Up Vector Mode"], "extent": [2178, 2198], "body": [{"type": "para", "indent": 8, "text": ["The mode for determining the first up vector on each curve. It can either be a constant,\n        or the up vector value of the first vertex can be used (if present)."], "extent": [2198, 2373]}, {"type": "para", "indent": 8, "text": ["Make sure you read the TIP above."], "extent": [2373, 2416]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Up Vector"], "extent": [2416, 2431], "body": [{"type": "para", "indent": 8, "text": ["Vector value for the 'Constant' up vector mode."], "extent": [2431, 2488]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Outputs"], "extent": [2488, 2501], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Tangent"], "extent": [2501, 2518], "body": [{"type": "para", "indent": 12, "text": ["Name of the output tangent attribute (per-point vector)."], "extent": [2518, 2587]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Normal"], "extent": [2587, 2603], "body": [{"type": "para", "indent": 12, "text": ["Name of the output normal (bi-tangent) attribute (per-point vector)."], "extent": [2603, 2684]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Up"], "extent": [2684, 2696], "body": [{"type": "para", "indent": 12, "text": ["Name of the output up vector attribute (per-point vector)."], "extent": [2696, 2768]}], "container": true}], "container": true}], "container": true}], "container": true}], "text": "Parameters"}, {"level": 1, "id": "issues", "container": true, "type": "issues_section", "indent": 0, "text": ["Known issues"], "role": "section", "extent": [2768, 2789], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["The ", {"type": "code", "text": ["group"]}, " parameter does not work"], "extent": [2789, 2833]}], "container": true}]}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [2833, 2842], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/texture", "type": "link", "text": "", "fullpath": "/nodes/sop/texture.html"}], "extent": [2842, 2867]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/resample", "type": "link", "text": "", "fullpath": "/nodes/sop/resample.html"}], "extent": [2867, 2893]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::deformbysurface_ql::1", "type": "link", "text": ["Deform by Surface qL"], "exists": true}], "extent": [2893, 2961]}], "container": true}], "text": "Related"}, {"level": 1, "id": "relnotes", "container": true, "type": "relnotes_section", "indent": 0, "text": ["Release Notes"], "role": "section", "extent": [2961, 2985], "body": [{"type": "para", "indent": 0, "text": [{"type": "em", "text": ["interface version 1"]}, " \u2014"], "extent": [2985, 3013]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["2014-08-29"], "extent": [3013, 3025], "body": [{"type": "para", "indent": 4, "text": ["Obsoleted, in favor of ", {"scheme": "Node", "value": "/nodes/sop/qLib::curve_frame_ql::1", "type": "link", "text": ["Curve Frame qL SOP"], "exists": true}, "."], "extent": [3025, 3108]}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-02-21"], "extent": [3108, 3120], "body": [{"type": "para", "indent": 4, "text": ["Added ", {"type": "q", "text": ["Assume linear curve(s)"]}, " mode (requires evenly Resampled curves, but no UVs)"], "extent": [3120, 3208]}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-02-13"], "extent": [3208, 3220], "body": [{"type": "para", "indent": 4, "text": ["Minor changes (help card, etc.)"], "extent": [3220, 3258]}], "container": true}], "container": true}, {"type": "para", "indent": 0, "text": [{"type": "em", "text": ["older versions"]}, " \u2014"], "extent": [3258, 3280]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Version 0.0.1"], "extent": [3280, 3295], "body": [{"type": "para", "indent": 4, "text": ["Initial release."], "extent": [3295, 3316]}], "container": true}], "container": true}]}], "title": ["Curve Refs qL"], "summary": ["Generate ", {"type": "strong", "text": ["non-flipping"]}, " tangent/normal/up vectors for all points on (polygonal) curves."]}