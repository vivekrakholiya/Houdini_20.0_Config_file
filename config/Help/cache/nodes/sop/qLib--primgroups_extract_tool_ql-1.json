{"type": "root", "attrs": {"icon": "SHELF/extract_object", "context": "sop", "type": "node", "internal": "primgroups_extract_tool_ql", "version": "1", "namespace": "qLib"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["PrimGroups Extract Tool qL"], "extent": [55, 86]}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["interface version 1"]}], "extent": [86, 110]}, {"type": "summary", "indent": 0, "text": ["Build separate objects (or SOPs) from SOP geometry primitive groups."], "extent": [110, 186]}, {"type": "para", "indent": 0, "text": ["Given an input geometry with\nprimitive groups in it, this operator can extract these groups by either creating a new Geometry\nor a new Object Merge SOP for each group."], "extent": [186, 355]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/nodes/sop/qLib--primgroups_extract_tool_ql-1/primgroups_extract_tool_ql_main_sml.png", "type": "img", "text": ""}], "extent": [355, 411]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"type": "em", "text": ["Primitive groups extracted as GEO containers."]}, "\n  ", {"type": "em", "text": ["(The default file box is processed with an Assemble SOP, resulting in 7 primitive groups."]}, "\n  ", {"type": "em", "text": ["The extract tool created one GEO container for each group, in the OBJ network ", {"type": "q", "text": ["objnet1"]}, "."]}, "\n  ", {"type": "em", "text": ["Some of the resulting objects are rotated manually afterwards.)"]}], "extent": [411, 717]}], "container": true}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [717, 723], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Node creation, update and deletion is ", {"type": "strong", "text": ["not automatic"]}, ": they are performed ", {"type": "em", "text": ["when the\n      user presses the Build/Update button"]}, "."], "extent": [723, 859]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["The created objects and Object Merge SOPs have ", {"type": "q", "text": ["live"]}, " procedural connection to the\n      extract tool OP, so their geometry is automatically updated if the source geometry\n      is changed. Manual update is required only if the number of primitive groups changes."], "extent": [859, 1132]}], "container": true}], "container": true}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Notes"], "extent": [1132, 1144], "body": [{"type": "para", "indent": 0, "text": ["This operator behaves slightly differently than other SOPs (hence the ", {"type": "q", "text": ["Tool"]}, " naming).\nIt is more of a scene-management tool than a regular SOP."], "extent": [1144, 1290]}, {"type": "para", "indent": 0, "text": ["It is intended mostly for the purpose of helping geometry import/export between other\npackages."], "extent": [1290, 1387]}, {"type": "para", "indent": 0, "text": ["A few example scenarios:"], "extent": [1387, 1413]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["A rigid body fracture simulation has to be exported, but the application at the other\n  end requires a separate object for each fracture, and the only way it can be handled\n  if these groups are present as OBJ nodes in Houdini."], "extent": [1413, 1644], "body": [{"type": "bullet_group", "body": [{"blevel": 4, "type": "bullet", "indent": 2, "text": ["Solution: a new OBJ node is created for each RBD primitive group (using our tool)\n    in an OBJ network. These objects can now exported as required.\n    (See the associated example scene on how to apply simulation results as\n    transformation parameters on the OBJ level.)"], "extent": [1644, 1923]}], "container": true}], "container": true}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Geometry received in an esoteric CAD format, which imports as one large polymesh with\n  individual objects represented as primitive groups. For various purposes it is much\n  more desirable to have these groups as separate OBJ nodes in Houdini."], "extent": [1923, 2170]}], "container": true}, {"type": "para", "indent": 0, "text": ["(todo: finish these examples)"], "extent": [2170, 2202]}, {"type": "warning_group", "body": [{"type": "warning", "indent": 0, "role": "item", "extent": [2202, 2211], "body": [{"type": "para", "indent": 4, "text": ["It is ", {"type": "em", "text": ["not recommended"]}, " to use this tool for any procedural (e.g. regular Houdini) work\n    as the way it works opposes the regular procedural workflow of Houdini."], "extent": [2211, 2380]}], "container": true}], "container": true, "role": "item_group"}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Custom Object Merge SOPs"], "extent": [2380, 2413], "body": [{"type": "para", "indent": 0, "text": ["There is an option for explicitly specifying the operator type name of Object Merge SOPs.\nThis allows using of ", {"type": "q", "text": ["custom"]}, " Object Merge nodes (i.e. an user-defined digital asset, with\nthe same parameters as a regular Object Merge.)"], "extent": [2413, 2644]}, {"type": "para", "indent": 0, "text": ["Such an user-defined asset can be useful for various geometry processing that can\u2019t be\nperformed before the pieces' extraction."], "extent": [2644, 2773]}, {"type": "para", "indent": 0, "text": ["(A common example is creation/promotion of geometry detail attribute(s) with a different\nvalue for each resulting object: it cannot be done on the source geometry as all extracted\npieces would inherit the same attribute value. To work around this, a new user-defined SOP\ncan be created that performs the object merge, then the attribute creation.)"], "extent": [2773, 3122]}, {"type": "para", "indent": 0, "text": ["The following parameters are required on own Object Merge SOP variant(s) \u2013"], "extent": [3122, 3198]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"type": "code", "text": ["xformtype"]}, " (", {"type": "q", "text": [{"type": "em", "text": ["Transform"]}]}, " \u2013 for world/object space transformations)"], "extent": [3198, 3270]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"type": "code", "text": ["objpath1"]}, " (", {"type": "q", "text": [{"type": "em", "text": ["Object 1"]}]}, " \u2013 path to the geometry to merge)"], "extent": [3270, 3331]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"type": "code", "text": ["group1"]}, " (", {"type": "q", "text": [{"type": "em", "text": ["Group 1"]}]}, " \u2013 name of the primitive group to merge)"], "extent": [3331, 3397]}], "container": true}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [3397, 3402], "body": [{"type": "para", "indent": 4, "text": ["For a practical example, see the\n    ", {"scheme": "Node", "value": "/nodes/sop/qLib::primgroups_extract_piece_ql::1", "type": "link", "text": ["PrimGroups Extract Piece qL"], "exists": true}, "\n    operator."], "extent": [3402, 3535]}], "container": true}], "container": true, "role": "item_group"}]}]}, {"level": 1, "id": "Parameters", "container": true, "type": "Parameters_section", "indent": 0, "role": "section", "extent": [3535, 3547], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Created OPs"], "extent": [3547, 3566], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Group Pattern"], "extent": [3566, 3589], "body": [{"type": "para", "indent": 12, "text": ["The groups the new objects should be built for."], "extent": [3589, 3654]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Display Filter"], "extent": [3654, 3678], "body": [{"type": "para", "indent": 12, "text": ["Various 'display' modes to have visual feedback for the specified group pattern.\n            (The Group Pattern results are also displayed as guide geometry.)"], "extent": [3678, 3854]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Output Path"], "extent": [3854, 3875], "body": [{"type": "para", "indent": 12, "text": ["Path where the new nodes should be created."], "extent": [3875, 3931]}, {"type": "bullet_group", "body": [{"blevel": 14, "type": "bullet", "indent": 12, "text": ["If this points to an Object network (or subnet), a Geometry obj node will be created for each primitive group. (The geometry will also contain an Object Merge node that fetches only the group primitives.)"], "extent": [3931, 4150]}, {"blevel": 14, "type": "bullet", "indent": 12, "text": ["If this points in to a Geometry obj node, only Object Merge nodes will be created for each primitive group."], "extent": [4150, 4277]}], "container": true}], "container": true}, {"type": "dt", "indent": 8, "text": ["Create Subnet"], "extent": [4277, 4300], "body": [{"type": "para", "indent": 12, "text": ["This will create an additional subnet at the ", {"type": "em", "text": ["Output Path"]}, " to put the nodes into.\n            On cleanup, this subnet will also be deleted."], "extent": [4300, 4457]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Create Bundle"], "extent": [4457, 4480], "body": [{"type": "para", "indent": 12, "text": ["This will create a node bundle, and stores the operators for each piece.\n            (On cleanup the bundle will be deleted.)"], "extent": [4480, 4619]}, {"type": "bullet_group", "body": [{"blevel": 14, "type": "bullet", "indent": 12, "text": ["When creating Object nodes (e.g. ", {"type": "code", "text": ["/obj"]}, " level), the bundle will contain Obj nodes\n              (but not their contents)."], "extent": [4619, 4755]}, {"blevel": 14, "type": "bullet", "indent": 12, "text": ["When creating SOP (e.g. Object Merge) nodes, the bundle will contain these nodes."], "extent": [4755, 4856]}], "container": true}], "container": true}, {"type": "dt", "indent": 8, "text": ["Nodes Prefix"], "extent": [4856, 4878], "body": [{"type": "para", "indent": 12, "text": ["Name prefix for the nodes to be created."], "extent": [4878, 4933]}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["Object Merge SOPs"], "extent": [4933, 4957], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Transform Type"], "extent": [4957, 4981], "body": [{"type": "para", "indent": 12, "text": ["The 'Transform' parameter settings for Object Merge nodes."], "extent": [4981, 5057]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Explicit SOP Path"], "extent": [5057, 5084], "body": [{"type": "para", "indent": 12, "text": ["SOP Path to be set on Object Merge nodes.\n            (By default it\u2019s set to an expression that returns the input SOP of our PrimGroups Extract Tool SOP.)"], "extent": [5084, 5257]}, {"type": "para", "indent": 12, "text": ["If disabled, an ", {"type": "code", "text": ["opinputpath()"]}, " expression will be used, referring to this node\n            (i.e. it will automatically use the input of this node)."], "extent": [5257, 5423]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Relative Path"], "extent": [5423, 5446], "body": [{"type": "para", "indent": 12, "text": ["This flag indicates if a relative path should be set on the Object Merge nodes."], "extent": [5446, 5539]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Custom OP Type"], "extent": [5539, 5563], "body": [{"type": "para", "indent": 12, "text": ["This parameter allows to manually specify the type name of Object Merge SOPs\n            (for example to use an own Object Merge variant that does additional processing)."], "extent": [5563, 5752]}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": [{"type": "q", "text": ["Build/Update Objects"]}], "extent": [5752, 5780], "body": [{"type": "para", "indent": 8, "text": ["Pressing this button will create the new Objects and/or SOPs.\n        (Already existing nodes will also have their parameters updated, according to current node settings.)"], "extent": [5780, 5961]}], "container": true}, {"type": "dt", "indent": 4, "text": [{"type": "q", "text": ["Cleanup (Delete) Objects"]}], "extent": [5961, 5993], "body": [{"type": "para", "indent": 8, "text": ["This will delete all nodes created by this operator."], "extent": [5993, 6055]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Delete All Subnet Contents on Updates"], "extent": [6055, 6098], "body": [{"type": "para", "indent": 8, "text": ["This is relevant only if a subnet is specified."], "extent": [6098, 6155]}, {"type": "para", "indent": 8, "text": ["When doing any update (either build/update or cleanup), this will delete ", {"type": "em", "text": ["all"]}, " nodes within the subnet\n        (not just the primgroup-related ones). Use with care."], "extent": [6155, 6329]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Batch Mode (Suppress Dialogs)"], "extent": [6329, 6364], "body": [{"type": "para", "indent": 8, "text": ["If enabled, no informative dialog boxes will be displayed.\n        (This can be useful if the operation is part of a more complex ROP network, for example.)"], "extent": [6364, 6530]}, {"type": "para", "indent": 8, "text": ["Error message dialogs will ", {"type": "em", "text": ["not"]}, " be suppressed."], "extent": [6530, 6589]}], "container": true}], "container": true}], "text": "Parameters"}, {"level": 1, "id": "bugs", "container": true, "type": "bugs_section", "indent": 0, "text": ["Known Bugs"], "role": "section", "extent": [6589, 6606], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Creating Object Merge SOPs within SOP subnets is not currently supported (and results in a python error message)."], "extent": [6606, 6729]}], "container": true}]}, {"level": 1, "id": "todo", "container": true, "type": "todo_section", "indent": 0, "text": ["To Do"], "role": "section", "extent": [6729, 6741], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Fix the SOP subnet bug"], "extent": [6741, 6771]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Finish help card"], "extent": [6771, 6796]}], "container": true}]}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [6796, 6805], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::primgroups_extract_piece_ql::1", "type": "link", "text": ["PrimGroups Extract Piece qL SOP"], "exists": true}], "extent": [6805, 6893]}], "container": true}], "text": "Related"}, {"level": 1, "id": "relnotes", "container": true, "type": "relnotes_section", "indent": 0, "text": ["Release Notes"], "role": "section", "extent": [6893, 6917], "body": [{"type": "para", "indent": 4, "text": [{"type": "em", "text": ["interface version 1"]}, " \u2014"], "extent": [6917, 6949]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["2015-01-01"], "extent": [6949, 6965], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Error messages now also raise an ", {"type": "code", "text": ["hou.OperationFailed"]}, " exception (happy new year! :))"], "extent": [6965, 7062]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2014-11-28"], "extent": [7062, 7078], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Fixed another ", {"type": "q", "text": ["doesn\u2019t work as embedded asset"]}, " bug"], "extent": [7078, 7139]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Added support for bundles"], "extent": [7139, 7176]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2014-08-25"], "extent": [7176, 7192], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Added ", {"type": "q", "text": ["Batch Mode"]}, " toggle"], "extent": [7192, 7229]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2014-08-14"], "extent": [7229, 7245], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Renamed ", {"type": "q", "text": ["Rebuild"]}, " button (button_rebuild2  \u2192 button_rebuild)."], "extent": [7245, 7318]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2014-07-24"], "extent": [7318, 7334], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Added support for ", {"type": "em", "text": ["PrimGroup Extract Piece qL SOP"]}, "."], "extent": [7334, 7397]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2014-04-05"], "extent": [7397, 7413], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Newly created nodes now have a proper creator toolid user data"], "extent": [7413, 7486]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Object networks other than ", {"type": "code", "text": ["/obj"]}, " are now supported"], "extent": [7486, 7549]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2013-07-23"], "extent": [7549, 7565], "body": [{"type": "para", "indent": 8, "text": ["Added support for creating ", {"type": "q", "text": ["custom"]}, " Object Merge SOPs, by explicitly specifying the operator type name."], "extent": [7565, 7678]}], "container": true}, {"type": "dt", "indent": 4, "text": ["2013-07-07"], "extent": [7678, 7694], "body": [{"type": "para", "indent": 8, "text": ["Descriptive parm now displays correct output path (i.e. it includes target subnet, if enabled)."], "extent": [7694, 7799]}], "container": true}, {"type": "dt", "indent": 4, "text": ["2013-05-11"], "extent": [7799, 7815], "body": [{"type": "para", "indent": 8, "text": ["Added ", {"type": "q", "text": ["Create Subnet"]}, " parameter (some more thorough testing should follow to filter out possible bugs)."], "extent": [7815, 7928]}], "container": true}, {"type": "dt", "indent": 4, "text": ["2013-05-11"], "extent": [7928, 7944], "body": [{"type": "para", "indent": 8, "text": ["Added descriptive parm (info display in network view)."], "extent": [7944, 8008]}], "container": true}, {"type": "dt", "indent": 4, "text": ["2013-02-18"], "extent": [8008, 8024], "body": [{"type": "para", "indent": 8, "text": ["Now uses an ", {"type": "code", "text": ["opinputpath()"]}, " expression in created Object Merge SOP nodes."], "extent": [8024, 8107]}], "container": true}], "container": true}, {"type": "para", "indent": 4, "text": [{"type": "em", "text": ["older versions"]}, " \u2014"], "extent": [8107, 8133]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Version 0.1.0"], "extent": [8133, 8152], "body": [{"type": "para", "indent": 8, "text": ["Initial release."], "extent": [8152, 8178]}], "container": true}], "container": true}]}], "title": ["PrimGroups Extract Tool qL"], "summary": ["Build separate objects (or SOPs) from SOP geometry primitive groups."]}