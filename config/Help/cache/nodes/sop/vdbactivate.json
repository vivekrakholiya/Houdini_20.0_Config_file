{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "vdbactivate", "icon": "COMMON/openvdb", "since": "12.5", "verb_since": "16.5", "tags": "vdb, volumemix, vdbcombine, vdbvisualize", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["VDB Activate"], "extent": [152, 169]}, {"type": "summary", "indent": 0, "text": ["Activates voxel regions of a VDB for further processing."], "extent": [169, 234]}, {"type": "para", "indent": 0, "text": ["See ", {"scheme": null, "value": "/model/volumes", "type": "link", "text": ["volumes"], "fullpath": "/model/volumes.html"}, " for an explanation of standard volumes and OpenVDB volumes."], "extent": [16, 105]}, {"type": "para", "indent": 0, "text": ["Many volume operations, such as Volume Mix and Volume VOP, only process\nactive voxels in the sparse volume.  This can be a problem if you know a\ncertain area in space will evaluate to a non-zero value, but it is\ninactive in your original volume."], "extent": [258, 505]}, {"type": "para", "indent": 0, "text": ["The VDB Activate SOP provides tools for manipulating this active region.\nIt can also fill the newly added regions to a constant value, useful\nfor interactively determining what is changing."], "extent": [505, 696]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "text": [" To see the current active region, you can use the VDB Visualize SOP"], "role": "item", "extent": [696, 769], "body": [{"type": "para", "indent": 5, "text": ["and set it to Tree Nodes, Disabled; Active Constant Tiles, Wireframe Box; \n     and Active Voxels, Wireframe Box."], "extent": [769, 889]}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [889, 901], "body": [{"type": "para", "indent": 0, "text": ["See ", {"scheme": null, "value": "/model/volumes#group", "type": "link", "text": ["specifying volumes"], "fullpath": "/model/volumes.html#group", "fragment": "#group"}, "."], "extent": [901, 950]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Source Group"], "extent": [950, 964], "body": [{"type": "para", "indent": 4, "text": ["The vdb primitives to change the active region in."], "extent": [964, 1024]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Operation"], "extent": [1024, 1035], "body": [{"type": "para", "indent": 4, "text": ["The vdb\u2019s current region is combined with the specified region\n    in one of several ways."], "extent": [1035, 1131], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Union"], "extent": [1131, 1146], "body": [{"type": "para", "indent": 12, "text": ["All voxels that lie in the specified region will\n            be activated.  Other voxels will retain their original\n            activation states."], "extent": [1146, 1314]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Intersect"], "extent": [1314, 1333], "body": [{"type": "para", "indent": 12, "text": ["Any voxel not in the specified region will be deactivated\n            and set to the background value."], "extent": [1333, 1457]}], "container": true}, {"type": "dt", "indent": 8, "text": ["A - B"], "extent": [1457, 1472], "body": [{"type": "para", "indent": 12, "text": ["Any voxel that is in the specified region will be deactivated\n            and set to the background value."], "extent": [1472, 1600]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Copy"], "extent": [1600, 1614], "body": [{"type": "para", "indent": 12, "text": ["If a voxel is outside the specified region, it is set\n            to inactive and the background value.  If it is inside,\n            it is marked as active."], "extent": [1614, 1785]}], "container": true}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Value"], "extent": [1785, 1792], "body": [{"type": "para", "indent": 4, "text": ["In the Union and Copy modes, when voxels are marked active they can also be\n    initialized to a constant value.  This will be done to all voxels that are\n    made active by the specification - including those that were already\n    active."], "extent": [1792, 2037]}, {"type": "para", "indent": 4, "text": ["Thus, the Voxel Coordinates option will have the effect of setting a cube\n    area to a constant value."], "extent": [2037, 2146]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Position"], "extent": [2146, 2156], "body": [{"type": "para", "indent": 4, "text": ["This defines a cube in SOP space.  Any voxel that touches this\n    cube will be part of the selected region."], "extent": [2156, 2270]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Voxel"], "extent": [2270, 2277], "body": [{"type": "para", "indent": 4, "text": ["Defines minimum and maximum values of a box in voxel-coordinates.  This is\n    an inclusive range, so includes the maximum voxel. "], "extent": [2277, 2413]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Expand"], "extent": [2413, 2421], "body": [{"type": "para", "indent": 4, "text": ["Expand the active area by at least the specified number of voxels or distance. Does not support operation or setting of values."], "extent": [2421, 2554]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Reference"], "extent": [2554, 2565], "body": [{"type": "para", "indent": 4, "text": ["Uses the second input to determine the selected region."], "extent": [2565, 2626]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Bound Group"], "extent": [2626, 2643], "body": [{"type": "para", "indent": 8, "text": ["Which primitives of the second input contribute to the bounding box\n        computation."], "extent": [2643, 2741]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Activate Using VDBs"], "extent": [2741, 2766], "body": [{"type": "para", "indent": 8, "text": ["If turned on, only VDBs are used for activation.  They will activate\n        wherever they themselves are already active.  This can be used to\n        transfer the active region from one VDB to another, even if they are\n        not aligned."], "extent": [2766, 3016]}, {"type": "para", "indent": 8, "text": ["If turned off, the bounding box of the chosen primitives are used\n        instead and activated as if they were specified as World Positions."], "extent": [3016, 3167]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Activate Using Convex Hull"], "extent": [3167, 3199], "body": [{"type": "para", "indent": 8, "text": ["If turned on, the convex hull of the points is used for\n        activation."], "extent": [3199, 3284]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Convex Hull Group"], "extent": [3284, 3307], "body": [{"type": "para", "indent": 8, "text": ["The subset of points to build a convex hull from.  Voxels\n        within the convex hull of these points will use the activation\n        rules."], "extent": [3307, 3460]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Voxel Offset"], "extent": [3460, 3478], "body": [{"type": "para", "indent": 8, "text": ["Amount of voxels to expand the convex hull by before activation.\n        Negative values will shrink the convex hull."], "extent": [3478, 3605]}, {"type": "para", "indent": 8, "text": ["NOTE: This is done by offsetting the half planes, so corners\n        will not be accurate."], "extent": [3605, 3705]}], "container": true}, {"type": "dt", "indent": 4, "text": ["World Offset"], "extent": [3705, 3723], "body": [{"type": "para", "indent": 8, "text": ["Amount to expand the convex hull by before activation.\n        Negative values will shrink the convex hull."], "extent": [3723, 3840]}, {"type": "para", "indent": 8, "text": ["NOTE: This is done by offsetting the half planes, so corners\n        will not be accurate."], "extent": [3840, 3940]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Deactivate"], "extent": [3940, 3952], "body": [{"type": "para", "indent": 4, "text": ["Any voxels that have the background value will be deactivated.  This\n    is useful for cleaning up the result of an operation that may\n    have speculatively activated a large band of voxels, but may\n    not have placed non-background values in all of them."], "extent": [3952, 4215]}, {"type": "para", "indent": 4, "text": ["For example, you may have a VDB Activate before a Volume VOP\n    with Expand turned on to ensure you have room to displace the volume.\n    Then when you are done, you can use one with Deactivate to free\n    up the voxels you didn\u2019t need to use."], "extent": [4215, 4466]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Deactivate Tolerance"], "extent": [4466, 4492], "body": [{"type": "para", "indent": 8, "text": ["How close voxels need to be to the background value before\n        they are deactivated.  Often blurs, etc, may have border\n        voxels become just slightly non-zero, so allowing for some\n        tolerance can keep the active region from expanding.  The\n        test is less than or equal to; so zero will deactivate those\n        voxels exactly equal to the background value."], "extent": [4492, 4881]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Fill SDF"], "extent": [4881, 4891], "body": [{"type": "para", "indent": 4, "text": ["Any voxels that are inside the SDF will be marked active.  If they\n    were previously inactive, they will be set to the negative-background\n    values.   Tiles will remain sparse in this process."], "extent": [4891, 5093]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Prune Tolerance"], "extent": [5093, 5110], "body": [{"type": "para", "indent": 4, "text": ["After building the VDB grid there may be undetected constant tiles.\n    This tolerance is used to detect constant regions and collapse them.\n    Such areas that are within the background value will also be marked\n    inactive."], "extent": [5110, 5342]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [5342, 5351], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/vdb", "type": "link", "text": "", "fullpath": "/nodes/sop/vdb.html"}], "extent": [5351, 5369]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/vdbactivatesdf", "type": "link", "text": "", "fullpath": "/nodes/sop/vdbactivatesdf.html"}], "extent": [5369, 5397]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/volumevop", "type": "link", "text": "", "fullpath": "/nodes/sop/volumevop.html"}], "extent": [5397, 5420]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/volumemix", "type": "link", "text": "", "fullpath": "/nodes/sop/volumemix.html"}], "extent": [5420, 5444]}], "container": true}], "text": "Related"}], "title": ["VDB Activate"], "summary": ["Activates voxel regions of a VDB for further processing."], "included": ["/nodes/sop/volume_types"]}