{"type": "root", "attrs": {"icon": "VOP/neighbourcount", "context": "sop", "type": "node", "internal": "distribute_ql", "version": "2", "namespace": "qLib"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Distribute qL"], "extent": [53, 71]}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["interface version 2"]}], "extent": [71, 95]}, {"type": "summary", "indent": 0, "text": ["Distribute (relax) points in space so they will keep given distances between each other."], "extent": [95, 191]}, {"type": "para", "indent": 0, "text": ["This node considers each point to be a sphere with a given radius, and arranges them so\nthey wouldn\u2019t intersect."], "extent": [191, 305]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/nodes/sop/qLib--distribute_ql-2/distribute_ql_sop_main.png", "type": "img", "text": ""}], "extent": [305, 348]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"type": "em", "text": ["Distribution of points on a plane, based on a per-point random "]}, {"type": "code", "text": ["pscale"]}, {"type": "em", "text": [" attribute."]}, "\n  ", {"type": "em", "text": ["(The values are generated with an"]}, " ", {"scheme": "Node", "value": "/nodes/sop/qLib::attrib_builder_ql::1", "type": "link", "text": ["Attrib Builder qL SOP"], "exists": true}, {"type": "em", "text": [","]}, "\n  ", {"type": "em", "text": ["and visualized as circles using an "]}, {"scheme": "Node", "value": "/nodes/sop/qLib::attr_visualize_ql::1", "type": "link", "text": ["Attr Visualize qL SOP"], "exists": true}, {"type": "em", "text": [".)"]}], "extent": [348, 643]}], "container": true}, {"level": 1, "id": "Inputs", "container": true, "type": "Inputs_section", "indent": 0, "role": "section", "extent": [643, 651], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Points to Distribute"], "extent": [651, 677], "body": [{"type": "para", "indent": 8, "text": ["Points to be distributed (relaxed)."], "extent": [677, 722]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Projection Geometry (optional)"], "extent": [722, 758], "body": [{"type": "para", "indent": 8, "text": ["An optional (polygonal) geometry to project the points back onto during relaxation.\n        There are several ways to reduce the expense of this operation (see ", {"type": "em", "text": ["Ray Every N-th"]}, "\n        or ", {"type": "em", "text": ["Keep Inside"]}, " below.)"], "extent": [758, 977]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Projection SDF (optional)"], "extent": [977, 1008], "body": [{"type": "para", "indent": 8, "text": ["This is for a manually-built SDF field for ", {"type": "em", "text": ["Keep Inside"]}, " (see below)."], "extent": [1008, 1087]}, {"type": "para", "indent": 8, "text": ["Although the function can build an SDF for itself for straightforward cases,\n        this input might come in handy when dealing with a more complex projection surface."], "extent": [1087, 1266]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "Parameters", "container": true, "type": "Parameters_section", "indent": 0, "role": "section", "extent": [1266, 1278], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Point Group"], "extent": [1278, 1295], "body": [{"type": "para", "indent": 8, "text": ["Points to distribute."], "extent": [1295, 1326]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Envelope"], "extent": [1326, 1340], "body": [{"type": "para", "indent": 8, "text": ["Overall effect on all points.\n        Blends between the original and the end result."], "extent": [1340, 1434]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Weight Name"], "extent": [1434, 1451], "body": [{"type": "para", "indent": 8, "text": ["Name of the weighting attribute for the effect (per-point float)."], "extent": [1451, 1525]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Inverse"], "extent": [1525, 1538], "body": [{"type": "para", "indent": 8, "text": ["Use the inverse of weighting attribute values."], "extent": [1538, 1594]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Radius Attribute"], "extent": [1594, 1616], "body": [{"type": "para", "indent": 8, "text": ["Name of the attribute that represents the radius values of each point."], "extent": [1616, 1696]}, {"type": "para", "indent": 8, "text": ["If this is disabled (or the attribute doesn\u2019t exist), the other radius\n        settings will be used (see below)."], "extent": [1696, 1819]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [1819, 1833], "body": [{"type": "para", "indent": 12, "text": ["This per-point attribute always takes precedence over the other radius\n            settings, so if either ", {"type": "em", "text": ["Radius"]}, " or ", {"type": "em", "text": ["Radius Factor"]}, " is to be used,\n            this parameter has to be switched off."], "extent": [1833, 2046]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 4, "text": ["Radius Mult"], "extent": [2046, 2063], "body": [{"type": "para", "indent": 8, "text": ["A multiplier on ", {"type": "em", "text": ["Radius Attribute"]}, " values."], "extent": [2063, 2115]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Radius"], "extent": [2115, 2127], "body": [{"type": "para", "indent": 8, "text": ["An uniform point radius, in case the ", {"type": "em", "text": ["Radius Attribute"]}, " doesn\u2019t exist (or disabled)."], "extent": [2127, 2221]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Radius Factor"], "extent": [2221, 2240], "body": [{"type": "para", "indent": 8, "text": ["If enabled, an automatic radius is calculated for a roughly-optimal point distribution.\n        The ", {"type": "em", "text": ["Radius Factor"]}, " is a multiplier on this calculated radius."], "extent": [2240, 2408]}, {"type": "para", "indent": 8, "text": ["The radius is calculated based on the number of points\n        and the overall surface area of the projection geometry (2nd input)."], "extent": [2408, 2550]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Iterations"], "extent": [2550, 2566], "body": [{"type": "para", "indent": 8, "text": ["Number of iterations. Higher values give more regular distributions but longer calculation times."], "extent": [2566, 2673]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 8, "role": "item", "extent": [2673, 2686], "body": [{"type": "para", "indent": 12, "text": ["Keep increasing this gradually until you reach the desired result."], "extent": [2686, 2766]}, {"type": "para", "indent": 12, "text": ["You can try to keep increasing the radius instead, which can also improve results and much faster\n            (especially with many points)."], "extent": [2766, 2920]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 4, "text": ["Max Neighbours"], "extent": [2920, 2940], "body": [{"type": "para", "indent": 8, "text": ["The maximum number of nearby points that influences the new position of a point during each iteration."], "extent": [2940, 3052]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Grow Radii Gradually"], "extent": [3052, 3078], "body": [{"type": "para", "indent": 8, "text": ["Gradually increase point radii at each iteration.\n        This might help points to get to otherwise unreachable locations\n        (and an overall smoother distribution)."], "extent": [3078, 3258]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Project Back on Geometry"], "extent": [3258, 3288], "body": [{"type": "para", "indent": 8, "text": ["Projects (", {"type": "q", "text": ["rays"]}, ") points back to the geometry connected to the second input."], "extent": [3288, 3374]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Project Every Nth"], "extent": [3374, 3397], "body": [{"type": "para", "indent": 8, "text": ["Only project every ", {"type": "em", "text": ["n"]}, "-th iteration and the last one."], "extent": [3397, 3460]}, {"type": "para", "indent": 8, "text": ["Regardless of this value, the last iteration will\n        always be projected back."], "extent": [3460, 3553]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Ray Intersection Normal"], "extent": [3553, 3582], "body": [{"type": "para", "indent": 8, "text": ["Have points inherit the geometry normals of the ray surface."], "extent": [3582, 3652]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Ray Group"], "extent": [3652, 3667], "body": [{"type": "para", "indent": 8, "text": ["Group of points to project back on the surface."], "extent": [3667, 3724]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Keep Inside"], "extent": [3724, 3741], "body": [{"type": "para", "indent": 8, "text": ["Points that are on the ray surface (or within the ray geometry)\n        will not be projected back further."], "extent": [3741, 3858]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [3858, 3872], "body": [{"type": "para", "indent": 12, "text": ["This provides way faster surface projection, but it requires\n            either a ", {"type": "q", "text": ["watertight"]}, " enclosed geometry (for SDF generation),\n            or an equivalent SDF field in the 3rd input."], "extent": [3872, 4077]}, {"type": "para", "indent": 12, "text": ["It can also be slightly less accurate than projecting all points\n            (depending on the SDF resolution and quality)."], "extent": [4077, 4214]}], "container": true}], "container": true, "role": "item_group"}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["SDF Div. Size"], "extent": [4214, 4237], "body": [{"type": "para", "indent": 12, "text": ["Division (voxel) size of the generated SDF."], "extent": [4237, 4294]}, {"type": "para", "indent": 12, "text": ["(An SDF field is automatically generated if ", {"type": "em", "text": ["Keep Inside"]}, "\n            is enabled and no SDF specified in the 3rd input.\n            It is built using a ", {"scheme": "Node", "value": "/nodes/sop/vdbfrompolygons", "type": "link", "text": "", "fullpath": "/nodes/sop/vdbfrompolygons.html"}, " node.)"], "extent": [4294, 4507]}], "container": true}], "container": true}], "container": true}], "container": true}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [4507, 4516], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::scatter_ql::1", "type": "link", "text": ["Scatter qL SOP"], "exists": true}], "extent": [4516, 4568]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/scatter", "type": "link", "text": "", "fullpath": "/nodes/sop/scatter.html"}], "extent": [4568, 4593]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::ray_ql::1", "type": "link", "text": ["Ray qL SOP"], "exists": true}], "extent": [4593, 4637]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/ray", "type": "link", "text": "", "fullpath": "/nodes/sop/ray.html"}], "extent": [4637, 4658]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/vdbfrompolygons", "type": "link", "text": "", "fullpath": "/nodes/sop/vdbfrompolygons.html"}], "extent": [4658, 4694]}], "container": true}], "text": "Related"}, {"level": 1, "id": "todo", "container": true, "type": "todo_section", "indent": 0, "text": ["To Do"], "role": "section", "extent": [4694, 4706], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Ray Every N-th and Keep Inside don\u2019t behave well together, look into it"], "extent": [4706, 4784]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Further clean up of UI (especially radius attrib vs const radius)"], "extent": [4784, 4859]}], "container": true}]}, {"level": 1, "id": "relnotes", "container": true, "type": "relnotes_section", "indent": 0, "text": ["Release Notes"], "role": "section", "extent": [4859, 4883], "body": [{"type": "para", "indent": 4, "text": [{"type": "em", "text": ["interface version 2"]}, " \u2014"], "extent": [4883, 4915]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["2016-07-24"], "extent": [4915, 4931], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Didn\u2019t work in H15+, fixed"], "extent": [4931, 4968]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Unique-ed the loop variable of inner foreach subnet"], "extent": [4968, 5035]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2015-03-03"], "extent": [5035, 5051], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Resaved for H14"], "extent": [5051, 5077]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Minor UI (parm label) changes"], "extent": [5077, 5122]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2014-11-25"], "extent": [5122, 5138], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Now uses a VDB SDF internally (if needed)"], "extent": [5138, 5190]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["More verbose parameter names, more elaborate help"], "extent": [5190, 5250]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Various minor UI enhancements"], "extent": [5250, 5291]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2014-11-23"], "extent": [5291, 5307], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Bug fix: 3rd (SDF) input wasn\u2019t used internally. Fixed."], "extent": [5307, 5374]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2014-03-14"], "extent": [5374, 5390], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Added ", {"type": "em", "text": ["Radius Mult %"]}, " parameter"], "extent": [5390, 5432]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Added image to help card"], "extent": [5432, 5468]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2013-12-23"], "extent": [5468, 5484], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Replaced internal distribution code into a VEX snippet"], "extent": [5484, 5549]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Added ", {"type": "em", "text": ["Radius Attribute"]}, " parameter (allows other attributes than ", {"type": "code", "text": ["pscale"]}, ")\n        NOTE:"], "extent": [5549, 5648], "body": [{"type": "para", "indent": 12, "text": ["All point placement behaviour should be ", {"type": "em", "text": ["exactly"]}, " the same as with\n            the previous version. (The version bump is just a precaution.)"], "extent": [5648, 5803]}], "container": true}], "container": true}], "container": true}], "container": true}, {"type": "para", "indent": 4, "text": [{"type": "em", "text": ["interface version 1"]}, " \u2014"], "extent": [5803, 5834]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["2013-12-23"], "extent": [5834, 5850], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Added standard deformer weighting parameters"], "extent": [5850, 5905]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Minor internal cleanups (another try of getting (rid of) N right\u2026)"], "extent": [5905, 5985]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2013-03-07 (gadfly16)"], "extent": [5985, 6012], "body": [{"type": "para", "indent": 8, "text": ["Basic support of distributing inside a boundary surface added."], "extent": [6012, 6084]}], "container": true}], "container": true}, {"type": "para", "indent": 4, "text": [{"type": "em", "text": ["older versions"]}, " \u2014"], "extent": [6084, 6110]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Version 0.1.4"], "extent": [6110, 6129], "body": [{"type": "para", "indent": 8, "text": ["Bug fix: normals were zeroed out even if shouldn\u2019t have been. Fixed."], "extent": [6129, 6207]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Version 0.1.3"], "extent": [6207, 6226], "body": [{"type": "para", "indent": 8, "text": ["Point Group added. Caculate Radius added. Ray Every Nth added."], "extent": [6226, 6298]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Version 0.1.2"], "extent": [6298, 6317], "body": [{"type": "para", "indent": 8, "text": ["Ray Goup parameter added. Linked back Ray Intersection Normal."], "extent": [6317, 6389]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Version 0.1.1"], "extent": [6389, 6408], "body": [{"type": "para", "indent": 8, "text": ["Exposed the Point Intersection Normal parameter of the Ray SOP. It\u2019s label is Ray Intersection Normal for\n        clarity."], "extent": [6408, 6540]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Version 0.1.0"], "extent": [6540, 6559], "body": [{"type": "para", "indent": 8, "text": ["Initial release. While it\u2019s really not ready, it\u2019s usable."], "extent": [6559, 6626]}], "container": true}], "container": true}]}], "title": ["Distribute qL"], "summary": ["Distribute (relax) points in space so they will keep given distances between each other."]}