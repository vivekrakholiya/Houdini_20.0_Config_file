{"type": "root", "attrs": {"type": "node", "context": "sop", "icon": "SHELF/whitewater", "internal": "whitewatersource::3.0", "version": "3.0", "since": "20.0", "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Whitewater Source"], "extent": [111, 133]}, {"type": "summary", "indent": 0, "text": [" Generates the emission field for whitewater simulations. "], "extent": [133, 200]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [200, 215], "body": [{"type": "para", "indent": 0, "text": ["The Whitewater Source SOP generates an emission field used by the ", {"scheme": "Node", "value": "/nodes/sop/whitewatersolver", "type": "link", "text": ["Whitewater Solver"], "fullpath": "/nodes/sop/whitewatersolver.html"}, " to spawn particles. The values in the emission field determine if whitewater will appear at that point. You can approximate the amount and location of the newly-created whitewater by visualizing the generated ", {"type": "code", "text": ["emit"]}, " VDB: the fog\u2019s density is directly related to the birth rate. This node can also source whitewater particles using the same method as the ", {"scheme": "Node", "value": "/nodes/dop/whitewatersolver", "type": "link", "text": ["Whitewater Solver DOP"], "fullpath": "/nodes/dop/whitewatersolver.html"}, ". The whitewater particles are colored according to their emission criteria. This lets you evaluate particle counts and fine-tune emission controls with direct visual feedback."], "extent": [215, 909]}, {"type": "para", "indent": 0, "text": ["In contrast to the previous particle-based sourcing, the new system is scale-independent and takes the underlying liquid simulation into consideration. You can directly control the whitewater\u2019s physical amount without considering particle counts. Additionally, the new system is designed to facilitate full-pipeline prototyping for fluid simulations. You can now work with low-resolution settings to find a satisfying overall look for both liquid and whitewater simulations. The particle count can then be increased for a hi-res final pass on both solvers without having to care about significant changes in the amount of whitewater."], "extent": [909, 1544]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [1544, 1550], "body": [{"type": "para", "indent": 4, "text": ["This operator expects ", {"type": "code", "text": ["surface"]}, " and ", {"type": "code", "text": ["vel"]}, " fields in its first input. Depending on the emission sources used, the fluid particles and pressure field can also be required."], "extent": [1550, 1729]}], "container": true}, {"type": "note", "indent": 0, "role": "item", "extent": [1729, 1735], "body": [{"type": "para", "indent": 4, "text": ["By default, ", {"type": "code", "text": ["emit"]}, ", ", {"type": "code", "text": ["surface"]}, ", and ", {"type": "code", "text": ["vel"]}, " are all output through the first output of the node. However, it is possible to only output the emission field to cache it in isolation and save some disk space. To enable this option, turn off the ", {"type": "ui", "text": ["Output Fluid Fields"]}, " checkbox on the ", {"type": "ui", "text": ["Fluid Fields"]}, " tab."], "extent": [1735, 2045]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["For more information, see the ", {"scheme": null, "value": "/fluid/sopwhitewater", "type": "link", "text": ["SOP Whitewater"], "fullpath": "/fluid/sopwhitewater.html"}, " page."], "extent": [2045, 2120]}]}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [2120, 2128], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Liquid Simulation"], "extent": [2128, 2151], "body": [{"type": "para", "indent": 8, "text": ["Surface and velocity volumes or VDBs from a liquid simulation."], "extent": [2151, 2223]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Container"], "extent": [2223, 2238], "body": [{"type": "para", "indent": 8, "text": ["Expects the domain geometry from the FLIP Solver SOP as a surface field or geometry hull."], "extent": [2238, 2337]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [2337, 2351], "body": [{"type": "para", "indent": 12, "text": ["You could optionally provide a custom VDB SDF instead of the container. This will effectively limit the emission to the activated region of the provided VDB mask. Keep in mind that the ", {"scheme": "Node", "value": "/nodes/sop/whitewatersolver", "type": "link", "text": ["Whitewater Solver"], "fullpath": "/nodes/sop/whitewatersolver.html"}, " still expects a meaningful container such as the one used for your flip simulation."], "extent": [2351, 2679]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 4, "text": ["Collisions"], "extent": [2679, 2695], "body": [{"type": "para", "indent": 8, "text": ["Expects collision objects from the ", {"scheme": "Node", "value": "/nodes/sop/flipsolver", "type": "link", "text": ["FLIP Solver SOP"], "fullpath": "/nodes/sop/flipsolver.html"}, " as surface and velocity fields."], "extent": [2695, 2809]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Extra Source Points"], "extent": [2809, 2834], "body": [{"type": "para", "indent": 8, "text": ["Extra points to splat into the emission volume. The emission amount for each extra source point (indicated by the value of its ", {"type": "ui", "text": ["Emission Attribute"]}, ") is distributed trilinearly to its nearest voxels."], "extent": [2834, 3044]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [3044, 3053], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Volumes"], "extent": [3053, 3066], "body": [{"type": "para", "indent": 8, "text": ["The emission volume (", {"type": "code", "text": ["emit"]}, "). If ", {"type": "ui", "text": ["Output Fluid Fields"]}, " is turned on, the geometry also contains the fluid\u2019s ", {"type": "code", "text": ["surface"]}, " and ", {"type": "code", "text": ["vel"]}, " fields."], "extent": [3066, 3213]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Container"], "extent": [3213, 3228], "body": [{"type": "para", "indent": 8, "text": ["Pass-through of the ", {"type": "ui", "text": ["Container"]}, " input."], "extent": [3228, 3278]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Collisions"], "extent": [3278, 3294], "body": [{"type": "para", "indent": 8, "text": ["Pass-through of the ", {"type": "ui", "text": ["Collisions"]}, " input."], "extent": [3294, 3345]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Visualization Particles"], "extent": [3345, 3374], "body": [{"type": "para", "indent": 8, "text": ["Visualization of the potential emission resulting from the generated emit field. The whitewater particles are colored according to their emission criteria. This lets you evaluate particle counts and fine-tune emission controls with direct visual feedback."], "extent": [3374, 3639]}], "container": true}], "container": true}], "text": "Outputs"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [3639, 3651], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Start Frame"], "extent": [3651, 3665], "body": [{"type": "para", "indent": 4, "text": ["Specify the frame when the simulation will start. This is used for acceleration-based and pressure-based emissions to avoid unwanted sourcing on the first frame."], "extent": [3685, 3852]}], "container": true, "attrs": {"id": "startframe"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Voxel Size"], "extent": [3852, 3864], "body": [{"type": "para", "indent": 4, "text": ["Voxel size for the emission volume."], "extent": [3883, 3924]}], "container": true, "attrs": {"id": "voxelsize"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Emission"], "extent": [3924, 3939], "body": [{"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Masks"], "extent": [3939, 3954], "body": [{"level": 4, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Depth"], "extent": [3954, 3971], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Limit by Depth"], "extent": [3971, 3988], "body": [{"type": "para", "indent": 4, "text": ["When turned on, whitewater will only be emitted within the specified range of depths."], "extent": [4010, 4101]}], "container": true, "attrs": {"id": "limitbydepth"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Maximum Half-Width"], "extent": [4101, 4121], "body": [{"type": "para", "indent": 4, "text": ["When turned on, the system tries to activate the signed distance VDB to ensure that accurate depth readings to the specified limiting values are made. The ", {"type": "ui", "text": ["Maximum Half-Width"]}, " parameter can limit the number of activated voxels to save computing resources."], "extent": [4143, 4410]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [4410, 4420], "body": [{"type": "para", "indent": 8, "text": ["This should be turned on when using ", {"type": "ui", "text": ["Narrow Band"]}, ", and off for dense SDFs such as oceans."], "extent": [4420, 4521]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "maxhalfwidth"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 4, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Speed"], "extent": [4521, 4537], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Speed Range"], "extent": [4537, 4551], "body": [{"type": "para", "indent": 4, "text": ["All regions of the liquid, with speed greater than the minimum, can emit whitewater. Regions moving at or above the maximum speed will always emit whitewater."], "extent": [4571, 4735]}], "container": true, "attrs": {"id": "speedrange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Remap Speed"], "extent": [4735, 4748], "body": [{"type": "para", "indent": 4, "text": ["By default, speed is mapped linearly to a ", {"type": "code", "text": ["(0, 1)"]}, " range. This behavior can be changed by specifying a custom mapping."], "extent": [4768, 4892]}], "container": true, "attrs": {"id": "remapspeed"}, "role": "item"}], "container": true, "role": "item_group"}]}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Sources"], "extent": [4892, 4908], "body": [{"level": 4, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Curvature"], "extent": [4908, 4929], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Emit from Curvature"], "extent": [4929, 4951], "body": [{"type": "para", "indent": 4, "text": ["Enhance emission rates with the curvature of the surface SDF. Curvature is an effective method to detect the leading edges of breaking waves."], "extent": [4976, 5123]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [5123, 5133], "body": [{"type": "para", "indent": 8, "text": ["High-resolution fluid simulations tend to contain fine details that may result in spurious curvature-based sourcing. For better results, consider smoothing the surface field with the parameters of the ", {"type": "ui", "text": ["Volumes"]}, " tab\u2019s ", {"type": "ui", "text": ["Surface Filtering"]}, " subpane."], "extent": [5133, 5392]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "enablecurvature"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Max Velocity Angle"], "extent": [5392, 5412], "body": [{"type": "para", "indent": 4, "text": ["The angle between the velocity of the particle and the surface normal must be lower than this value for whitewater emission. This limit helps to ensure that whitewater is only created on the leading edges of waves."], "extent": [5433, 5653]}], "container": true, "attrs": {"id": "maxvelangle"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Curvature Range"], "extent": [5653, 5670], "body": [{"type": "para", "indent": 4, "text": ["Range of curvatures that gets mapped to a ", {"type": "code", "text": ["(0, 1)"]}, " emission range."], "extent": [5694, 5766]}], "container": true, "attrs": {"id": "curvaturerange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Compute Range from Data"], "extent": [5766, 5791], "body": [{"type": "para", "indent": 4, "text": ["Set the ", {"type": "ui", "text": ["Curvature Range"]}, " to the min and max of the current frame curvature."], "extent": [5822, 5906]}], "container": true, "attrs": {"id": "computecurvaturerange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Remap Curvature"], "extent": [5906, 5923], "body": [{"type": "para", "indent": 4, "text": ["By default, the curvature is mapped linearly to a ", {"type": "code", "text": ["(0, 1)"]}, " range. This behavior can be changed by specifying a custom mapping curve."], "extent": [5947, 6085]}], "container": true, "attrs": {"id": "remapcurvature"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 4, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Acceleration"], "extent": [6085, 6108], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Emit from Acceleration"], "extent": [6108, 6133], "body": [{"type": "para", "indent": 4, "text": ["Increase emission rates with the magnitude of acceleration. Acceleration is effective at detecting areas where particles are rejoining existing parts of the fluid. This results in trapped air that causes whitewater. This parameter uses Eulerian acceleration, which is the time-rate of changes in the fluid\u2019s velocity at fixed locations in space."], "extent": [6161, 6512]}], "container": true, "attrs": {"id": "enableacceleration"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Acceleration Range"], "extent": [6512, 6532], "body": [{"type": "para", "indent": 4, "text": ["Range of accelerations that gets mapped to a ", {"type": "code", "text": ["(0, 1)"]}, " emission range."], "extent": [6559, 6634]}], "container": true, "attrs": {"id": "accelerationrange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Compute Range from Data"], "extent": [6634, 6659], "body": [{"type": "para", "indent": 4, "text": ["Set the ", {"type": "ui", "text": ["Acceleration Range"]}, " to the min and max of the current frame accelerations."], "extent": [6693, 6784]}], "container": true, "attrs": {"id": "computeaccelerationrange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Remap Acceleration"], "extent": [6784, 6804], "body": [{"type": "para", "indent": 4, "text": ["By default, the acceleration is mapped linearly to a ", {"type": "code", "text": ["(0, 1)"]}, " range. This behavior can be changed by specifying a custom mapping curve."], "extent": [6831, 6972]}], "container": true, "attrs": {"id": "remapacceleration"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 4, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Vorticity"], "extent": [6972, 6992], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Emit from Vorticity"], "extent": [6992, 7014], "body": [{"type": "para", "indent": 4, "text": ["Enhance emission rates based on vorticity (or magnitude of rotation) inside the velocity volume. This method identifies churning areas of the fluid, which generally occur deeper below the surface."], "extent": [7039, 7241]}], "container": true, "attrs": {"id": "enablevorticity"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Vorticity Range"], "extent": [7241, 7258], "body": [{"type": "para", "indent": 4, "text": ["Range of vorticities that gets mapped to a ", {"type": "code", "text": ["(0, 1)"]}, " emission range."], "extent": [7282, 7355]}], "container": true, "attrs": {"id": "vorticityrange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Compute Range from Data"], "extent": [7355, 7380], "body": [{"type": "para", "indent": 4, "text": ["Set the ", {"type": "ui", "text": ["Vorticity Range"]}, " to the min and max of the current frame vorticities."], "extent": [7411, 7497]}], "container": true, "attrs": {"id": "computevorticityrange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Remap Vorticity"], "extent": [7497, 7514], "body": [{"type": "para", "indent": 4, "text": ["By default, vorticity is mapped linearly to a ", {"type": "code", "text": ["(0, 1)"]}, " range. This behavior can be changed by specifying a custom mapping curve."], "extent": [7538, 7672]}], "container": true, "attrs": {"id": "remapvorticity"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 4, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Splash"], "extent": [7672, 7689], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Emit from Splash"], "extent": [7689, 7708], "body": [{"type": "para", "indent": 4, "text": ["Enhance emission rates based on splashes. This method identifies fast-moving isolated droplets or thin liquid structures mostly in contact with air. This emission type requires the fluid particles to be provided along with the ", {"type": "code", "text": ["surface"]}, " and ", {"type": "code", "text": ["vel"]}, " fields in the node\u2019s first input."], "extent": [7730, 8016]}], "container": true, "attrs": {"id": "enablesplash"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Replicate Points along Velocity"], "extent": [8016, 8049], "body": [{"type": "para", "indent": 4, "text": ["Replicate the particles backward along the velocity vector to avoid stepping artifacts along the emission trajectory."], "extent": [8070, 8193]}], "container": true, "attrs": {"id": "doreplicate"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Scale"], "extent": [8193, 8200], "body": [{"type": "para", "indent": 4, "text": ["Multiplier affecting the splash-based emission."], "extent": [8221, 8274]}], "container": true, "attrs": {"id": "splashscale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Remap Relative Density"], "extent": [8274, 8298], "body": [{"type": "para", "indent": 4, "text": ["By default, the relative density is transformed using a negative linear mapping from a ", {"type": "code", "text": ["(0, 1)"]}, " range. This behavior can be changed by specifying a custom mapping curve. The default configuration should select the loosely packed particles as splash-based emission, whereas densely packed particles will not be used."], "extent": [8328, 8649]}], "container": true, "attrs": {"id": "relativedensityremap"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 4, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Pressure"], "extent": [8649, 8668], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Emit Based on Pressure"], "extent": [8668, 8693], "body": [{"type": "para", "indent": 4, "text": ["Increase emission rates based on the alignment between the pressure and surface gradients. This method can identify the face of a wave before and as it is crashing down. Note that this method requires the pressure field, the collisions, and the container to be provided in the first three inputs of the node."], "extent": [8717, 9031]}], "container": true, "attrs": {"id": "enablepressure"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Pressure Scale"], "extent": [9031, 9047], "body": [{"type": "para", "indent": 4, "text": ["Multiplier affecting the pressure-based emission."], "extent": [9070, 9125]}], "container": true, "attrs": {"id": "pressurescale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Remap Pressure"], "extent": [9125, 9141], "body": [{"type": "para", "indent": 4, "text": ["By default, pressure is remapped from the ", {"type": "code", "text": ["(0, 1)"]}, " range using a custom mapping curve."], "extent": [9164, 9256]}], "container": true, "attrs": {"id": "remappressure"}, "role": "item"}], "container": true, "role": "item_group"}]}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Deformation Sources"], "extent": [9256, 9284], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Emit Based on Surface Deformation"], "extent": [9284, 9320], "body": [{"type": "para", "indent": 4, "text": ["Increase emission rates based on the local deformation of the surface. This method identifies stretching, squishing, and scaling of the fluid surface. Stretch corresponds to the most significant expansion of the surface along a specific direction. Squish corresponds to the most significant compression of the surface along a specific direction. Surface scale corresponds to how much the surface compresses (negative values) or expands (positive values) considering all directions."], "extent": [9347, 9838]}], "container": true, "attrs": {"id": "enabledeformation"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 4, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Squish"], "extent": [9838, 9855], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Squish Scale"], "extent": [9855, 9870], "body": [{"type": "para", "indent": 4, "text": ["Multiplier affecting the squish-based emission."], "extent": [9891, 9948]}], "container": true, "attrs": {"id": "squishscale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Squish Range"], "extent": [9948, 9962], "body": [{"type": "para", "indent": 4, "text": ["Range of squish that gets mapped to a ", {"type": "code", "text": ["(0, 1)"]}, " emission range."], "extent": [9983, 10055]}], "container": true, "attrs": {"id": "squishrange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Compute Range from Data"], "extent": [10055, 10080], "body": [{"type": "para", "indent": 4, "text": ["Set the ", {"type": "ui", "text": ["Squish Range"]}, " to the min and max of the current frame squish."], "extent": [10108, 10190]}], "container": true, "attrs": {"id": "computesquishrange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Remap Squish"], "extent": [10190, 10204], "body": [{"type": "para", "indent": 4, "text": ["By default, squish is remapped from the ", {"type": "code", "text": ["(0, 1)"]}, " range using a custom mapping curve."], "extent": [10225, 10319]}], "container": true, "attrs": {"id": "remapsquish"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 4, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Stretch"], "extent": [10319, 10337], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Stretch Scale"], "extent": [10337, 10353], "body": [{"type": "para", "indent": 4, "text": ["Multiplier affecting the stretch-based emission."], "extent": [10375, 10433]}], "container": true, "attrs": {"id": "stretchscale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Stretch Range"], "extent": [10433, 10448], "body": [{"type": "para", "indent": 4, "text": ["Range of stretch that gets mapped to a ", {"type": "code", "text": ["(0, 1)"]}, " emission range."], "extent": [10470, 10543]}], "container": true, "attrs": {"id": "stretchrange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Compute Range from Data"], "extent": [10543, 10568], "body": [{"type": "para", "indent": 4, "text": ["Set the ", {"type": "ui", "text": ["Stretch Range"]}, " to the min and max of the current frame stretch."], "extent": [10597, 10681]}], "container": true, "attrs": {"id": "computestretchrange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Remap Stretch"], "extent": [10681, 10696], "body": [{"type": "para", "indent": 4, "text": ["By default, stretch is remapped from the ", {"type": "code", "text": ["(0, 1)"]}, " range using a custom mapping curve."], "extent": [10718, 10813]}], "container": true, "attrs": {"id": "remapstretch"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 4, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Surface Scale"], "extent": [10813, 10837], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Surface Scale Scale"], "extent": [10837, 10859], "body": [{"type": "para", "indent": 4, "text": ["Multiplier affecting the surface scale-based emission."], "extent": [10886, 10950]}], "container": true, "attrs": {"id": "surfacescalescale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Surface Scale Range"], "extent": [10950, 10971], "body": [{"type": "para", "indent": 4, "text": ["Range of surface scale that gets mapped to a ", {"type": "code", "text": ["(0, 1)"]}, " emission range."], "extent": [10998, 11077]}], "container": true, "attrs": {"id": "surfacescalerange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Compute Range from Data"], "extent": [11077, 11102], "body": [{"type": "para", "indent": 4, "text": ["Set the ", {"type": "ui", "text": ["Surface Scale Range"]}, " to the min and max of the current frame surface scale."], "extent": [11129, 11225]}], "container": true, "attrs": {"id": "computescalerange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Remap Surface Scale"], "extent": [11225, 11246], "body": [{"type": "para", "indent": 4, "text": ["By default, surface scale is remapped from the ", {"type": "code", "text": ["(0, 1)"]}, " range using a custom mapping curve."], "extent": [11273, 11370]}], "container": true, "attrs": {"id": "remapsurfacescale"}, "role": "item"}], "container": true, "role": "item_group"}]}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Extra Sources"], "extent": [11370, 11392], "body": [{"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [11392, 11399], "body": [{"type": "para", "indent": 4, "text": ["Turn on this feature by connecting geometry to the fourth input."], "extent": [11399, 11469]}], "container": true}], "container": true, "role": "item_group"}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Group"], "extent": [11469, 11476], "body": [{"type": "para", "indent": 4, "text": ["Only points of the fourth input that are part of this group will be used for extra emission."], "extent": [11491, 11589]}], "container": true, "attrs": {"id": "group"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Emission Attribute"], "extent": [11589, 11609], "body": [{"type": "para", "indent": 4, "text": ["Name of the attribute that stores the amount of emission for each source point. No extra emission will be added if the specified attribute does not exist."], "extent": [11629, 11789]}], "container": true, "attrs": {"id": "emitattrib"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Particle Scale"], "extent": [11789, 11805], "body": [{"type": "para", "indent": 4, "text": ["The ", {"type": "code", "text": ["pscale"]}, " attribute is scaled by this value. Increase this value to add a larger footprint to the extra emission points."], "extent": [11828, 11957]}], "container": true, "attrs": {"id": "particlescale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Merge Method"], "extent": [11957, 11971], "body": [{"type": "para", "indent": 4, "text": ["This parameter controls how extra sourcing is combined with the emission volume."], "extent": [11992, 12078]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": [{"type": "ui", "text": ["Add"]}], "extent": [12078, 12091], "body": [{"type": "para", "indent": 8, "text": ["Extra emission is added to the original volume."], "extent": [12091, 12147]}], "container": true}, {"type": "dt", "indent": 4, "text": [{"type": "ui", "text": ["Maximum"]}], "extent": [12147, 12164], "body": [{"type": "para", "indent": 8, "text": ["Final emission is the maximum of the original volume, and extra\n        emission."], "extent": [12164, 12254]}], "container": true}, {"type": "dt", "indent": 4, "text": [{"type": "ui", "text": ["Override"]}], "extent": [12254, 12272], "body": [{"type": "para", "indent": 8, "text": ["Emission in the areas influenced by extra sources is replaced by their\n        value."], "extent": [12272, 12367]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "mergemethod"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Post-Process"], "extent": [12367, 12388], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Remap Emission"], "extent": [12388, 12405], "body": [{"type": "para", "indent": 4, "text": ["You can optionally remap the final emission probability with the ", {"type": "ui", "text": ["Emission Ramp"]}, "."], "extent": [12428, 12517]}], "container": true, "attrs": {"id": "remapemission"}, "role": "item"}], "container": true, "role": "item_group"}]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Fluid Fields"], "extent": [12517, 12536], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Output Fluid Fields"], "extent": [12536, 12558], "body": [{"type": "para", "indent": 4, "text": ["When this option is turned on, the node also outputs the fluid\u2019s signed distance field (", {"type": "code", "text": ["surface"]}, ") and velocity field (", {"type": "code", "text": ["vel"]}, ")."], "extent": [12581, 12713]}], "container": true, "attrs": {"id": "outputvolumes"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Modify Fluid Fields"], "extent": [12713, 12734], "body": [{"type": "para", "indent": 4, "text": ["Output the fluid\u2019s signed distance field (", {"type": "code", "text": ["surface"]}, ") and velocity field (", {"type": "code", "text": ["vel"]}, ") clipped to the provided container. If ", {"type": "ui", "text": ["Surface Filtering"]}, " is used, the filtered surface is outputted. This is useful if the whitewater simulation is limited to a subdomain of the fluid simulation."], "extent": [12757, 13041]}], "container": true, "attrs": {"id": "modifyvolumes"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Emission Size"], "extent": [13041, 13056], "body": [{"type": "para", "indent": 4, "text": ["Physical size of the emission region. This option can be used to restrict emission to a certain subregion of the fluid simulation."], "extent": [13079, 13215]}], "container": true, "attrs": {"id": "boundemission"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Emission Center"], "extent": [13215, 13232], "body": [{"type": "para", "indent": 4, "text": ["Center of the restricted emission region."], "extent": [13247, 13294]}], "container": true, "attrs": {"id": "emitt"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mask Name"], "extent": [13294, 13305], "body": [{"type": "para", "indent": 4, "text": ["Name (or name pattern) of the primitive you want to use as an emission mask."], "extent": [13323, 13405]}], "container": true, "attrs": {"id": "maskname"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Surface Filtering"], "extent": [13405, 13431], "body": [{"type": "para", "indent": 0, "text": ["The filtering operations in this section can be used to smooth the surface field before it\u2019s used for generating the emission field. This helps to eliminate noise from curvature-based emission."], "extent": [13431, 13627]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [13627, 13633], "body": [{"type": "para", "indent": 4, "text": ["Dilation is performed first, followed by smoothing and, finally, erosion."], "extent": [13633, 13712]}], "container": true}, {"type": "note", "indent": 0, "role": "item", "extent": [13712, 13718], "body": [{"type": "para", "indent": 4, "text": ["If ", {"type": "ui", "text": ["Modify Fluid Field"]}, " is turned on, the filtered surface will be exported by this node. Be careful with transferring the filtered surface to the ", {"scheme": "Node", "value": "/nodes/sop/whitewatersolver", "type": "link", "text": ["Whitewater Solver"], "fullpath": "/nodes/sop/whitewatersolver.html"}, ". Aggressive smoothing may create suddenly disappearing fluid regions."], "extent": [13718, 13988]}], "container": true}], "container": true, "role": "item_group"}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Dilate"], "extent": [13988, 13996], "body": [{"type": "para", "indent": 4, "text": ["The surface is expanded by this number of voxels."], "extent": [14018, 14073]}], "container": true, "attrs": {"id": "dilatevoxels"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Smooth"], "extent": [14073, 14081], "body": [{"type": "para", "indent": 4, "text": ["Turn on the filter to choose a smoothing method from the dropdown menu and determine the number of filter iterations. Higher values create smoother surfaces, but will also remove detail."], "extent": [14100, 14292]}], "container": true, "attrs": {"id": "operation"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Erode"], "extent": [14292, 14299], "body": [{"type": "para", "indent": 4, "text": ["The surface is shrunk by this number of voxels."], "extent": [14320, 14373]}], "container": true, "attrs": {"id": "erodevoxels"}, "role": "item"}], "container": true, "role": "item_group"}]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Visualization"], "extent": [14373, 14393], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Visualize Emission Volume"], "extent": [14393, 14421], "body": [{"type": "para", "indent": 4, "text": ["When this parameter is turned off, the generated ", {"type": "code", "text": ["emit"]}, " volume is invisible and won\u2019t be rendered in the viewport."], "extent": [14441, 14561]}], "container": true, "attrs": {"id": "visemitvol"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Source Particles"], "extent": [14561, 14586], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Whitewater Scale"], "extent": [14586, 14605], "body": [{"type": "para", "indent": 4, "text": ["Whitewater scale controls the number of particles that are created to fill a given volume. The parameter\u2019s value should match the solver\u2019s ", {"type": "ui", "text": ["Whitewater Scale"]}, "."], "extent": [14622, 14788]}], "container": true, "attrs": {"id": "wwscale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Emission Amount"], "extent": [14788, 14805], "body": [{"type": "para", "indent": 4, "text": ["The parameter\u2019s value should match the solver\u2019s ", {"type": "ui", "text": ["Emission Amount"]}, "."], "extent": [14829, 14903]}], "container": true, "attrs": {"id": "emissionamount"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Max Point Limit"], "extent": [14903, 14920], "body": [{"type": "para", "indent": 4, "text": ["Hard limit on the amount of points to be generated for visualization."], "extent": [14944, 15023]}], "container": true, "attrs": {"id": "emergencylimit"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Output Point Velocity"], "extent": [15023, 15046], "body": [{"type": "para", "indent": 4, "text": ["Adds velocity attribute to the generated points."], "extent": [15071, 15129]}], "container": true, "attrs": {"id": "outputvelattrib"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Output Emission Attributes"], "extent": [15129, 15157], "body": [{"type": "para", "indent": 4, "text": ["Adds emission attributes to the generated points. Note that those are the raw attribute values before being remapped to the ", {"type": "code", "text": ["(0, 1)"]}, " range or going through the ramp."], "extent": [15183, 15354]}], "container": true, "attrs": {"id": "outputemitattrib"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Curvature Color"], "extent": [15354, 15371], "body": [{"type": "para", "indent": 4, "text": ["Color of the particles from the ", {"type": "ui", "text": ["Curvature"]}, " emission."], "extent": [15395, 15456]}], "container": true, "attrs": {"id": "curvaturecolor"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Acceleration Color"], "extent": [15456, 15476], "body": [{"type": "para", "indent": 4, "text": ["Color of the particles from the ", {"type": "ui", "text": ["Acceleration"]}, " emission."], "extent": [15503, 15567]}], "container": true, "attrs": {"id": "accelerationcolor"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Vorticity Color"], "extent": [15567, 15584], "body": [{"type": "para", "indent": 4, "text": ["Color of the particles from the ", {"type": "ui", "text": ["Vorticity"]}, " emission."], "extent": [15608, 15669]}], "container": true, "attrs": {"id": "vorticitycolor"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Pressure Color"], "extent": [15669, 15685], "body": [{"type": "para", "indent": 4, "text": ["Color of the particles from the ", {"type": "ui", "text": ["Pressure"]}, " emission."], "extent": [15708, 15772]}], "container": true, "attrs": {"id": "pressurecolor"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Deformation Color"], "extent": [15772, 15791], "body": [{"type": "para", "indent": 4, "text": ["Color of the particles from the ", {"type": "ui", "text": ["Deformation"]}, " emission."], "extent": [15817, 15880]}], "container": true, "attrs": {"id": "deformationcolor"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Extra Color"], "extent": [15880, 15893], "body": [{"type": "para", "indent": 4, "text": ["Color of the particles from the ", {"type": "ui", "text": ["Extra Sources"]}, " emission."], "extent": [15913, 15978]}], "container": true, "attrs": {"id": "extracolor"}, "role": "item"}], "container": true, "role": "item_group"}]}]}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [15978, 15987], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/whitewatersolver", "type": "link", "text": ["Whitewater Solver"], "fullpath": "/nodes/sop/whitewatersolver.html"}], "extent": [15987, 16039]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/whitewaterpostprocess", "type": "link", "text": ["Whitewater Post-Process"], "fullpath": "/nodes/sop/whitewaterpostprocess.html"}], "extent": [16039, 16101]}], "container": true}], "text": "Related"}], "title": ["Whitewater Source"], "summary": [" Generates the emission field for whitewater simulations. "]}