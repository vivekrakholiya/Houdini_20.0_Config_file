{"type": "root", "attrs": {"type": "node", "context": "lop", "internal": "sopmodify", "icon": "SOP/edit", "group": "geometry", "since": "17.5", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["SOP Modify"], "extent": [0, 15]}, {"type": "summary", "indent": 0, "text": ["Converts USD geometry into SOP geometry, runs the SOP subnet inside this node on the geometry, and converts the changes back to USD overrides."], "extent": [109, 260]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [260, 275], "body": [{"type": "para", "indent": 0, "text": ["This node can be used for animating transforms based on an RBD simulation, adding primvars or attributes to existing geometry, fracturing geometry, adding instances scattered over an existing surface, and so on."], "extent": [275, 489]}, {"type": "para", "indent": 0, "text": ["The top level controls on this node primarily reflect parameters promoted from the contained LOP Import and Unpack USD SOPs, and the SOP Import LOP. You may dive inside this node to edit the SOP network where the source geometry is modified before being brought back into LOPs."], "extent": [489, 769]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["How to"], "extent": [769, 782], "body": [{"type": "ord_group", "body": [{"blevel": 2, "type": "ord", "indent": 0, "text": ["Create a SOP Modify node and wire the previous node into its input."], "extent": [782, 854]}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["Decide whether you want to edit/reshape the geometry, or just modify the transforms of the pieces."], "extent": [854, 956], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["By default, the incoming geometry in the subnet is a ", {"scheme": null, "value": "/model/primitives#usd", "type": "link", "text": ["packed USD primitive"], "fullpath": "/model/primitives.html#usd", "fragment": "#usd"}, ". Points in the packed USD primitive represent USD prims, and the point position and standard point instancing attributes represent each prim\u2019s transform. You can modify these to move/rotate/scale the prims without unpacking them. (This is common when working the RBD sims.)"], "extent": [956, 1335]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["If you want to reshape the geometry, in the SOP Modify\u2019s parameters, turn on ", {"type": "ui", "text": ["Unpack USD primitives to polygons"]}, "."], "extent": [1335, 1458]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Even if you want to reshape the geometry, you may not want to extract ", {"type": "em", "text": ["all"]}, " geometry as polygons. You can leave ", {"type": "ui", "text": ["Unpack USD primitives to polygons"]}, " off, then use a ", {"scheme": "Node", "value": "/nodes/sop/unpackusd", "type": "link", "text": ["Unpack USD SOP"], "fullpath": "/nodes/sop/unpackusd.html"}, " node in the subnet to only extract a limited set of geometry from the packed USD primitive."], "extent": [1458, 1759]}], "container": true}], "container": true}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["In the network editor, double-click the SOP Modify node to dive inside."], "extent": [1759, 1834], "body": [{"type": "para", "indent": 4, "text": ["The output of ", {"type": "code", "text": ["Sub-Network Input #1"]}, " is the SOP geometry to modify."], "extent": [1834, 1907]}], "container": true}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["Wire in nodes to modify the geometry."], "extent": [1907, 1948]}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["At the end of the node chain, add an ", {"scheme": "Node", "value": "/nodes/sop/output", "type": "link", "text": ["Output SOP"], "fullpath": "/nodes/sop/output.html"}, "."], "extent": [1948, 2018]}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["In the network editor, press ", {"keys": ["U"], "type": "keys", "text": null}, " to go back up to the LOP network."], "extent": [2018, 2091]}], "container": true}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Tips"], "extent": [2091, 2102], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["If you are trying to edit the shape of the geometry but SOP nodes don\u2019t seem to affect it, check what type of geometry you have. If you forgot to turn on ", {"type": "ui", "text": ["Unpack USD primitives to polygons"]}, ", the geometry will be inside a ", {"scheme": null, "value": "/model/primitives#usd", "type": "link", "text": ["packed USD primitive"], "fullpath": "/model/primitives.html#usd", "fragment": "#usd"}, ", which SOP nodes can\u2019t edit."], "extent": [2102, 2403], "body": [{"type": "para", "indent": 4, "text": ["Either turn on ", {"type": "ui", "text": ["Unpack USD primitives to polygons"]}, " on the SOP Modify node, or insert a ", {"scheme": "Node", "value": "/nodes/sop/unpackusd", "type": "link", "text": ["Unpack USD SOP"], "fullpath": "/nodes/sop/unpackusd.html"}, " after ", {"type": "code", "text": ["Sub-Network Input #1"]}, ". In the Unpack USD node\u2019s parameters, set ", {"type": "ui", "text": ["Geometry type"]}, " to ", {"type": "q", "text": ["Polygons"]}, "."], "extent": [2403, 2637]}], "container": true}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["If you turn on ", {"type": "ui", "text": ["Unpack USD primitives to polygons"]}, " or add your own ", {"scheme": "Node", "value": "/nodes/sop/unpackusd", "type": "link", "text": ["Unpack USD"], "fullpath": "/nodes/sop/unpackusd.html"}, " node in the subnet, the unpacked polygons have a ", {"type": "code", "text": ["usdxform"]}, " matrix attribute with the local-to-world transform of the USD primitive from which the polygon was unpacked."], "extent": [2637, 2910]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["A common use for SOP Modify is to create primvars on a USD prim. To do this, set the ", {"type": "ui", "text": ["Topology attributes"]}, " parameter to ", {"type": "code", "text": ["None"]}, ", and turn on ", {"type": "ui", "text": ["Unpack USD primitives to polygons"]}, ". In this mode, take care to not change the topology of any SOP primitives, or to reorder the SOP primitives. Many SOP operations can have this effect, such as ", {"scheme": "Node", "value": "/nodes/sop/foreach", "type": "link", "text": ["For Each SOPs"], "fullpath": "/nodes/sop/foreach.html"}, " in a ", {"type": "code", "text": ["Merge"]}, " mode. When using such SOPs, it is often possible to create an ", {"type": "code", "text": ["id"]}, " attribute before the problem SOPs, and use an ", {"scheme": "Node", "value": "/nodes/sop/attribcopy", "type": "link", "text": ["Attribute Copy SOP"], "fullpath": "/nodes/sop/attribcopy.html"}, " afterwards to copy the new attribute values onto the original primitive ordering using the ", {"type": "code", "text": ["id"]}, " values."], "extent": [2910, 3557]}], "container": true}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [3557, 3569], "body": [{"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Export to SOPs"], "extent": [3569, 3591], "body": [{"type": "para", "indent": 0, "text": ["These parameters control how/what USD geometry is converted to SOPs for editing."], "extent": [3591, 3674]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Primitives"], "extent": [16, 28], "body": [{"type": "para", "indent": 4, "text": ["The primitive(s) the node should operate on. You can drag primitives from the scene graph tree pane into this textbox to add their paths, or click the ", {"scheme": "Icon", "value": "BUTTONS/reselect", "type": "link", "text": "", "fullpath": "/nodes/lop/BUTTONS/reselect.html"}, " Reselect button beside the text box to select the primitives in the viewer, or ", {"keys": ["Ctrl"], "type": "keys", "text": null}, "-click the Reselect button to choose prims from a pop-up tree window. You can also use ", {"scheme": null, "value": "/solaris/pattern", "type": "link", "text": ["primitive patterns"], "fullpath": "/solaris/pattern.html"}, " for advanced matching, including matching all prims in a collection (using ", {"type": "code", "text": ["/path/to/prim.collection:", {"type": "var", "text": ["name"]}]}, ")."], "extent": [50, 554]}], "container": true, "attrs": {"id": "primpattern"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Path Attribute"], "extent": [2674, 2694], "body": [{"type": "para", "indent": 8, "text": ["If enabled, creates a SOP primitive attribute containing the scene graph path of the original USD primitive."], "extent": [2718, 2836]}], "container": true, "attrs": {"id": "pathattrib"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Name Attribute"], "extent": [2836, 2856], "body": [{"type": "para", "indent": 8, "text": ["If enabled, creates a SOP primitive attribute containing the name of the original USD primitive."], "extent": [2880, 2986]}], "container": true, "attrs": {"id": "nameattrib"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Time Sample"], "extent": [2156, 2173], "body": [{"type": "para", "indent": 8, "text": ["Specifies whether to import static or animated geometry from the LOP node."], "extent": [2197, 2281]}], "container": true, "attrs": {"id": "timesample"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Import Frame"], "extent": [2281, 2299], "body": [{"type": "para", "indent": 8, "text": ["The frame to cook the LOP node and sample the stage at. When importing animated geometry, this could be set to ", {"type": "code", "text": ["$FF"]}, "."], "extent": [2324, 2451]}], "container": true, "attrs": {"id": "importframe"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Static Import Frame"], "extent": [2451, 2476], "body": [{"type": "para", "indent": 8, "text": ["The frame to cook the LOP node and sample the stage at, when ", {"type": "ui", "text": ["Time Sample"]}, " is set to ", {"type": "ui", "text": ["Static"]}, ". This should be set to a constant value such as ", {"type": "code", "text": ["$RFSTART"]}, "."], "extent": [2507, 2674]}], "container": true, "attrs": {"id": "staticimportframe"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Traversal"], "extent": [1165, 1180], "body": [{"type": "para", "indent": 8, "text": ["Optionally, the USD hierarchy can be further traversed to import descendants of the selected ", {"type": "ui", "text": ["Primitives"]}, " that match a criteria."], "extent": [1209, 1349]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [1349, 1363], "body": [{"type": "para", "indent": 12, "text": ["Equivalent behavior could also be achieved through a ", {"scheme": null, "value": "/solaris/pattern", "type": "link", "text": ["primitive pattern"], "fullpath": "/solaris/pattern.html"}, " (for example, using the ", {"type": "code", "text": ["descendants"]}, " auto collection)."], "extent": [1363, 1522]}], "container": true}], "container": true, "role": "item_group"}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["No Traversal"], "extent": [1522, 1544], "body": [{"type": "para", "indent": 12, "text": ["Creates a USD packed primitive for each USD prim matched by the ", {"type": "ui", "text": ["Primitives"]}, " pattern."], "extent": [1544, 1645]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Components"], "extent": [1645, 1665], "body": [{"type": "para", "indent": 12, "text": ["Creates a USD packed primitive for each prim with kind ", {"type": "code", "text": ["component"]}, "."], "extent": [1665, 1746]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Gprims"], "extent": [1746, 1762], "body": [{"type": "para", "indent": 12, "text": ["Creates a USD packed primitive for each ", {"type": "code", "text": ["gprim"]}, "."], "extent": [1762, 1824]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Groups"], "extent": [1824, 1840], "body": [{"type": "para", "indent": 12, "text": ["Creates a USD packed primitive for each prim of type ", {"type": "code", "text": ["group"]}, "."], "extent": [1840, 1915]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "importtraversal"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Display As"], "extent": [2986, 3002], "body": [{"type": "para", "indent": 8, "text": ["How to display the USD packed primitives in the viewport."], "extent": [3027, 3094]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Full Geometry"], "extent": [3094, 3117], "body": [{"type": "para", "indent": 12, "text": ["The full geometry will be displayed in the viewport."], "extent": [3117, 3182]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Point Cloud"], "extent": [3182, 3203], "body": [{"type": "para", "indent": 12, "text": ["Only the points of the geometry will be displayed. This will take less memory and be faster to render."], "extent": [3203, 3318]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Bounding Box"], "extent": [3318, 3340], "body": [{"type": "para", "indent": 12, "text": ["Only display the bounding box of the geometry in the viewport."], "extent": [3340, 3415]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Centroid"], "extent": [3415, 3433], "body": [{"type": "para", "indent": 12, "text": ["Display a single point at the center of the bounding box."], "extent": [3433, 3503]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Hidden"], "extent": [3503, 3519], "body": [{"type": "para", "indent": 12, "text": ["Don\u2019t display the geometry in the viewport."], "extent": [3519, 3576]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "viewportlod"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Pivot Location"], "extent": [3576, 3596], "body": [{"type": "para", "indent": 8, "text": ["Specifies the packed primitive\u2019s point position."], "extent": [3615, 3673]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Centroid"], "extent": [3673, 3691], "body": [{"type": "para", "indent": 12, "text": ["Use the center of the world position of the USD prim\u2019s bounding box."], "extent": [3691, 3773]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Origin"], "extent": [3773, 3789], "body": [{"type": "para", "indent": 12, "text": ["Use the world position of the origin of the USD prim."], "extent": [3789, 3856]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "pivot"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Purpose"], "extent": [900, 913], "body": [{"type": "para", "indent": 8, "text": ["Sections of a USD hierarchy can be marked to be used for a specific purpose.\n        Only sections marked as the default purpose or one of the specified purposes will be traversed when unpacking the USD packed primitives."], "extent": [934, 1165]}], "container": true, "attrs": {"id": "purpose"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Unpack USD Primitives to Polygons"], "extent": [4091, 4126], "body": [{"type": "para", "indent": 4, "text": ["Convert the ", {"scheme": null, "value": "/model/primitives#usd", "type": "link", "text": ["packed USD primitive"], "fullpath": "/model/primitives.html#usd", "fragment": "#usd"}, " into polygons before sending it through the subnetwork for editing. If you only want to modify the transforms of pieces, you can edit the attribute values on the points in the packed USD primitive. If you want to reshape the imported geometry, you must turn this on (or add a ", {"scheme": "Node", "value": "/nodes/sop/unpackusd", "type": "link", "text": ["Unpack USD SOP"], "fullpath": "/nodes/sop/unpackusd.html"}, " with ", {"type": "ui", "text": ["Geometry type"]}, " set to ", {"type": "q", "text": ["Polygons"]}, " at the top of the subnet inside)."], "extent": [4153, 4602]}], "container": true, "attrs": {"id": "unpacktopolygons"}, "role": "item"}], "container": true}, {"type": "include_group", "body": [{"ext": "/nodes/sop/unpackusd#unpack_pathattrib", "type": "include", "indent": 0, "role": "item", "extent": [4602, 4652]}, {"ext": "/nodes/sop/unpackusd#unpack_nameattrib", "type": "include", "indent": 0, "role": "item", "extent": [4652, 4702]}], "container": true, "role": "item_group"}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Transfer Attributes"], "extent": [2038, 2059], "body": [{"type": "para", "indent": 4, "text": ["When unpacking to regular Houdini geometry, this is a list of patterns matching ", {"type": "strong", "text": ["existing Houdini geometry attributes"]}, " (", {"type": "strong", "text": ["not"]}, " USD attributes) on the USD Packed Primitive that should be transferred onto the output geometry. For example, you might have sent the USD packed primitives through an RBD simulation in Houdini, which wrote position and rotation attributes onto the packed prims, which you want to transfer onto the extracted geometry."], "extent": [2083, 2532]}], "container": true, "attrs": {"id": "transfer_attrs"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Import Primvars"], "extent": [2793, 2811], "body": [{"type": "para", "indent": 4, "text": ["When unpacking to regular Houdini geometry, this is a list of patterns matching ", {"scheme": null, "value": "/solaris/usd#primvars", "type": "link", "text": ["USD primvars"], "fullpath": "/solaris/usd.html#primvars", "fragment": "#primvars"}, " that should be converted to Houdini geometry attributes."], "extent": [2836, 3015]}], "container": true, "attrs": {"id": "import_primvars"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Import Attributes"], "extent": [3836, 3855], "body": [{"type": "para", "indent": 4, "text": ["When unpacking to regular Houdini geometry, this is a list of patterns matching ", {"scheme": null, "value": "/solaris/usd#attrs", "type": "link", "text": ["USD attributes"], "fullpath": "/solaris/usd.html#attrs", "fragment": "#attrs"}, " that should be converted to Houdini geometry attributes (in addition to the ", {"type": "em", "text": ["primvars"]}, " specified in ", {"type": "ui", "text": ["Import primvars"]}, ")."], "extent": [3881, 4124]}, {"type": "para", "indent": 4, "text": ["These patterns are only matched against ", {"type": "em", "text": ["custom"]}, " USD attributes on the prim being imported. USD attributes that are part of a schema have special handling (for example, the ", {"type": "code", "text": ["faceVertexIndices"]}, " attribute on a mesh primitive is converted into the topology of the resulting polygons)."], "extent": [4124, 4411]}, {"type": "para", "indent": 4, "text": ["Unlike primvars, custom attributes do not specify an interpolation mode. If the attribute\u2019s value is an array, the node guesses the Houdini attribute level (", {"type": "code", "text": ["point"]}, ", ", {"type": "code", "text": ["vertex"]}, ", ", {"type": "code", "text": ["primitive"]}, ", or ", {"type": "code", "text": ["detail"]}, ") based on the number of elements in the array."], "extent": [4411, 4664]}, {"type": "para", "indent": 4, "text": ["Since only primvars can be inherited from parent primitives, the ", {"type": "ui", "text": ["Import Inherited Primvars"]}, " option does not apply for custom USD attributes."], "extent": [4664, 4813]}], "container": true, "attrs": {"id": "importattributes"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Non-transforming Primvars"], "extent": [4813, 4840], "body": [{"type": "para", "indent": 4, "text": ["When unpacking to regular Houdini geometry, this is a list of patterns matching ", {"scheme": null, "value": "/solaris/usd#primvars", "type": "link", "text": ["USD primvars"], "fullpath": "/solaris/usd.html#primvars", "fragment": "#primvars"}, " that should be converted to ", {"type": "em", "text": ["non-transforming"]}, " Houdini geometry attributes."], "extent": [4873, 5071]}], "container": true, "attrs": {"id": "nontransformingprimvars"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Translate ST primvar to UV"], "extent": [5071, 5099], "body": [{"type": "para", "indent": 4, "text": ["USD generally stores texture coordinates in a primvar named ", {"type": "code", "text": ["st"]}, ", while Houdini stores them in an attribute named ", {"type": "code", "text": ["uv"]}, ". When this is on, the node automatically converts USD ", {"type": "code", "text": ["st"]}, " primvars to ", {"type": "code", "text": ["uv"]}, " attributes."], "extent": [5124, 5336]}], "container": true, "attrs": {"id": "translatesttouv"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Import From SOPs"], "extent": [4951, 4974], "body": [{"type": "para", "indent": 0, "text": ["These parameters control how the modified SOP geometry imported back into USD."], "extent": [4974, 5055]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Perform Layer Break Before Import"], "extent": [5055, 5090], "body": [{"type": "para", "indent": 4, "text": ["Adds a ", {"scheme": "Node", "value": "/nodes/lop/layerbreak", "type": "link", "text": ["Layer Break"], "fullpath": "/nodes/lop/layerbreak.html"}, " before importing the geometry back into USD. This is useful when you want to generate a USD layer that contains only edits, to be used as an overlay."], "extent": [5111, 5307]}], "container": true, "attrs": {"id": "layerbreak"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Load As Reference"], "extent": [4880, 4899], "body": [{"type": "para", "indent": 4, "text": ["When this is on, the geometry will be imported as a ", {"scheme": null, "value": "/solaris/usd#payloads", "type": "link", "text": ["payload"], "fullpath": "/solaris/usd.html#payloads", "fragment": "#payloads"}, ". When this is off, the geometry will be imported by sublayering its hierarchy over the existing scene tree (see ", {"scheme": null, "value": "/solaris/usd#sublayers", "type": "link", "text": ["sublayers and references"], "fullpath": "/solaris/usd.html#sublayers", "fragment": "#sublayers"}, ")."], "extent": [4921, 5174]}], "container": true, "attrs": {"id": "asreference"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Sublayer Style"], "extent": [5174, 5190], "body": [{"type": "para", "indent": 4, "text": ["(When ", {"type": "ui", "text": ["Load as reference"]}, " is off.) By default, geometry imported from SOPs is treated like geometry imported from a file on disk: you can only edit it by applying stronger ", {"scheme": null, "value": "/solaris/usd#compose", "type": "link", "text": ["opinions"], "fullpath": "/solaris/usd.html#compose", "fragment": "#compose"}, " on top. Changing this parameter, allows this node to put the geometry in the ", {"type": "em", "text": ["active layer"]}, ", so it can be modified by LOP nodes connected to this node\u2019s output."], "extent": [5213, 5585]}, {"type": "para", "indent": 4, "text": ["The node does this by copying the contents generated from the SOP geometry into an anonymous in-memory USD layer. This is slower, but provides more options for how many USD layers you need to write to disk, and what goes in each layer. This is similar to the operation of a ", {"scheme": "Node", "value": "/nodes/lop/loadlayer", "type": "link", "text": ["Load Layer for Editing LOP"], "fullpath": "/nodes/lop/loadlayer.html"}, "."], "extent": [5585, 5913]}, {"type": "para", "indent": 4, "text": ["The ", {"type": "code", "text": ["Copy SOP Layer Into New Active Layer"]}, " style creates a new active layer into which the SOP layer contents are copied. The ", {"type": "code", "text": ["Merge SOP Layer Into Existing Active Layer"]}, " style copies the SOP layer contents into the input node\u2019s active layer, resulting in no new layers on the stage."], "extent": [5913, 6202]}], "container": true, "attrs": {"id": "copycontents"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Adjust Transforms for Input Hierarchy"], "extent": [6202, 6241], "body": [{"type": "para", "indent": 4, "text": ["(When ", {"type": "ui", "text": ["Load as reference"]}, " is off.) When this is on (the default), the node automatically compensates for transform problems created if you round-trip geometry from LOPs to SOPs (as packed USD primitives) and then back to LOPs again. If you know you are not round-tripping LOPs  \u2192 SOP packed USD primitives  \u2192 LOPs, you can turn this off to make importing faster."], "extent": [6272, 6642]}, {"type": "para", "indent": 4, "text": ["Packed Primitives in SOPs only have a single transform, representing the full local-to-world transformation of the packed geometry. If you export a USD geometry primitive to SOPs ", {"type": "em", "text": ["as a packed USD primitive"]}, ", Houdini flattens the full transformation hierarchy under the USD prim into a single transformation matrix."], "extent": [6642, 6962]}, {"type": "para", "indent": 4, "text": ["This creates a problem if you then ", {"type": "q", "text": ["round-trip"]}, " the SOP packed primitive back into LOPs, as the descendants will have their own transforms, which are ", {"type": "em", "text": ["also"]}, " now incorporated into the root prim\u2019s transform imported from SOPs. This results in an incorrect double-application of the transforms."], "extent": [6962, 7259]}, {"type": "para", "indent": 4, "text": ["When this parameter is on (the default), the node examines every transformation imported from SOPs, in the context of the prim\u2019s location in the scene graph hierarchy. If the prim (or its ancestors) already exist on the input stage, the node inverts the transformations of the ancestor prims, and applies them as additional local transformations on the prim. This ensures that the final world space location of the prim in LOPS will be the same as it was in SOPs."], "extent": [7259, 7728]}, {"type": "para", "indent": 4, "text": ["If ", {"type": "ui", "text": ["Copy Contents Into Editable Layer"]}, " is on, the node applies these additional transforms directly to the imported primitives, otherwise the node creates a new active layer and puts the transforms in the new layer as overrides."], "extent": [7728, 7964]}], "container": true, "attrs": {"id": "adjustxformsforinput"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Bind Materials"], "extent": [7964, 7980], "body": [{"type": "para", "indent": 4, "text": ["If enabled, binds materials to the imported USD primitives based on the ", {"type": "code", "text": ["usdmaterialpath"]}, " SOP attribute.\n    The ", {"type": "code", "text": ["usdmaterialpath"]}, " value can specify either the path to a material primitive, or the path to another primitive to copy the material binding from.\n    If the ", {"type": "ui", "text": ["Partition Attributes"]}, " include a ", {"type": "code", "text": ["materialBind"]}, " SOP attribute, material bindings can also be created for the resulting geometry subsets."], "extent": [8003, 8416]}], "container": true, "attrs": {"id": "bindmaterials"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Reference Type"], "extent": [8416, 8432], "body": [{"type": "para", "indent": 4, "text": ["(When ", {"type": "ui", "text": ["Load as reference"]}, " is on.) Control whether the SOP geometry is added to the reference primitive as a Payload or Reference composition arc. Also indicates whether this new composition arc should be made stronger or weaker than existing composition arcs on this primitive."], "extent": [8450, 8735]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Weaker Payload"], "extent": [8735, 8755], "body": [{"type": "para", "indent": 8, "text": ["Create a Payload composition arc that provides weaker opinions than existing payloads."], "extent": [8755, 8851]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Stronger Payload"], "extent": [8851, 8873], "body": [{"type": "para", "indent": 8, "text": ["Create a Payload composition arc that provides stronger opinions than existing payloads."], "extent": [8873, 8971]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Weaker Reference"], "extent": [8971, 8993], "body": [{"type": "para", "indent": 8, "text": ["Create a Reference composition arc that provides weaker opinions than existing references."], "extent": [8993, 9093]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Stronger Reference"], "extent": [9093, 9117], "body": [{"type": "para", "indent": 8, "text": ["Create a Reference composition arc that provides stronger opinions than existing references."], "extent": [9117, 9219]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "reftype"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Reference Primitive"], "extent": [9219, 9240], "body": [{"type": "para", "indent": 4, "text": ["(When ", {"type": "ui", "text": ["Load as reference"]}, " is on.) This node treats the converted geometry like an external USD geometry file. This controls which root-level prim to import from the USD prim hierarchy generated by converting the SOP geometry. You should leave this set to ", {"type": "q", "text": ["Reference Automatically Chosen Primitive"]}, "."], "extent": [9258, 9564]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Reference Automatically Chosen Primitive"], "extent": [9564, 9610], "body": [{"type": "para", "indent": 8, "text": ["If the referenced file has a ", {"scheme": null, "value": "/solaris/usd#default_prim", "type": "link", "text": ["default primitive"], "fullpath": "/solaris/usd.html#default_prim", "fragment": "#default_prim"}, " set, use that. If there is no default prim, use the first Xform prim at the root. If there is no Xform prim at the root, use the first root prim of any type."], "extent": [9610, 9852]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Reference Default Primitive"], "extent": [9852, 9885], "body": [{"type": "para", "indent": 8, "text": ["If the referenced file has a ", {"scheme": null, "value": "/solaris/usd#default_prim", "type": "link", "text": ["default primitive"], "fullpath": "/solaris/usd.html#default_prim", "fragment": "#default_prim"}, " set, use that. If not, display a warning on this node."], "extent": [9885, 10024]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Reference Specific Primitive"], "extent": [10024, 10058], "body": [{"type": "para", "indent": 8, "text": ["Reference in the scene graph path in the ", {"type": "ui", "text": ["Reference primitive path"]}, " parameter."], "extent": [10058, 10148]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "refprim"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Reference Primitive Path"], "extent": [10148, 10174], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Reference primitive"]}, " is ", {"type": "q", "text": ["Reference specific primitive"]}, ", this is the scene graph path to the prim to reference in."], "extent": [11621, 11748]}, {"type": "para", "indent": 4, "text": ["(If you set this field ", {"type": "code", "text": ["automaticPrim"]}, " or ", {"type": "code", "text": ["defaultPrim"]}, ", it mimics the behavior of setting ", {"type": "ui", "text": ["Reference primitive"]}, " to ", {"type": "q", "text": ["Reference automatically chosen primitive"]}, " or ", {"type": "q", "text": ["Reference default primitive"]}, ".)"], "extent": [11748, 11950]}], "container": true, "attrs": {"id": "refprimpath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Primitive Path"], "extent": [8988, 9004], "body": [{"type": "para", "indent": 4, "text": ["In create mode, this parameter specifies a single primitive path. This is the scene graph path where the referenced branch will be attached. If this prim doesn\u2019t exist, the node will create it. In edit mode, this parameter is a primitive pattern that will be matched against the existing primitives on the stage connected to this node\u2019s first input. You can use ", {"scheme": null, "value": "#locals", "type": "link", "text": ["local variables"], "fullpath": "/nodes/lop/reference.html#locals", "fragment": "#locals"}, " to control the reference primitive path."], "extent": [9023, 9457]}], "container": true, "attrs": {"id": "primpath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Make Instanceable"], "extent": [10281, 10300], "body": [{"type": "para", "indent": 4, "text": ["Mark the new or modified prims as ", {"scheme": null, "value": "/solaris/usd#instancing", "type": "link", "text": ["instanceable (as in ", {"type": "q", "text": ["native instancing"]}, ")"], "fullpath": "/solaris/usd.html#instancing", "fragment": "#instancing"}, ". This saves memory if you reference the same branch into multiple places, but makes the descendants of the referenced prim not editable. If this option is off, the prims are not explicitly marked as not instanceable. Instead, the current instanceable value on each prim is left unchanged."], "extent": [10323, 10718]}], "container": true, "attrs": {"id": "instanceable"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Parent Primitive Kind"], "extent": [10300, 10323], "body": [{"type": "para", "indent": 4, "text": ["If the prim at ", {"type": "ui", "text": ["Primitive path"]}, " doesn\u2019t exist, this node will create it. If it has to create the prim, it will give any intermediate prims it has to create this ", {"scheme": null, "value": "/solaris/usd#kinds", "type": "link", "text": ["kind"], "fullpath": "/solaris/usd.html#kinds", "fragment": "#kinds"}, "."], "extent": [10348, 10543]}], "container": true, "attrs": {"id": "parentprimkind"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Parent Primitive Type"], "extent": [20399, 20422], "body": [{"type": "para", "indent": 4, "text": ["If the prim at ", {"type": "ui", "text": ["Primitive path"]}, " doesn\u2019t exist, this node will create it. If it has to create the prim, it will give any intermediate prims it has to create this type."], "extent": [20447, 20622]}], "container": true, "attrs": {"id": "parentprimtype"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Apply Inverse USD Transform to Unpacked Geometry"], "extent": [5678, 5728], "body": [{"type": "para", "indent": 4, "text": ["If you turn on ", {"type": "ui", "text": ["Unpack USD primitives to polygons"]}, " or add your own ", {"scheme": "Node", "value": "/nodes/sop/unpackusd", "type": "link", "text": ["Unpack USD"], "fullpath": "/nodes/sop/unpackusd.html"}, " node in the subnet, the unpacked polygons have a ", {"type": "code", "text": ["usdxform"]}, " matrix attribute with the local-to-world transform of the USD primitive from which the polygon was unpacked. When this is on, before importing back into USD this node applies the inverse of the ", {"type": "code", "text": ["usdxform"]}, " attribute. This ensures the point positions imported back into LOPs do not include the transformations of the USD primitives (which would result in those transforms being double-applied)."], "extent": [5728, 6287]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Import Group"], "extent": [10579, 10593], "body": [{"type": "para", "indent": 4, "text": ["Turn this on and specify a group name (or a space-separated list of ", {"scheme": null, "value": "/model/groups", "type": "link", "text": ["group syntax"], "fullpath": "/model/groups.html"}, ") to import. If you turn this on but leave the field blank, it imports all geometry."], "extent": [10609, 10795]}], "container": true, "attrs": {"id": "group"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Import Group Type"], "extent": [10795, 10814], "body": [{"type": "para", "indent": 4, "text": ["When enabled, specifies the whether the ", {"type": "ui", "text": ["Import Group"]}, " is a point or primitive group."], "extent": [10834, 10927]}], "container": true, "attrs": {"id": "grouptype"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Import Path Prefix"], "extent": [10927, 10947], "body": [{"type": "para", "indent": 4, "text": ["If a prim being imported has an automatically generated name (like ", {"type": "code", "text": ["mesh_0"]}, ") because it had no path primitive, or if it has a path primitive but the path is relative (does not start with ", {"type": "code", "text": ["/"]}, "), the node automatically prefixes the name/path fragment with this path. This is a way of keeping ", {"type": "q", "text": ["un-pathed"]}, " prims organized under a single branch. (See ", {"scheme": null, "value": "/solaris/sop_import", "type": "link", "text": ["how to create geometry hierarchy"], "fullpath": "/solaris/sop_import.html"}, ".)"], "extent": [10968, 11375]}, {"type": "para", "indent": 4, "text": ["(The default is ", {"type": "code", "text": ["/$OS"]}, " which puts ", {"type": "q", "text": ["un-pathed"]}, " prims under a root prim with the name of this node.)"], "extent": [11375, 11479]}], "container": true, "attrs": {"id": "pathprefix"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Layer Save Path"], "extent": [11479, 11496], "body": [{"type": "para", "indent": 4, "text": ["When turned on, sets the Save Path metadata for the layer containing the geometry to this file path. When you write out USD using a ", {"scheme": "Node", "value": "/nodes/out/usd", "type": "link", "text": ["USD render node"], "fullpath": "/nodes/out/usd.html"}, ", the geometry is saved out to a ", {"type": "code", "text": [".usd"]}, " layer file using this file path (after ", {"scheme": null, "value": "/solaris/output#processors", "type": "link", "text": ["output processing"], "fullpath": "/solaris/output.html#processors", "fragment": "#processors"}, ")."], "extent": [11515, 11810]}], "container": true, "attrs": {"id": "savepath"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "id": "prim_def", "container": true, "type": "h", "indent": 0, "text": ["Primitive Definition"], "extent": [16, 54], "body": [{"type": "para", "indent": 0, "text": ["Parameters in this group guide the translation process in terms of how USD primitives are generated from the source SOP geometry."], "extent": [54, 186]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Packed USD Primitives"], "extent": [186, 209], "body": [{"type": "para", "indent": 4, "text": ["What to do with packed USD primitives in the imported SOP geometry."], "extent": [236, 313]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Ignore"], "extent": [313, 325], "body": [{"type": "para", "indent": 8, "text": ["Ignore packed USD primitives in the source SOP geometry."], "extent": [325, 391]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Overlay Transforms"], "extent": [391, 415], "body": [{"type": "para", "indent": 8, "text": ["Import the transformation of the packed USD primitive as an override (", {"type": "code", "text": ["Over"]}, ") prim. This makes it easy to transform the packed USD prims without unpacking them."], "extent": [415, 585]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Overlay Transforms and Attributes"], "extent": [585, 624], "body": [{"type": "para", "indent": 8, "text": ["In addition to ", {"type": "ui", "text": ["Overlay Transforms"]}, ", point or primitive SOP attributes on the packed USD primitive are imported as primvars with ", {"type": "code", "text": ["constant"]}, " interpolation."], "extent": [624, 790]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "packedusdhandling"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Other Primitives"], "extent": [790, 808], "body": [{"type": "para", "indent": 4, "text": ["What to do with regular non-packed primitives (points, curves, polygons, spheres, and so on)."], "extent": [835, 934]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Define"], "extent": [934, 946], "body": [{"type": "para", "indent": 8, "text": ["Create the USD prims for the imported geometry if they don\u2019t already exist. This is the standard way to import geometry."], "extent": [946, 1076]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Overlay"], "extent": [1076, 1089], "body": [{"type": "para", "indent": 8, "text": ["Create the USD prims as overrides. They will only be visible as changes to any prims that exist at a lower level with the same paths. This may be useful where you only want to import and modify certain attributes from SOPs onto existing USD geometry."], "extent": [1089, 1349]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Overlay Transforms"], "extent": [1349, 1373], "body": [{"type": "para", "indent": 8, "text": ["Like ", {"type": "q", "text": ["Overlay"]}, ", but only imports transform data."], "extent": [1373, 1431]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "otherprimhandling"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Define Only Leaf Primitives"], "extent": [1431, 1460], "body": [{"type": "para", "indent": 4, "text": ["Author intermediate primitives (for example, any ", {"type": "code", "text": ["Xform"]}, " prims created for the ", {"type": "ui", "text": ["Import path prefix"]}, ") as overrides instead of definitions. This means if they don\u2019t match up with underlying prims in lower layers, the leaf prims won\u2019t be added to the scene. This is useful if you only want to import the geometry if its ancestors already exist in the scene tree."], "extent": [1489, 1856]}, {"type": "para", "indent": 4, "text": ["(Note that all of the data is still imported, it just may not be visible in the scene graph tree or the viewport.)"], "extent": [1856, 1976]}], "container": true, "attrs": {"id": "defineonlyleafprims"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Packed Primitives"], "extent": [1976, 1995], "body": [{"type": "para", "indent": 4, "text": ["What to do with SOP-native packed primitives."], "extent": [2019, 2070]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Create Xforms"], "extent": [2070, 2089], "body": [{"type": "para", "indent": 8, "text": ["Creates an ", {"type": "code", "text": ["Xform"]}, " prim from the packed primitive\u2019s transform and attributes, and the packed primitive\u2019s geometry is imported underneath."], "extent": [2089, 2236]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Create Native Instances"], "extent": [2236, 2265], "body": [{"type": "para", "indent": 8, "text": ["Import the geometry in packed primitives as ", {"scheme": null, "value": "/solaris/usd#instancing", "type": "link", "text": ["instanceable references"], "fullpath": "/solaris/usd.html#instancing", "fragment": "#instancing"}, ". This imports each piece as a prototype under a ", {"type": "code", "text": ["Prototypes"]}, " prim under the ", {"type": "ui", "text": ["Import Path Prefix"]}, " prim."], "extent": [2265, 2473]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Create Point Instancer"], "extent": [2473, 2501], "body": [{"type": "para", "indent": 8, "text": ["Import the geometry in packed primitives as ", {"scheme": null, "value": "/solaris/usd#instancing", "type": "link", "text": ["point instanced geometry"], "fullpath": "/solaris/usd.html#instancing", "fragment": "#instancing"}, ". This imports each unique piece as a prototype under the point instancer prim."], "extent": [2501, 2684]}, {"type": "para", "indent": 8, "text": ["You can assign a SOP primitive attribute to the packed primitive named ", {"type": "code", "text": ["usdinstancerpath"]}, " to specify the USD scene graph path of the instancer."], "extent": [2684, 2837]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Unpack"], "extent": [2837, 2849], "body": [{"type": "para", "indent": 8, "text": ["Only imports the packed primitive\u2019s geometry.\n        Unlike the ", {"type": "ui", "text": ["Create Xforms"]}, " mode, this does not create any additional hierarchy, and is equivalent to ", {"scheme": "Node", "value": "/nodes/sop/unpack", "type": "link", "text": ["unpacking"], "fullpath": "/nodes/sop/unpack.html"}, " the packed primitive prior to being imported.\n        This can be useful for importing multiple pieces of geometry without merging their attributes."], "extent": [2849, 3192]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "packedhandling"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Agents"], "extent": [3192, 3200], "body": [{"type": "para", "indent": 4, "text": ["What to do with ", {"scheme": null, "value": "/crowds/agents", "type": "link", "text": ["agent primitives"], "fullpath": "/crowds/agents.html"}, ".\n    In all modes, a prim is created from the agent primitive\u2019s transform and attributes, and the agent\u2019s geometry and animation are imported underneath."], "extent": [3223, 3432]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Create Instanced SkelRoots"], "extent": [3432, 3464], "body": [{"type": "para", "indent": 8, "text": ["Imports the agent\u2019s skeleton and geometry as ", {"scheme": null, "value": "/solaris/usd#instancing", "type": "link", "text": ["instanceable references"], "fullpath": "/solaris/usd.html#instancing", "fragment": "#instancing"}, " to a ", {"type": "code", "text": ["SkelRoot"]}, " prim enclosing the skeleton and skinned primitives.\n        This imports each unique agent definition as a prototype under an ", {"type": "code", "text": ["agentdefinitions"]}, " prim under the ", {"type": "ui", "text": ["Import Path Prefix"]}, " prim."], "extent": [3464, 3773]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Create SkelRoots"], "extent": [3773, 3795], "body": [{"type": "para", "indent": 8, "text": ["Creates a ", {"type": "code", "text": ["SkelRoot"]}, " prim enclosing the agent\u2019s skeleton and skinned geometry, which is imported underneath.\n        This will be less efficient than ", {"type": "ui", "text": ["Create Instanced SkelRoots"]}, " for a large crowd, but can be useful for e.g. importing a single character where instancing is unnecessary."], "extent": [3795, 4093]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Create Instanced Skeletons"], "extent": [4093, 4125], "body": [{"type": "para", "indent": 8, "text": ["Imports the agent\u2019s skeleton as an ", {"scheme": null, "value": "/solaris/usd#instancing", "type": "link", "text": ["instanceable reference"], "fullpath": "/solaris/usd.html#instancing", "fragment": "#instancing"}, " to a ", {"type": "code", "text": ["Skeleton"]}, " prim.\n        This imports each unique agent definition as a prototype under an ", {"type": "code", "text": ["agentdefinitions"]}, " prim under the ", {"type": "ui", "text": ["Import Path Prefix"]}, " prim."], "extent": [4125, 4377]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Create Skeletons"], "extent": [4377, 4399], "body": [{"type": "para", "indent": 8, "text": ["Imports the agent\u2019s skeleton as a ", {"type": "code", "text": ["Skeleton"]}, " prim under the agent\u2019s ", {"type": "code", "text": ["Xform"]}, " prim.\n        This will be less efficient than ", {"type": "ui", "text": ["Create Instanced Skeletons"]}, " for a large crowd, but can be useful for e.g. importing a single character where instancing is unnecessary."], "extent": [4399, 4670]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Create SkelAnimations"], "extent": [4670, 4697], "body": [{"type": "para", "indent": 8, "text": ["Only imports the agent\u2019s joint animation, creating a ", {"type": "code", "text": ["SkelAnimation"]}, " prim.\n        This can be used to efficiently import a sequence of frames, since the agent\u2019s skeleton and rest geometry are typically unchanged between frames."], "extent": [4697, 4935]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "agenthandling"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["NURBS Curves"], "extent": [4935, 4949], "body": [{"type": "para", "indent": 4, "text": ["What to do with NURBS curve primitives."], "extent": [4977, 5022]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Convert to Basis Curves"], "extent": [5022, 5051], "body": [{"type": "para", "indent": 8, "text": ["Import the curves as a ", {"type": "code", "text": ["BasisCurves"]}, " primitive.\n        This only supports cubic curves, but is useful for ", {"scheme": null, "value": "/solaris/usd#render", "type": "link", "text": ["rendering through Hydra"], "fullpath": "/solaris/usd.html#render", "fragment": "#render"}, "."], "extent": [5051, 5214]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Create NURBS Curves"], "extent": [5214, 5239], "body": [{"type": "para", "indent": 8, "text": ["Import the curves as a ", {"type": "code", "text": ["NurbsCurves"]}, " primitive.\n        This provides complete round-tripping of NURBS curves, but has limited support for ", {"scheme": null, "value": "/solaris/usd#rendering", "type": "link", "text": ["rendering through Hydra"], "fullpath": "/solaris/usd.html#rendering", "fragment": "#rendering"}, "."], "extent": [5239, 5437]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "nurbscurvehandling"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["NURBS Surfaces"], "extent": [5437, 5453], "body": [{"type": "para", "indent": 4, "text": ["What to do with NURBS surface primitives."], "extent": [5480, 5527]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Convert to Meshes"], "extent": [5527, 5550], "body": [{"type": "para", "indent": 8, "text": ["Import the surface as a ", {"type": "code", "text": ["Mesh"]}, " primitive, which can be useful for ", {"scheme": null, "value": "/solaris/usd#render", "type": "link", "text": ["rendering through Hydra"], "fullpath": "/solaris/usd.html#render", "fragment": "#render"}, "."], "extent": [5550, 5672]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Create NURBS Patches"], "extent": [5672, 5698], "body": [{"type": "para", "indent": 8, "text": ["Import the surface as a ", {"type": "code", "text": ["NurbsPatch"]}, " primitive.\n        This can be useful for round-tripping of NURBS surfaces, but has limited support for ", {"scheme": null, "value": "/solaris/usd#rendering", "type": "link", "text": ["rendering through Hydra"], "fullpath": "/solaris/usd.html#rendering", "fragment": "#rendering"}, "."], "extent": [5698, 5898]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "nurbssurfhandling"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Kind Authoring"], "extent": [5898, 5914], "body": [{"type": "para", "indent": 4, "text": ["How to assign ", {"scheme": null, "value": "/solaris/usd#kinds", "type": "link", "text": ["kinds"], "fullpath": "/solaris/usd.html#kinds", "fragment": "#kinds"}, " to imported prims."], "extent": [5934, 5999]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["All Geometry is One Component"], "extent": [5999, 6034], "body": [{"type": "para", "indent": 8, "text": ["Set root primitives in the imported tree to Component. Do not set kinds on descendants."], "extent": [6034, 6131]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Nested Groups and Components"], "extent": [6131, 6165], "body": [{"type": "para", "indent": 8, "text": ["Set leaf primitives in the imported tree to Component. Set branch primitives to Group."], "extent": [6165, 6261]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Nested Assembly, Groups, and Components"], "extent": [6261, 6306], "body": [{"type": "para", "indent": 8, "text": ["Set root prims in the imported tree to Assembly. Set intermediate branch prims to Group. Set leaf prims to Component."], "extent": [6306, 6433]}], "container": true}, {"type": "dt", "indent": 4, "text": ["None"], "extent": [6433, 6443], "body": [{"type": "para", "indent": 8, "text": ["Do not set kinds on the imported prims."], "extent": [6443, 6492]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "kindschema"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Path Attributes"], "extent": [6492, 6509], "body": [{"type": "para", "indent": 4, "text": ["A (comma or space-separated) list of names of SOP ", {"type": "strong", "text": ["primitive string attributes"]}, " to use to use as prim paths to put the SOP geometry into. The default is ", {"type": "code", "text": ["path,name"]}, ". See ", {"scheme": null, "value": "#import", "type": "link", "text": ["geometry hierarchy"], "fullpath": "/nodes/lop/_sopimport_shared.html#import", "fragment": "#import"}, " above."], "extent": [6527, 6738]}, {"type": "para", "indent": 4, "text": ["If the list has more than one attribute, the importer checks each attribute for the first non-empty value."], "extent": [6738, 6850]}, {"type": "para", "indent": 4, "text": ["If the string value a full path, that path is used as the USD scene graph path for that primitive. If the string is a relative path (or just a name), the string is appended to the ", {"type": "ui", "text": ["Import Path Prefix"]}, " string to generate a full scene graph path."], "extent": [6850, 7102]}, {"type": "para", "indent": 4, "text": ["If none of the listed attributes exist on a given SOP primitive, or all values are an empty string, the importer generates a name automatically (for example, ", {"type": "code", "text": ["sphere_0"]}, ")."], "extent": [7102, 7278]}], "container": true, "attrs": {"id": "pathattr"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Prefix Absolute Paths"], "extent": [7278, 7301], "body": [{"type": "para", "indent": 4, "text": ["Whether absolute path values from ", {"type": "ui", "text": ["Path Attributes"]}, " should be prefixed/parented or not. By default this is off and only relative path values are prefixed."], "extent": [7330, 7492]}], "container": true, "attrs": {"id": "prefixabsolutepaths"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Import HeightFields as Mesh"], "extent": [7492, 7521], "body": [{"type": "para", "indent": 4, "text": ["If the source SOP geometry contains a height field volume, it will be imported as polygonal mesh. Other layers will be imported as vertex primvar if the values are varying, or constant primvar if the values are constant."], "extent": [7549, 7775]}], "container": true, "attrs": {"id": "heightfieldconvert"}, "role": "item"}], "container": true}]}, {"type": "include_group", "body": [{"ext": "sopimport#geom_handlling", "type": "include", "indent": 0, "role": "item", "extent": [6437, 6473]}], "container": true, "role": "item_group"}, {"level": 3, "id": "import_data", "container": true, "type": "h", "indent": 0, "text": ["Import Data"], "extent": [9006, 9038], "body": [{"type": "para", "indent": 0, "text": ["These parameters affect the conversion of SOP geometry attributes into USD attributes and primvars, and the choice between default and time sampled value authoring."], "extent": [9038, 9205]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Author Time Samples"], "extent": [9205, 9226], "body": [{"type": "para", "indent": 4, "text": ["Whether values imported from SOPs should be authored as default values for the corresponding USD attributes, or as a time sample (at the time in the timeline)."], "extent": [9253, 9418]}, {"type": "para", "indent": 4, "text": ["(When the USD system is asked for an attribute value, it returns the default if no time samples exist on the attribute. Otherwise it returns a value interpolated from the time sample data.)"], "extent": [9418, 9613]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["If SOP is Time Dependent"], "extent": [9613, 9643], "body": [{"type": "para", "indent": 8, "text": ["If the SOP node the geometry comes from is time-dependent (is animated or contains animated values), write time samples. Otherwise, write defaults."], "extent": [9643, 9800]}], "container": true}, {"type": "dt", "indent": 4, "text": ["If Not Specifically Excluded"], "extent": [9800, 9834], "body": [{"type": "para", "indent": 8, "text": ["Author all values as time samples except for attributes listed in the ", {"type": "ui", "text": ["Single Value Attributes"]}, " parameter."], "extent": [9834, 9952]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Never"], "extent": [9952, 9963], "body": [{"type": "para", "indent": 8, "text": ["Author all values as defaults."], "extent": [9963, 10003]}], "container": true}], "container": true}, {"type": "para", "indent": 4, "text": ["(This is the only parameter on this node you can\u2019t pre-configure on the geometry with the ", {"scheme": "Node", "value": "/nodes/sop/usdconfigure", "type": "link", "text": ["USD Configure SOP"], "fullpath": "/nodes/sop/usdconfigure.html"}, ". This is because it requires a ", {"type": "q", "text": ["live"]}, " SOP, not just attribute values embedded in the geometry.)"], "extent": [10003, 10236]}], "container": true, "attrs": {"id": "authortimesamples"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Topology Attributes"], "extent": [10236, 10257], "body": [{"type": "para", "indent": 4, "text": ["Controls whether USD topology attributes should be authored as time sampled or default values."], "extent": [10283, 10383]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Animated"], "extent": [10383, 10397], "body": [{"type": "para", "indent": 8, "text": ["If you know that topology is changing in the source geometry over time, choose this option to record topology attributes as time samples in the USD scene graph. Having animated topology can be very expensive during playback, so only use this option when necessary."], "extent": [10397, 10671]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Static"], "extent": [10671, 10683], "body": [{"type": "para", "indent": 8, "text": ["Write topology attributes as default values. This can make playback much faster, but limits how the topology can change over time."], "extent": [10683, 10823]}], "container": true}, {"type": "dt", "indent": 4, "text": ["None"], "extent": [10823, 10833], "body": [{"type": "para", "indent": 8, "text": ["Do not author topology attributes."], "extent": [10833, 10877]}, {"type": "para", "indent": 8, "text": ["This is useful when USD data is sent to SOPs for processing, then brought back into LOPs. Using this option tells the importer that the geometry topology has not changed in this process, so only the changing point positions or other primvars will be imported."], "extent": [10877, 11146]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "topologyhandling"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Attributes"], "extent": [11146, 11158], "body": [{"type": "para", "indent": 4, "text": ["A space-separated list of attribute names/patterns specifying which SOP attributes to import into USD as primvars."], "extent": [11175, 11295]}, {"type": "para", "indent": 4, "text": ["In addition to matching attribute names directly, there are some values with special meanings:"], "extent": [11295, 11395]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": [{"type": "code", "text": ["bounds"]}], "extent": [11395, 11409], "body": [{"type": "para", "indent": 8, "text": ["Authors the USD ", {"type": "code", "text": ["extent"]}, " attribute using the calculated bounding box of the associated SOP geometry."], "extent": [11409, 11519]}], "container": true}, {"type": "dt", "indent": 4, "text": [{"type": "code", "text": ["visibility"]}], "extent": [11519, 11537], "body": [{"type": "para", "indent": 8, "text": ["Authors the USD visibility attribute based on the value of the ", {"type": "code", "text": ["usdvisibility"]}, " geometry attribute."], "extent": [11537, 11645]}], "container": true}], "container": true}, {"type": "para", "indent": 4, "text": ["See ", {"scheme": null, "value": "/solaris/sop_import#attrs", "type": "link", "text": ["importing attributes"], "fullpath": "/solaris/sop_import.html#attrs", "fragment": "#attrs"}, " for information on how the importer deals converts certain well-known Houdini attributes to their USD equivalents."], "extent": [11645, 11818]}], "container": true, "attrs": {"id": "attribs"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Indexed Attributes"], "extent": [11818, 11838], "body": [{"type": "para", "indent": 4, "text": ["A space-separated list of attribute names/patterns specifying which SOP attributes to import into USD as indexed primvars."], "extent": [11860, 11988]}, {"type": "para", "indent": 4, "text": ["If a SOP attribute matches this pattern, the importer authors the primvar as an indexed array of values (that is, an array of values call ", {"type": "code", "text": ["primvars:", {"type": "var", "text": ["name"]}]}, ", and an array of indices into those values called ", {"type": "code", "text": ["primvars:", {"type": "var", "text": ["name"]}, ":indices"]}, ")."], "extent": [11988, 12231]}, {"type": "para", "indent": 4, "text": ["Preparing an indexed primvar can be expensive for attributes that are not integers or strings. You should only use indexed primvars where it is likely to result in significant savings in storage size due to a small number of unique values being used across a large number of components."], "extent": [12231, 12523]}], "container": true, "attrs": {"id": "indexattribs"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Import as Single Element Array"], "extent": [12523, 12555], "body": [{"type": "para", "indent": 4, "text": ["A space-separated list of attribute names/patterns specifying which SOP attributes to import into USD as primvars with ", {"type": "code", "text": ["Constant"]}, " interpolation (an array with a single value for the whole primitive), regardless of whether the SOP geometry attribute is a point, primitive, or vertex attribute. If multiple values could be chosen for a particular USD primitive, the importer chooses the first value it encounters.\n    Importing as a single element array (versus ", {"type": "ui", "text": ["Import as Single Value"]}, ") can be useful since it allows the primvar\u2019s interpolation to be overridden without changing the primvar\u2019s type."], "extent": [12580, 13185]}], "container": true, "attrs": {"id": "constantattribs"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Import as Single Value"], "extent": [13185, 13209], "body": [{"type": "para", "indent": 4, "text": ["A space-separated list of attribute names/patterns specifying which SOP attributes to import into USD as primvars with ", {"type": "code", "text": ["Constant"]}, " interpolation and a single value for the whole primitive, regardless of whether the SOP geometry attribute is a point, primitive, or vertex attribute. If multiple values could be chosen for a particular USD primitive, the importer chooses the first value it encounters.\n    This is the default behavior for how detail attributes are imported.\n    This is similar to ", {"type": "ui", "text": ["Import as Single Element Array"]}, ", but the primvar\u2019s type is a scalar value instead of an array with a single element (for example, ", {"type": "code", "text": ["vector3f"]}, " instead of ", {"type": "code", "text": ["vector3f[]"]}, ")."], "extent": [13240, 13911]}], "container": true, "attrs": {"id": "scalarconstantattribs"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Boolean Attributes"], "extent": [13911, 13931], "body": [{"type": "para", "indent": 4, "text": ["A space-separated list of attribute names/patterns specifying which integer SOP attributes should be converted to primvars of type ", {"type": "code", "text": ["bool"]}, "."], "extent": [13952, 14096]}], "container": true, "attrs": {"id": "boolattribs"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Set Default Values"], "extent": [14096, 14116], "body": [{"type": "para", "indent": 4, "text": ["A space-separated list of attribute names/patterns specifying which SOP attributes to always author as default values for USD primvars (never time samples). This is the list of exclusions when ", {"type": "ui", "text": ["Author Time Samples"]}, " is set to ", {"type": "q", "text": ["If Not Specifically Excluded"]}, "."], "extent": [14139, 14403]}], "container": true, "attrs": {"id": "staticattribs"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Partition Attributes"], "extent": [14403, 14425], "body": [{"type": "para", "indent": 4, "text": ["A space-separated list of attribute names/patterns specifying which SOP primitive string attributes represent subsets of the geometry. For mesh and curve primitives, the importer puts elements with the same value for this attribute into their own geometry subsets."], "extent": [14451, 14721]}, {"type": "para", "indent": 4, "text": ["The importer will try to set the subset name to the attribute value, but may need to change the name make it a legal USD primitive name. The importer stores the raw attribute value on the geometry subset prim as Custom Data with the key ", {"type": "code", "text": ["partitionValue"]}, "."], "extent": [14721, 14981]}], "container": true, "attrs": {"id": "partitionattribs"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Prefix Subsets with Attribute Name"], "extent": [14981, 15017], "body": [{"type": "para", "indent": 4, "text": ["When creating subsets from ", {"type": "ui", "text": ["Partition Attributes"]}, ", the subsets are named by combining the attribute name with the partition attribute\u2019s value (a string or integer).\n    This avoids name collisions when multiple partition attributes contain the same values, but can be undesirable if precise control of the subset names is required.\n    For string attributes, if this option is disabled the attribute values will be directly used as the subset names."], "extent": [15049, 15506]}], "container": true, "attrs": {"id": "prefixpartitionsubsets"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Subset Groups"], "extent": [15506, 15521], "body": [{"type": "para", "indent": 4, "text": ["A space-separated list of group names/patterns specifying SOP primitive ", {"scheme": null, "value": "/model/groups", "type": "link", "text": ["groups"], "fullpath": "/model/groups.html"}, ". SOP polygon and curve primitives in each group will be imported as a geometry subset, named for the group."], "extent": [15543, 15751]}], "container": true, "attrs": {"id": "subsetgroups"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["USD Custom Attributes"], "extent": [15751, 15774], "body": [{"type": "para", "indent": 4, "text": ["A space-separated list of attribute names/patterns specifying which SOP attributes to import into USD as attributes (rather than primvars)."], "extent": [15797, 15942]}], "container": true, "attrs": {"id": "customattribs"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Translate UV Attribute to ST"], "extent": [15942, 15972], "body": [{"type": "para", "indent": 4, "text": ["Convert the SOP vertex attribute ", {"type": "code", "text": ["uv"]}, " into a USD primvar called ", {"type": "code", "text": ["primvars:st"]}, ". Whether you need to turn this on depends on which renderer you are using and how your shaders are authored. If you are rendering with Karma, leave this off."], "extent": [15997, 16238]}, {"type": "para", "indent": 4, "text": ["(As of this writing there is no strict standard for texture coordinate naming in USD, but the use of ", {"type": "code", "text": ["st"]}, " is a common convention, whereas in SOP geometry, using ", {"type": "code", "text": ["uv"]}, " is the common convention.)"], "extent": [16238, 16435]}], "container": true, "attrs": {"id": "translateuvtost"}, "role": "item"}], "container": true}]}]}], "text": "Parameters"}], "title": ["SOP Modify"], "summary": ["Converts USD geometry into SOP geometry, runs the SOP subnet inside this node on the geometry, and converts the changes back to USD overrides."], "included": ["/nodes/lop/_primpattern", "/nodes/lop/_sopimport_shared", "/nodes/lop/reference", "/nodes/lop/sopimport", "/nodes/sop/lopimport", "/nodes/sop/unpackusd", "/solaris/usd"]}