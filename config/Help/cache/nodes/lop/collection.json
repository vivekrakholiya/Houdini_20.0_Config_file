{"type": "root", "attrs": {"type": "node", "context": "lop", "internal": "collection", "version": "2.0", "icon": "LOP/collection", "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Collection"], "extent": [0, 15]}, {"type": "summary", "indent": 0, "text": ["Creates/edits collections using primitive patterns."], "extent": [100, 159]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Tips"], "extent": [159, 170], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["USD collections can specify their contents with a combination of ", {"type": "q", "text": ["includes"]}, " and ", {"type": "q", "text": ["excludes"]}, ". The contents of the collection is the prims that match the includes and don\u2019t match any excludes. This lets you sometimes write a broad ", {"type": "q", "text": ["include"]}, ", and then ", {"type": "q", "text": ["carve out"]}, " the prims you don\u2019t want with ", {"type": "q", "text": ["excludes"]}, "."], "extent": [170, 476], "body": [{"type": "para", "indent": 4, "text": ["By default, this node does not show UI for exclude rules. Turn on ", {"type": "ui", "text": ["Add exclusions"]}, " to show a separate parameter for specifying a set of prims to exclude."], "extent": [476, 637]}], "container": true}], "container": true}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [637, 649], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Create Primitive If Required"], "extent": [649, 680], "body": [{"type": "para", "indent": 4, "text": ["If the primitive at ", {"type": "ui", "text": ["Primitive path"]}, " doesn\u2019t exist, the node will create it. (The node creates a primitive with no defined Type.)"], "extent": [680, 817]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Default Primitive Path"], "extent": [817, 841], "body": [{"type": "para", "indent": 4, "text": ["The default primitive on which to author the collections. This parameter is referenced by default by the individual ", {"type": "ui", "text": ["Primitive path"]}, " parameters for each collection. The value of this parameter is automatically set to the value of the Collection Primitive Path preference when this node is created."], "extent": [841, 1146]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Number of Collections"], "extent": [1146, 1169], "body": [{"type": "para", "indent": 4, "text": ["The number of collections to create or modify."], "extent": [1169, 1221]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Enable"], "extent": [1221, 1229], "body": [{"type": "para", "indent": 4, "text": ["Turn off this option to turn off an individual collection edit without losing the parameter values that define it."], "extent": [1229, 1349]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Primitive Path"], "extent": [1349, 1365], "body": [{"type": "para", "indent": 4, "text": ["The primitive to author the collection attribute on. This parameter can be left blank, in which case no USD collection will be authored."], "extent": [1365, 1507]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Collection Name"], "extent": [1507, 1524], "body": [{"type": "para", "indent": 4, "text": ["The name of the collection to create/edit. This parameter can be left blank, in which case no USD collection will be authored."], "extent": [1524, 1656]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Add to Last Modified Primitives"], "extent": [1656, 1689], "body": [{"type": "para", "indent": 4, "text": ["Turn on this option to have the members of this collection added to this node\u2019s set of last modified primitives. This set of primitives is not recorded on the USD stage, but can be accessed by following LOP node using expression functions or HOM. Even if no USD collection is authored, the last modified primitives can still be affected by these parameters."], "extent": [1689, 2052]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Icon"], "extent": [2052, 2058], "body": [{"type": "para", "indent": 8, "text": ["A path to an icon or image file that should be associated with the collection in the Scene Graph Tree\u2019s collections panel. This icon path is stored in a the custom data dictionary of the collection\u2019s include relationship."], "extent": [2058, 2289]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Expansion Rule"], "extent": [2289, 2305], "body": [{"type": "para", "indent": 4, "text": ["Whether to include descendants of selected prims in the collection."], "extent": [2305, 2378]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["No Expansion"], "extent": [2378, 2396], "body": [{"type": "para", "indent": 8, "text": ["Only paths in the includes (and not in the excludes) belong to the collection. (", {"type": "code", "text": ["explicitOnly"]}, ")"], "extent": [2396, 2501]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Expand Primitives"], "extent": [2501, 2524], "body": [{"type": "para", "indent": 8, "text": ["All the prims at or below the includes (and not under the excludes) belong to the collection. (", {"type": "code", "text": ["expandPrims"]}, ")"], "extent": [2524, 2643]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Expand Primitives and Properties"], "extent": [2643, 2681], "body": [{"type": "para", "indent": 8, "text": ["Like ", {"type": "q", "text": ["Expand Primitives"]}, ", but also includes all properties on all matched prims."], "extent": [2681, 2771]}, {"type": "para", "indent": 8, "text": ["According to the Pixar documentation: ", {"type": "q", "text": ["We're still not quite sure what the use cases are for this, but you can use it to capture a whole lot of UsdObjects very concisely."]}, "\""], "extent": [2771, 2953]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Allow Instance Proxies in Collection"], "extent": [2953, 2991], "body": [{"type": "para", "indent": 4, "text": ["Instance proxies are prims under ", {"scheme": null, "value": "/solaris/usd#instancing", "type": "link", "text": ["instanceable primitives"], "fullpath": "/solaris/usd.html#instancing", "fragment": "#instancing"}, ". Since they are inside instances, they are not editable, so it ", {"type": "em", "text": ["usually"]}, " doesn\u2019t make sense to add them to collections."], "extent": [2991, 3199]}, {"type": "para", "indent": 4, "text": ["However in some cases, such as material binding, it is possible to refer to instance proxy prims. In those limited cases, it may be useful to be able to put instance proxy prims in collections. (Per-instance material bindings are not currently supported by the rendering framework, but they will be at some point.)"], "extent": [3199, 3519]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Primitives"], "extent": [16, 28], "body": [{"type": "para", "indent": 4, "text": ["The primitive(s) the node should operate on. You can drag primitives from the scene graph tree pane into this textbox to add their paths, or click the ", {"scheme": "Smallicon", "value": "BUTTONS/reselect", "type": "link", "text": "", "fullpath": "/nodes/lop/BUTTONS/reselect.html"}, " Reselect button beside the text box to select the primitives in the viewer, or ", {"keys": ["Ctrl"], "type": "keys", "text": null}, "-click the Reselect button to choose prims from a pop-up tree window. You can also use ", {"scheme": null, "value": "/solaris/pattern", "type": "link", "text": ["primitive patterns"], "fullpath": "/solaris/pattern.html"}, " for advanced matching, including matching all prims in a collection (using ", {"type": "code", "text": ["/path/to/prim.collection:", {"type": "var", "text": ["name"]}]}, ")."], "extent": [50, 560]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [560, 570], "body": [{"type": "para", "indent": 8, "text": ["This parameter needs to be exposed in order for the transform handles to be context-aware. Without it, the handles may not be positioned properly."], "extent": [570, 725]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "primpattern"}, "role": "item"}], "container": true, "role": "item_group"}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [3543, 3548], "body": [{"type": "para", "indent": 4, "text": ["In addition to the standard primitive patterns, you can use the special token ", {"type": "code", "text": ["%self"]}, " in this parameter to specify the current members of the include relationships of this collection (if it already exists). This means that using just ", {"type": "code", "text": ["%self"]}, " in this parameter will result in no changes to the collection, even if the collection has exclusions."], "extent": [3548, 3897]}], "container": true}], "container": true, "role": "item_group"}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Set Exclusions"], "extent": [3897, 3913], "body": [{"type": "para", "indent": 4, "text": ["Show another primitive pattern parameter for specifying primitives for the collection\u2019s exclusion relationship. During composition, USD removes primitives from the exclude relationship from the list of prims in the include relationship to get the final collection contents. If this option is off, the exclude relationship for the collection is unchanged by this node."], "extent": [3913, 4286]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Exclude Primitives"], "extent": [4286, 4306], "body": [{"type": "para", "indent": 4, "text": ["Using the same format as the ", {"type": "ui", "text": ["Primitives"]}, " parameter, specify a set of primitives that should be explicitly excluded from the collection."], "extent": [4306, 4450]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [4450, 4455], "body": [{"type": "para", "indent": 4, "text": ["In addition to the standard primitive patterns, you can use the special token ", {"type": "code", "text": ["%self"]}, " in this parameter to specify the current members of this collection (if it already exists). Note that this does take existing exclusions into account, and is therefore slightly different from the use of ", {"type": "code", "text": ["%self"]}, " in the ", {"type": "ui", "text": ["Primitives"]}, " parameter. This slightly different definition makes it easy to invert a collection\u2019s membership by includeing ", {"type": "code", "text": ["*"]}, " and excluding ", {"type": "code", "text": ["%self"]}, "."], "extent": [4455, 4915]}], "container": true}], "container": true, "role": "item_group"}], "text": "Parameters"}], "title": ["Collection"], "summary": ["Creates/edits collections using primitive patterns."], "included": ["/nodes/lop/_primpattern"]}