{"type": "root", "attrs": {"type": "node", "context": "lop", "internal": "switch", "icon": "COMMON/switch", "group": "util", "since": "17.0", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Switch"], "extent": [0, 11]}, {"type": "summary", "indent": 0, "text": ["Passes through one of several inputs, based on a parameter choice or expression."], "extent": [103, 192]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [192, 207], "body": [{"type": "para", "indent": 0, "text": ["Sometimes you will use this node to interactively switch between several options, but more often you will use an expression to compute which input to pass through, based on some other input(s)."], "extent": [207, 403]}, {"type": "para", "indent": 0, "text": ["You can choose the input based on its position in the multi-input, or by name."], "extent": [403, 483]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["When ", {"type": "ui", "text": ["Choose input"]}, " is ", {"type": "code", "text": ["By index"]}, ", you choose the input by its position (from left to right, starting at 0) in the connections to this node\u2019s multi-input."], "extent": [483, 643], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["You can rearrange the inputs by clicking the ", {"scheme": "Icon", "value": "BUTTONS/list_reorderup", "type": "link", "text": "", "fullpath": "/nodes/lop/BUTTONS/list_reorderup.html"}, " Move up button next to an item in the list of inputs below the parameters."], "extent": [643, 800]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Any expression you write in the ", {"type": "ui", "text": ["Select input"]}, " field should evaluate to a whole number."], "extent": [800, 897]}], "container": true}], "container": true}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["When ", {"type": "ui", "text": ["Choose input"]}, " is ", {"type": "code", "text": ["By name"]}, ", you choose the input by its name."], "extent": [897, 970], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["To rename an input, click in the ", {"type": "q", "text": ["Input name"]}, " column on the input row in the list of inputs below the parameters, type the new name, and press ", {"keys": ["Enter"], "type": "keys", "text": null}, "."], "extent": [970, 1131]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["The ", {"type": "ui", "text": ["Input name default"]}, " parameter contains an expression to generate names for inputs that you haven\u2019t named manually. The default (", {"type": "code", "text": ["opinput(\".\", @input)"]}, ") uses the name of the node connected to the input (this is the same name that is shown in ", {"type": "q", "text": ["Input"]}, " column in the list of inputs below the parameters)."], "extent": [1131, 1446]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Any expression you write in the ", {"type": "ui", "text": ["Select input"]}, " field should evaluate to a string."], "extent": [1446, 1537]}], "container": true}], "container": true}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["When ", {"type": "ui", "text": ["Choose input"]}, " is ", {"type": "code", "text": ["By pattern matching"]}, ", you choose the input by assigning a pattern to each input, and comparing those patterns to the ", {"type": "ui", "text": ["Select input"]}, " value."], "extent": [1537, 1707], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["To set the pattern for each input, click in the ", {"type": "q", "text": ["Match Pattern"]}, " column of the list of inputs below the parameters."], "extent": [1707, 1829]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["This style of input selection is useful when a context option or other expression needs to drive the input, but not according to a simple one to one relationship."], "extent": [1829, 2000]}], "container": true}], "container": true}], "container": true}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Tips"], "extent": [2000, 2011], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["If the value in the ", {"type": "ui", "text": ["Select input"]}, " field does not correspond to an actual input, this node outputs an ", {"type": "strong", "text": ["empty stage"]}, ". This does not generate any warning or error."], "extent": [2011, 2179]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Like the ", {"scheme": "Node", "value": "/nodes/lop/null", "type": "link", "text": ["Null LOP"], "fullpath": "/nodes/lop/null.html"}, ", this node shares the same stage object between the input and output, so using it adds no real performance penalty unless the expression is slow to evaluate."], "extent": [2179, 2374]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["The ", {"type": "ui", "text": ["Select input"]}, " parameter is actually three different parameters, one for each possible value of the ", {"type": "ui", "text": ["Choose input"]}, " parameter. This is important if you're trying to script the parameters."], "extent": [2374, 2573]}], "container": true}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [2573, 2585], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Choose Input"], "extent": [2585, 2600], "body": [{"type": "para", "indent": 4, "text": ["Specifies how this node decides which input to pass through."], "extent": [2600, 2666]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["By Input Index"], "extent": [2666, 2686], "body": [{"type": "para", "indent": 8, "text": ["Choose the input by setting ", {"type": "ui", "text": ["Select input"]}, " to position of the connection in the multi-input (numbered from left to right, starting at 0)."], "extent": [2686, 2835]}], "container": true}, {"type": "dt", "indent": 4, "text": ["By Input Name"], "extent": [2835, 2854], "body": [{"type": "para", "indent": 8, "text": ["Choose which input to pass through by setting ", {"type": "ui", "text": ["Select input"]}, " to its name."], "extent": [2854, 2939]}], "container": true}, {"type": "dt", "indent": 4, "text": ["By Pattern Matching"], "extent": [2939, 2964], "body": [{"type": "para", "indent": 8, "text": ["Choose which input to pass through by setting ", {"type": "ui", "text": ["Select input"]}, " to a value which is compared to the ", {"type": "ui", "text": ["Match pattern"]}, " of each input, starting with the input on the left and moving right. The first input with a pattern that matches the value is passed through."], "extent": [2964, 3232]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Select Input (integer)"], "extent": [3232, 3256], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Choose input"]}, " is set to ", {"type": "code", "text": ["By index"]}, ", the index of the input to pass through (the position of the connection in the node\u2019s multi-input, from left to right starting at 0)."], "extent": [3272, 3454]}], "container": true, "attrs": {"id": "input"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Select Input (string)"], "extent": [3454, 3477], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Choose input"]}, " is set to ", {"type": "code", "text": ["By name"]}, ", the name of the input to pass through. The expression in the ", {"type": "ui", "text": ["Input name default"]}, " field computes a default name for each input (by default, the name of the node connected to the input), and you can rename inputs manually by clicking in the list of inputs below the parameters."], "extent": [3503, 3830]}], "container": true, "attrs": {"id": "selectinputname"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Select Input (string to pattern match)"], "extent": [3830, 3870], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Choose input"]}, " is set to ", {"type": "code", "text": ["By pattern matching"]}, ", the value that is compared against each input\u2019s pattern. You can set the pattern associated with each input by clicking in the ", {"type": "code", "text": ["Match pattern"]}, " column of the list of inputs below the parameters."], "extent": [3897, 4151]}], "container": true, "attrs": {"id": "selectinputvalue"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Bad Input Response"], "extent": [4151, 4171], "body": [{"type": "para", "indent": 4, "text": ["Controls the behavior of this node if an invalid input is specified by the ", {"type": "ui", "text": ["Select input"]}, " parameter."], "extent": [4190, 4298]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Output Empty Stage"], "extent": [4298, 4322], "body": [{"type": "para", "indent": 8, "text": ["An empty stage is output, ignoring all connected inputs."], "extent": [4322, 4388]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Warn And Output Empty Stage"], "extent": [4388, 4421], "body": [{"type": "para", "indent": 8, "text": ["An empty stage is output, ignoring all connected inputs. In addition, a warning is added to this node."], "extent": [4421, 4533]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Error"], "extent": [4533, 4544], "body": [{"type": "para", "indent": 8, "text": ["An error is added to this node, so nothing is output."], "extent": [4544, 4607]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Clamp to Input Range"], "extent": [4607, 4633], "body": [{"type": "para", "indent": 8, "text": ["If the input is selected by integer index, and the value is less than zero, the first input is passed through. If the value is greater than the number of inputs, the last input is passed through. If the input is selected by name and the specified input name doesn\u2019t exist, the first input is passed through."], "extent": [4633, 4950]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Use Fallback Input"], "extent": [4950, 4974], "body": [{"type": "para", "indent": 8, "text": ["The ", {"type": "ui", "text": ["Fallback input"]}, " is used. If the ", {"type": "ui", "text": ["Fallback input"]}, " is also invalid, this will always generate an error, and nothing will be output from this node."], "extent": [4974, 5137]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "badinput"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Fallback Input (integer)"], "extent": [5137, 5163], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Choose input"]}, " is ", {"type": "code", "text": ["By index"]}, " and ", {"type": "ui", "text": ["Bad input response"]}, " is ", {"type": "code", "text": ["Use Fallback Input"]}, ", the index of the input to pass through if ", {"type": "ui", "text": ["Select input (integer)"]}, " specifies an out of range input index."], "extent": [5182, 5383]}], "container": true, "attrs": {"id": "fallback"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Fallback Input (string)"], "extent": [5383, 5408], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Choose input"]}, " is ", {"type": "code", "text": ["By name"]}, " or ", {"type": "code", "text": ["By pattern matching"]}, " and ", {"type": "ui", "text": ["Bad input response"]}, " is ", {"type": "code", "text": ["Use Fallback Input"]}, ", the name of the input to pass through if ", {"type": "ui", "text": ["Select input (string)"]}, " specifies an input name that doesn\u2019t exist."], "extent": [5437, 5665]}], "container": true, "attrs": {"id": "selectfallbackname"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Input Name Default"], "extent": [5665, 5685], "body": [{"type": "para", "indent": 4, "text": ["Should contain an expression that computes a default name for inputs you haven\u2019t explicitly given names. The expression can use the ", {"type": "code", "text": ["@input"]}, " local variable (", {"type": "code", "text": ["$IIDX"]}, " is deprecated) to represent the index of the input for which to compute a name. The default (", {"type": "code", "text": ["opinput(\".\", @input)"]}, ") uses the name of the node connected to the input."], "extent": [5705, 6043]}], "container": true, "attrs": {"id": "inputname"}, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}], "title": ["Switch"], "summary": ["Passes through one of several inputs, based on a parameter choice or expression."]}