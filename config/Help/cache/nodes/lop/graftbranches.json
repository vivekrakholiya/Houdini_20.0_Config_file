{"type": "root", "attrs": {"type": "node", "context": "lop", "internal": "graftbranches", "icon": "LOP/graftbranches", "group": "util", "since": "18.5", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Graft Branches"], "extent": [0, 19]}, {"type": "summary", "indent": 0, "text": ["Takes prims/branches from the second input and attaches them onto branches of the scene graph tree in the first input."], "extent": [122, 249]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [249, 264], "body": [{"type": "para", "indent": 0, "text": ["Unlike ", {"scheme": null, "value": "/solaris/usd#sublayers", "type": "link", "text": ["referencing in a file"], "fullpath": "/solaris/usd.html#sublayers", "fragment": "#sublayers"}, " with the ", {"scheme": "Node", "value": "/nodes/lop/reference", "type": "link", "text": ["Reference LOP"], "fullpath": "/nodes/lop/reference.html"}, ", this node is more for performing ", {"type": "q", "text": ["surgery"]}, " on anonymous in-memory layers to build them into a tree you want to write out. It flattens the prims from the other inputs and directly attaches them in-memory to the tree in the first input, rather than creating a composition arc."], "extent": [264, 640]}, {"type": "para", "indent": 0, "text": ["This node is very similar to the ", {"scheme": null, "value": "graftstages", "type": "link", "text": ["Graft Stages"], "fullpath": "/nodes/lop/graftstages.html"}, " node, however instead of attaching the entire contents of a stage from another input, it attaches individual primitives (and any descendants)."], "extent": [640, 844]}, {"type": "para", "indent": 0, "text": ["This node has a multi-parm to allow you to graft multiple primitives from the second input onto the ", {"type": "q", "text": ["main"]}, " scene graph tree in the first input."], "extent": [844, 989]}, {"type": "para", "indent": 0, "text": ["This can be very useful to grab objects from an imported stage, or changes from an edited stage, and put them in different locations in the current stage."], "extent": [989, 1146]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Where to attach the imported prims"], "extent": [1146, 1187], "body": [{"type": "para", "indent": 0, "text": ["By default, all destination paths are added ", {"type": "strong", "text": ["under"]}, " the scene graph path you set in ", {"type": "ui", "text": ["Primitive path"]}, " (this is, this path is prefixed to the destination paths you set for each prim in the multi-parm)."], "extent": [1187, 1391]}, {"type": "para", "indent": 0, "text": ["The default is the path of the ", {"type": "em", "text": ["last modified prim"]}, " in the first input, which is not very useful. ", {"type": "strong", "text": ["You should change this"]}, " to be the parent prim under which you want to attach the grafted branches."], "extent": [1391, 1590]}, {"type": "para", "indent": 0, "text": ["For each ", {"type": "q", "text": ["source prim"]}, " you specify in the multi-parm, you can specify a ", {"type": "ui", "text": ["Destination prim path"]}, ". This is added to the path in ", {"type": "ui", "text": ["Primitive path"]}, "."], "extent": [1590, 1739]}, {"type": "para", "indent": 0, "text": ["So, if you are putting all grafted prims in the place, or all under a common ancestor, it can be useful to set ", {"type": "ui", "text": ["Primitive path"]}, " to the common prefix of all the destination paths, and only specify the suffixes in the ", {"type": "ui", "text": ["Destination prim path"]}, " for each graft. Or, for full control in the multi-parm, you can set this to ", {"type": "code", "text": ["/"]}, " and specify full destination paths in the multi-parm."], "extent": [1739, 2118]}, {"type": "para", "indent": 0, "text": ["If you disable ", {"type": "ui", "text": ["Treat Destination Paths as Parents"]}, ", then prims will not be copied ", {"type": "strong", "text": ["under"]}, " the destination paths described above but, rather, directly into those paths. For example, if your source path is /geo/sphere and your destination path is /new/ball, you will either end up with /new/ball/sphere or /new/ball depending on the state of the aforementioned parm. "], "extent": [2118, 2489]}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [2489, 2501], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Primitive Path"], "extent": [2501, 2518], "body": [{"type": "para", "indent": 4, "text": ["The parent scene graph path of all grafted sub-trees. The ", {"type": "ui", "text": ["Destination prim path"]}, " of each grafted prim is appended to this path. See ", {"type": "q", "text": ["Where to attach each subtree"]}, " above."], "extent": [2537, 2715]}], "container": true, "attrs": {"id": "primpath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Primitive Kind"], "extent": [2715, 2731], "body": [{"type": "para", "indent": 4, "text": ["If the parent prim in ", {"type": "ui", "text": ["Primitive path"]}, " does not exist, it will be created, and set to be this kind. If the prim already exists, this parameter does nothing."], "extent": [2750, 2914]}], "container": true, "attrs": {"id": "primkind"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Parent Primitive Type"], "extent": [2914, 2937], "body": [{"type": "para", "indent": 4, "text": ["If this node generates a path where intermediate prims do not exist yet, it will create them. This controls the type of any intermediate prims this node creates."], "extent": [2962, 3129]}], "container": true, "attrs": {"id": "parentprimtype"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Primitive Specifier"], "extent": [3129, 3150], "body": [{"type": "para", "indent": 4, "text": ["This controls the specifier(Define/Over/Class) of any intermediate prims this node creates."], "extent": [3174, 3271]}], "container": true, "attrs": {"id": "primspecifier"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Make Destination Primitive Paths Unique"], "extent": [3271, 3312], "body": [{"type": "para", "indent": 4, "text": ["It is possible to set multiple inputs to have the same destination path. If this parameter is off, the trees are merged. If this is on, the node adds increasing numbers on to the end of each destination path until it is unique."], "extent": [3338, 3575]}], "container": true, "attrs": {"id": "makeuniquepaths"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Treat Destination Paths as Parents"], "extent": [3575, 3611], "body": [{"type": "para", "indent": 4, "text": ["Controls whether source prims will be copied as children of the specified destination prim (on), or copied directly into the destination prim (off)."], "extent": [3638, 3792]}], "container": true, "attrs": {"id": "destasparent"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Frame Offset Mode"], "extent": [3792, 3811], "body": [{"type": "para", "indent": 4, "text": ["Controls how/whether to edit time samples on the grafted prims. (To not edit time samples, set this to Offset and Frame Offset to 0.)"], "extent": [3837, 3976]}, {"type": "para", "indent": 4, "text": ["Note that this parameter edits the time samples in terms of ", {"type": "strong", "text": ["frames"]}, ", not seconds."], "extent": [3976, 4064]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Match Start Times"], "extent": [4064, 4087], "body": [{"type": "para", "indent": 8, "text": ["Time-shift the animation based on the first time sample. For example, if the current stage (first input) is a shot with frame range 200-300, and you graft from a stage with frame range 100-200, the grafted animation will be shifted by +100 frames."], "extent": [4087, 4344]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Offset"], "extent": [4344, 4356], "body": [{"type": "para", "indent": 8, "text": ["Adds or subtracts a constant number of frames to the animation, specified in the ", {"type": "ui", "text": ["Frame offset"]}, " parameter below."], "extent": [4356, 4480]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Match and Offset"], "extent": [4480, 4502], "body": [{"type": "para", "indent": 8, "text": ["Combination of the other two options: shifts the animation based on start times, ", {"type": "em", "text": ["and then also"]}, " applies a constant offset."], "extent": [4502, 4639]}], "container": true}], "container": true}, {"type": "para", "indent": 4, "text": ["The default is Offset."], "extent": [4639, 4667]}], "container": true, "attrs": {"id": "frameoffsetmode"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Frame Offset"], "extent": [4667, 4681], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Frame offset mode"]}, " is ", {"type": "ui", "text": ["Offset"]}, " or ", {"type": "ui", "text": ["Match and offset"]}, ", the number of frames (positive or negative) to offset the grafted time samples.\n    Note that this parameter edits the time samples in terms of ", {"type": "strong", "text": ["frames"]}, ", not seconds."], "extent": [4703, 4941]}], "container": true, "attrs": {"id": "frameoffset"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Number of Source Prims"], "extent": [4941, 4965], "body": [{"type": "para", "indent": 4, "text": ["How many prims to graft."], "extent": [4985, 5015]}], "container": true, "attrs": {"id": "primcount"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Enable"], "extent": [5015, 5023], "body": [{"type": "para", "indent": 4, "text": ["Whether the node applies this graft in the output."], "extent": [5040, 5096]}], "container": true, "attrs": {"id": "enable"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Source Prim Path"], "extent": [5096, 5114], "body": [{"type": "para", "indent": 4, "text": ["The path to the prim to grab from the second input."], "extent": [5136, 5193]}], "container": true, "attrs": {"id": "srcprimpath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Destination Prim Path"], "extent": [5193, 5216], "body": [{"type": "para", "indent": 4, "text": ["Where to put the grafted prim in the scene graph tree of the first input. This path is added on to the path in the ", {"type": "ui", "text": ["Primitive Path"]}, " parameter."], "extent": [5237, 5387]}], "container": true, "attrs": {"id": "dstprimpath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Keep Position"], "extent": [5387, 5402], "body": [{"type": "para", "indent": 4, "text": ["Keep the worldspace position of the prim(s) being grafted. This may be useful if the source and destination hierarchies have different transformation stacks. "], "extent": [5424, 5592]}], "container": true, "attrs": {"id": "keepposition"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Keep Material"], "extent": [5592, 5607], "body": [{"type": "para", "indent": 4, "text": ["Keep the material assignment for the prim(s) being grafted. This may be useful if the source prim\u2019s material assignment comes from a parent but it is being grafted under a different parent that has a different material assignment.    "], "extent": [5629, 5869]}], "container": true, "attrs": {"id": "keepmaterial"}, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}], "title": ["Graft Branches"], "summary": ["Takes prims/branches from the second input and attaches them onto branches of the scene graph tree in the first input."]}