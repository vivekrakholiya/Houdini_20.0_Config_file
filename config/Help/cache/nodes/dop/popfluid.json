{"type": "root", "attrs": {"type": "node", "context": "dop", "internal": "popfluid", "icon": "SHELF/convert_to_particlefluid", "tags": "pop", "since": "17.0", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["POP Fluid"], "extent": [109, 123]}, {"type": "summary", "indent": 0, "text": ["Controls local density by applying forces between nearby particles."], "extent": [123, 199]}, {"type": "para", "indent": 0, "text": ["POP Fluid applies forces between nearby particles of a\n", {"scheme": "Node", "value": "/nodes/dop/popobject", "type": "link", "text": ["POP Object"], "fullpath": "/nodes/dop/popobject.html"}, " in an attempt to maintain the goal ", {"type": "ui", "text": ["Particle\nSeparation"]}, ". This node can be used to capture simple fluid effects (such as\ncohesion and basic surface tension) with points."], "extent": [199, 459]}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [459, 467], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["First Input"], "extent": [15, 28], "body": [{"type": "para", "indent": 4, "text": ["This optional input has two purposes."], "extent": [28, 71]}, {"type": "para", "indent": 4, "text": ["First, if it is wired to other POP nodes, they will be executed prior to this node executing.  The chain of nodes will be processed in a top-down manner."], "extent": [71, 230]}, {"type": "para", "indent": 4, "text": ["Second, if the input chain has a stream generator (such as ", {"scheme": "Node", "value": "/nodes/dop/poplocation", "type": "link", "text": ["POP Location"], "fullpath": "/nodes/dop/poplocation.html"}, ",\n    ", {"scheme": "Node", "value": "/nodes/dop/popsource", "type": "link", "text": ["POP Source"], "fullpath": "/nodes/dop/popsource.html"}, ", or ", {"scheme": "Node", "value": "/nodes/dop/popstream", "type": "link", "text": ["POP Stream"], "fullpath": "/nodes/dop/popstream.html"}, "), this node will only operate on the particles in that stream."], "extent": [230, 465]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [502, 511], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["First Output"], "extent": [15, 29], "body": [{"type": "para", "indent": 4, "text": ["The output of this node should be wired into a solver chain."], "extent": [29, 95]}, {"type": "para", "indent": 4, "text": ["Merge nodes can be used to combine multiple solver chains."], "extent": [95, 159]}, {"type": "para", "indent": 4, "text": ["The final wiring should go into one of the purple inputs of a full-solver, such as ", {"scheme": "Node", "value": "/nodes/dop/popsolver", "type": "link", "text": ["POP Solver"], "fullpath": "/nodes/dop/popsolver.html"}, " or ", {"scheme": "Node", "value": "/nodes/dop/flipsolver", "type": "link", "text": ["FLIP Solver"], "fullpath": "/nodes/dop/flipsolver.html"}, "."], "extent": [159, 316]}], "container": true}], "container": true}], "text": "Outputs"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [547, 559], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Activation"], "extent": [45, 61], "body": [{"type": "para", "indent": 8, "text": ["Turns this node on and off. The node is only active if this\n        value is greater than 0. This is useful to control the effect of\n        this node with an ", {"scheme": null, "value": "/expressions/", "type": "link", "text": ["expression"], "fullpath": "/expressions/index.html"}, "."], "extent": [61, 265]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [265, 279], "body": [{"type": "para", "indent": 12, "text": ["This is activation of the node as a whole. You can\u2019t use this parameter to deactivate the node for certain particles."], "extent": [279, 410]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Group"], "extent": [410, 421], "body": [{"type": "para", "indent": 8, "text": ["Only affect a group of points (created with, for example, a\n        ", {"scheme": "Node", "value": "/nodes/dop/popgroup", "type": "link", "text": ["Group POP"], "fullpath": "/nodes/dop/popgroup.html"}, " or ", {"scheme": "Node", "value": "/nodes/dop/popcollisiondetect", "type": "link", "text": ["Collision\n        Detection POP"], "fullpath": "/nodes/dop/popcollisiondetect.html"}, ") out of all the points in \n        the current stream."], "extent": [421, 648]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Time Scale"], "extent": [602, 614], "body": [{"type": "para", "indent": 4, "text": ["An overall scale applied to the actual timestep."], "extent": [614, 668]}], "container": true, "role": "item"}], "container": true}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Parameters"], "extent": [668, 685], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Projection Type"], "extent": [685, 703], "body": [{"type": "para", "indent": 4, "text": ["This parameter governs which particle properties will be affected. Best\n    results are achieved in ", {"type": "ui", "text": ["Update Positions"]}, " mode."], "extent": [727, 859]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": [{"type": "ui", "text": ["Update Positions"]}], "extent": [859, 885], "body": [{"type": "para", "indent": 8, "text": ["The particle positions and velocities will be updated."], "extent": [885, 948]}], "container": true}, {"type": "dt", "indent": 4, "text": [{"type": "ui", "text": ["Update Velocities"]}], "extent": [948, 975], "body": [{"type": "para", "indent": 8, "text": ["Only particle velocities will be updated."], "extent": [975, 1025]}], "container": true}, {"type": "dt", "indent": 4, "text": [{"type": "ui", "text": ["Update Forces"]}], "extent": [1025, 1048], "body": [{"type": "para", "indent": 8, "text": ["Each particle\u2019s ", {"type": "code", "text": ["force"]}, " attribute will be updated."], "extent": [1048, 1108]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "projectiontype"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Velocity Blend"], "extent": [1108, 1124], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Projection Type"]}, " is set to ", {"type": "ui", "text": ["Update Velocities"]}, ", this parameter\n    controls how the constraint velocity is to be combined with the particle\u2019s\n    velocity. Value of 1 causes the particle\u2019s velocity to be completely\n    overridden, while value of 0 ignores the constraint velocity altogether."], "extent": [1145, 1452]}], "container": true, "attrs": {"id": "velocitymix"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Particle Separation"], "extent": [1452, 1473], "body": [{"type": "para", "indent": 4, "text": ["The desired distance between nearby particles."], "extent": [1501, 1553]}], "container": true, "attrs": {"id": "particleseparation"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Constraint Iterations"], "extent": [1553, 1576], "body": [{"type": "para", "indent": 4, "text": ["The number of iterations of constraint projection to perform. More\n    iterations allow ", {"type": "ui", "text": ["Particle Separation"]}, " to be matched more closely at the\n    cost of running time."], "extent": [1606, 1783]}], "container": true, "attrs": {"id": "constraintiterations"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Constraint Stiffness"], "extent": [1783, 1805], "body": [{"type": "para", "indent": 4, "text": ["The stiffness determines how closely ", {"type": "ui", "text": ["Particle Separation"]}, " will be\n    matched. Stiffer constraints have a lower tolerance for deviation from the\n    goal, but can be unstable."], "extent": [1827, 2011]}], "container": true, "attrs": {"id": "defstiffness"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Maximum Acceleration"], "extent": [2011, 2033], "body": [{"type": "para", "indent": 4, "text": ["The maximum acceleration that can be applied to a particle by constraints.\n    Lowering this parameter can help in mitigating instabilities."], "extent": [2058, 2204]}], "container": true, "attrs": {"id": "maxacceleration"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Tensile Radius"], "extent": [2204, 2220], "body": [{"type": "para", "indent": 4, "text": ["Particles apply repulsive forces on their neighbors to prevent clustering.\n    This parameter determines the distance (as a fraction of the particle\u2019s\n    kernel radius) at which this force is equal to ", {"type": "ui", "text": ["Tensile Strength"]}, "."], "extent": [2238, 2467]}], "container": true, "attrs": {"id": "tensileq"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Tensile Strength"], "extent": [2467, 2485], "body": [{"type": "para", "indent": 4, "text": ["Magnitude of the repulsive forces between nearby particles."], "extent": [2503, 2568]}], "container": true, "attrs": {"id": "tensilek"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Viscosity"], "extent": [2568, 2579], "body": [{"type": "para", "indent": 4, "text": ["Enabling viscosity causes velocity diffusion, resulting in more coherent\n    motion among nearby particles."], "extent": [2615, 2728]}], "container": true, "attrs": {"id": "enableviscosity viscosityc"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Vorticity Confinement"], "extent": [2728, 2751], "body": [{"type": "para", "indent": 4, "text": ["Counteracts energy dissipation by maintaining vortices."], "extent": [2805, 2866]}], "container": true, "attrs": {"id": "enablevorticityconfinement vorticitystrength"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Use OpenCL"], "extent": [2866, 2878], "body": [{"type": "para", "indent": 4, "text": ["Use the OpenCL device to accelerate computations."], "extent": [2897, 2952]}], "container": true, "attrs": {"id": "useopencl"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Neighbors"], "extent": [2952, 2968], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Neighborhood Size"], "extent": [2968, 2988], "body": [{"type": "para", "indent": 4, "text": ["The desired number of points in each particle\u2019s neighborhood."], "extent": [3014, 3081]}], "container": true, "attrs": {"id": "desiredneighbors"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Adaptive Range"], "extent": [3081, 3097], "body": [{"type": "para", "indent": 4, "text": ["Range of allowed kernel radii, as multiples of a global radius. Disabling\n    this option forces use of a fixed kernel radius for all particles."], "extent": [3173, 3323]}], "container": true, "attrs": {"id": "enableadaptiveradius adaptiveradiusrangemin adaptiveradiusrangemax"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Max Neighbors"], "extent": [3323, 3338], "body": [{"type": "para", "indent": 4, "text": ["The number of points in a particle\u2019s neighborhood is not allowed to exceed\n    this value. Only applies when ", {"type": "ui", "text": ["Adaptive Range"]}, " is turned off."], "extent": [3360, 3508]}], "container": true, "attrs": {"id": "maxneighbors"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Construction Frequency"], "extent": [3508, 3532], "body": [{"type": "para", "indent": 4, "text": ["Number of times neighborhoods are constructed in a substep."], "extent": [3563, 3628]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [3628, 3638], "body": [{"type": "para", "indent": 8, "text": ["It is only safe to reduce ", {"type": "ui", "text": ["Construction Frequency"]}, " below 1 if\n        particles are not being deleted from the bound geometry."], "extent": [3638, 3776]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "constructionfrequency"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Bindings"], "extent": [3776, 3791], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Geometry"], "extent": [3791, 3802], "body": [{"type": "para", "indent": 4, "text": ["The name of the simulation data to apply the POP node to. This commonly is\n    Geometry, but POP Networks can be designed to apply to different geometry if\n    desired."], "extent": [3819, 3993]}], "container": true, "attrs": {"id": "bindgeo"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Stiffness Attribute"], "extent": [3993, 4014], "body": [{"type": "para", "indent": 4, "text": ["The name of the point attribute that determines the constraint stiffness for\n    each particle. Note that the value of this attribute will be scaled by\n    ", {"type": "ui", "text": ["Constraint Stiffness"]}, " to obtain the actual stiffness."], "extent": [4039, 4257]}], "container": true, "attrs": {"id": "stiffnessattrib"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Output Density"], "extent": [4257, 4273], "body": [{"type": "para", "indent": 4, "text": ["When enabled, the last computed density for each particle is stored in the\n    specified attribute."], "extent": [4310, 4415]}], "container": true, "attrs": {"id": "outputdensity densityattrib"}, "role": "item"}], "container": true, "role": "item_group"}]}], "text": "Parameters"}], "title": ["POP Fluid"], "summary": ["Controls local density by applying forces between nearby particles."], "included": ["/nodes/dop/standard_pop_inputs", "/nodes/dop/standard_pop_outputs", "/nodes/dop/standard_pop_parms"]}