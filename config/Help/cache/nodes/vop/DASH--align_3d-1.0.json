{"type": "root", "attrs": {"icon": "/nodes/vop/DASH--align_3d-1.0/DASH-align_3d-icon.svg", "type": "node", "context": "vop", "internal": "align_3d", "version": "1.0", "namespace": "DASH"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Align 3D"], "extent": [39, 50]}, {"type": "summary", "indent": 0, "text": ["Returns the rotation axis and angle difference between two 3D vectors, two quaternions, or two 3\u00d73 matrices' orientations."], "extent": [50, 181]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [181, 196], "body": [{"type": "para", "indent": 0, "text": ["The rotation matrix or the axis/angle, are the rotation necessary to ", {"type": "ui", "text": ["From"]}, "'s orientation to match ", {"type": "ui", "text": ["To"]}, "'s orientation."], "extent": [196, 321]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [321, 327], "body": [{"type": "para", "indent": 4, "text": ["For 3\u00d73 Matrices, there\u2019s a decomposition routine first, to extract the rotation matrix from the input. Possible issues with this are:"], "extent": [327, 466]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Flipping if the inputs have different handedness."], "extent": [466, 522]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Rotation can\u2019t account for skewness of a matrix."], "extent": [522, 578]}], "container": true}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["For further conceptual understanding of the operation itself, check ", {"scheme": "Node", "value": "/nodes/sop/DASH--dihedral_align_didactic-1.0", "type": "link", "text": "", "fullpath": "/nodes/sop/DASH--dihedral_align_didactic-1.0.html"}, " SOP and this ", {"scheme": null, "value": "https://youtu.be/EASQphcIn38?t=2021", "type": "link", "text": ["video"], "exists": true}, "."], "extent": [578, 754]}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [754, 766], "body": [{"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Inputs"], "extent": [766, 780], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["From"], "extent": [780, 787], "body": [{"type": "para", "indent": 4, "text": ["Source orientation."], "extent": [836, 861]}], "container": true, "attrs": {"id": "from_mv0"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["To"], "extent": [861, 865], "body": [{"type": "para", "indent": 4, "text": ["Target orientation."], "extent": [907, 936]}], "container": true, "attrs": {"id": "to_p0"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Center"], "extent": [936, 944], "body": [{"type": "para", "indent": 4, "text": ["Position to subtract to both ", {"type": "ui", "text": ["From"]}, " and ", {"type": "ui", "text": ["To"]}, " in order to contextualize the operation (Inverse transform for quaternion and matrix).  Outputs are still relative to this."], "extent": [998, 1175]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 4, "text": [{"scheme": "Image", "value": "/nodes/vop/DASH--align_3d-1.0/DASH-help_reference_pos.svg", "type": "img", "text": ""}], "role": "item", "extent": [1175, 1228], "body": [], "container": true, "attrs": {"display": "half left"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "center_p0"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Options"], "extent": [1257, 1271], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Sectors"], "extent": [1271, 1281], "body": [{"type": "para", "indent": 4, "text": ["Number of sectors the 360 degrees span is divided into, to bound angle assessment."], "extent": [1298, 1386]}], "container": true, "attrs": {"id": "sectors"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Arc Path"], "extent": [1386, 1396], "body": [{"type": "para", "indent": 4, "text": ["Circular direction used to infer angle from."], "extent": [1409, 1463]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Shortest/Longest"], "extent": [1463, 1486], "body": [{"type": "para", "indent": 8, "text": ["The smallest arc within the sector and its complementary."], "extent": [1486, 1561]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Counter-Clockwise / Clockwise"], "extent": [1561, 1596], "body": [{"type": "para", "indent": 8, "text": ["Basically Positive or Negative direction. The ", {"type": "ui", "text": ["*"]}, " mark reminds these options depend on the direction set in ", {"type": "ui", "text": ["Axis Reference"]}, "."], "extent": [1596, 1735]}], "container": true}], "container": true}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 4, "text": [{"scheme": "Image", "value": "/nodes/vop/DASH--align_3d-1.0/DASH-align_3d-help_arc_sectors.svg", "type": "img", "text": ""}], "role": "item", "extent": [1735, 1796]}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "arc"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Sign Format"], "extent": [1796, 1809], "body": [{"type": "para", "indent": 4, "text": ["Constrain ", {"type": "strong", "text": [{"type": "code", "text": ["axis"]}]}, " and ", {"type": "strong", "text": [{"type": "code", "text": ["angle"]}]}, " outputs based on a desired property for either. Resulting Axis-Angle rotation is unchanged since any inversion is applied to both. ", {"type": "code", "text": ["*"]}, " signals options that depend on ", {"type": "ui", "text": ["Axis Reference"]}, "."], "extent": [1825, 2048]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 4, "text": [{"scheme": "Image", "value": "/nodes/vop/DASH--align_3d-1.0/DASH-align_3d-help_signal_format.svg", "type": "img", "text": ""}], "role": "item", "extent": [2048, 2115]}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "format"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Axis Reference"], "extent": [2115, 2131], "body": [{"type": "para", "indent": 4, "text": ["Reference positive direction. Incidence with the calculated axis will determine if its negative or positive which is a requirement for ", {"type": "ui", "text": ["Arc Path"]}, "'s ", {"type": "em", "text": ["Clockwise"]}, " and ", {"type": "em", "text": ["Counter-Clockwise"]}, " options as well as for ", {"type": "ui", "text": ["Sign Format"]}, "'s ", {"type": "em", "text": ["Axis:Positive"]}, " and ", {"type": "em", "text": ["Axis:Negative"]}, " options."], "extent": [2149, 2426]}], "container": true, "attrs": {"id": "axis_ref"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Array Auto Resize"], "extent": [2426, 2452], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Common Size"], "extent": [2452, 2465], "body": [{"type": "para", "indent": 2, "text": ["Determines the size that all input arrays will have. ", {"type": "ui", "text": ["Min"]}, " will use the smallest array\u2019s size, while ", {"type": "ui", "text": ["Max"]}, " will use the greatest array\u2019s size."], "extent": [2494, 2644]}], "container": true, "attrs": {"id": "array_autoresize_size"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Fill"], "extent": [2644, 2650], "body": [{"type": "para", "indent": 2, "text": ["Sized up arrays need a fill value. This determines whether the fill is the parameter\u2019s ", {"type": "em", "text": ["Default"]}, " or, if the array is not empty, its ", {"type": "em", "text": ["Last"]}, " or ", {"type": "em", "text": ["First"]}, " value."], "extent": [2679, 2839]}], "container": true, "attrs": {"id": "array_autoresize_fill"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "extent": [2839, 2849], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Description"], "extent": [2849, 2862], "body": [{"type": "para", "indent": 2, "text": ["String to display info on top of the node in the network view. The pilcrow \u00b6 button enables multi-line text."], "extent": [2881, 2993]}], "container": true, "attrs": {"id": "description"}, "role": "item"}], "container": true, "role": "item_group"}]}]}], "text": "Parameters"}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [2993, 3002], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": [{"type": "code", "text": ["angle"]}], "extent": [3002, 3012], "body": [{"type": "para", "indent": 4, "text": ["Angle of rotation between inputs."], "extent": [3026, 3065]}], "container": true, "attrs": {"id": "angle"}}, {"type": "dt", "indent": 0, "text": [{"type": "code", "text": ["axis"]}], "extent": [3065, 3073], "body": [{"type": "para", "indent": 4, "text": ["Axis of rotation between inputs. "], "extent": [3086, 3129]}, {"type": "para", "indent": 4, "text": ["For the case where ", {"type": "ui", "text": [{"type": "code", "text": ["angle"]}]}, " is either ", {"type": "code", "text": ["0"]}, " or ", {"type": "code", "text": ["\u03c0"]}, ", there\u2019s no single axis of rotation, so one is inferred from ", {"type": "ui", "text": ["Axis Reference"]}, " that is still perpendicular to both input vectors. The ", {"type": "ui", "text": [{"type": "code", "text": ["case"]}]}, " output will signal those cases."], "extent": [3129, 3364]}], "container": true, "attrs": {"id": "axis"}}, {"type": "dt", "indent": 0, "text": [{"type": "code", "text": ["tform"]}], "extent": [3364, 3373], "body": [{"type": "para", "indent": 4, "text": ["Rotation matrix between inputs."], "extent": [3387, 3424]}], "container": true, "attrs": {"id": "tform"}}, {"type": "dt", "indent": 0, "text": [{"type": "code", "text": ["orient"]}], "extent": [3424, 3434], "body": [{"type": "para", "indent": 4, "text": ["Quaternion rotation between inputs."], "extent": [3449, 3490]}], "container": true, "attrs": {"id": "orient"}}, {"type": "dt", "indent": 0, "text": [{"type": "code", "text": ["case"]}], "extent": [3490, 3498], "body": [{"type": "para", "indent": 4, "text": ["Code value reporting the validity of the inputs or special cases of the operation."], "extent": [3511, 3598]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "code", "text": ["-3"]}, ": Both inputs are invalid. (Vectors have zero length, Matrices have zero determinant)"], "extent": [3598, 3694]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "code", "text": ["-2"]}, ": ", {"type": "ui", "text": ["To"]}, " is invalid."], "extent": [3694, 3725]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "code", "text": ["-1"]}, ": ", {"type": "ui", "text": ["From"]}, " is invalid."], "extent": [3725, 3758]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "code", "text": [" 0"]}, ": Both ", {"type": "ui", "text": ["From"]}, " and ", {"type": "ui", "text": ["To"]}, " are valid."], "extent": [3758, 3806]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "code", "text": [" 1"]}, ": Angle is 0. Axis is inferred from ", {"type": "ui", "text": ["Axis Reference"]}, "."], "extent": [3806, 3872]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "code", "text": [" 2"]}, ": Angle is \u03c0. Axis is inferred from ", {"type": "ui", "text": ["Axis Reference"]}, "."], "extent": [3872, 3939]}], "container": true}], "container": true, "attrs": {"id": "case"}}], "container": true}, {"type": "load_example_group", "body": [{"ext": null, "type": "load_example", "indent": 0, "text": [" Align Angle"], "role": "item", "extent": [3939, 3966], "body": [{"type": "para", "indent": 4, "text": ["Example scene for this asset."], "extent": [4016, 4050]}], "container": true, "attrs": {"examplefile": "/demos/vop/align_angle_demo.hda"}}], "container": true, "role": "item_group"}], "text": "Outputs"}], "title": ["Align 3D"], "summary": ["Returns the rotation axis and angle difference between two 3D vectors, two quaternions, or two 3\u00d73 matrices' orientations."]}