{"type": "root", "attrs": {"type": "node", "context": "vop", "internal": "kma_pyroshader", "icon": "VOP/kma_pyroshader", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Karma Pyro Shader"], "extent": [0, 22]}, {"type": "summary", "indent": 0, "text": ["Flexible, production-quality smoke, cloud, fire, and explosion shader."], "extent": [111, 189]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [189, 204], "body": [{"type": "para", "indent": 0, "text": ["This shader can be used to create realistic renders of smoke, fire, and explosion simulations or procedurally generated volumes based on MaterialX."], "extent": [204, 354]}]}, {"level": 2, "id": "smoke", "container": true, "type": "h", "indent": 0, "text": ["Smoke and Emission"], "extent": [354, 386], "body": [{"type": "para", "indent": 0, "text": ["The combination of these two components make up the final volume render. Some renders such as chimney smoke, dust clouds, and other generic smoke elements only need to be shaded as smoke. Smoke is mainly controlled by its density and color. Emission on the other hand, controls the overall intensity and color of light emitted by the fire."], "extent": [386, 728]}, {"type": "para", "indent": 0, "text": ["Each of these components relies on a set of volumes to do its work. A ", {"type": "code", "text": ["density"]}, " volume is usually bound to the smoke component, and parameters in the ", {"type": "ui", "text": ["Smoke"]}, " tab control its resulting look. You can use up to two emissive elements with this shader: ", {"type": "em", "text": ["scatter"]}, ", ", {"type": "em", "text": ["fire"]}, "."], "extent": [728, 998]}, {"type": "para", "indent": 0, "text": [{"type": "em", "text": ["Scatter"]}, " uses a ", {"type": "code", "text": ["scatter"]}, " volume produced by the ", {"scheme": "Node", "value": "/nodes/sop/pyrobakevolume", "type": "link", "text": ["Pyro Bake Volume SOP"], "fullpath": "/nodes/sop/pyrobakevolume.html"}, ", which can have the effect of internal scattering pre-baked. Although this scattering is an approximation to true behavior, this approach is much cheaper to render compared to using volume lights and a high number of volume bounces. It also gives you greater artistic control over the look."], "extent": [998, 1387]}, {"type": "para", "indent": 0, "text": [{"type": "em", "text": ["Fire"]}, " provide a more traditional set of controls that mirrors ", {"scheme": "Node", "value": "/nodes/vop/pyroshader", "type": "link", "text": ["Pyro Shader - Classic"], "fullpath": "/nodes/vop/pyroshader.html"}, ". In particular, it needs an ", {"type": "em", "text": ["intensity"]}, " and a ", {"type": "em", "text": ["color"]}, " field, governing the amount and color of the emitted light, respectively. Similar to ", {"type": "em", "text": ["scatter"]}, ", ", {"type": "em", "text": ["fire"]}, " can also be masked by another volume."], "extent": [1387, 1690]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [5528, 5533], "body": [{"type": "para", "indent": 4, "text": ["All range settings should consider the range of values in their respective bound volumes. The ", {"scheme": "Node", "value": "/nodes/sop/pyrosolver", "type": "link", "text": ["Pyro Solver"], "fullpath": "/nodes/sop/pyrosolver.html"}, " will write the minimum and maximum values for each exported volumes into primitive attributes when ", {"type": "ui", "text": ["Compute Min/Max Values"]}, " is enabled on the ", {"type": "ui", "text": ["Export"]}, " tab."], "extent": [5552, 5845]}], "container": true, "attrs": {"id": "range_tip"}}], "container": true, "role": "item_group"}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Emission Masking"], "extent": [1737, 1762], "body": [{"type": "para", "indent": 0, "text": ["The ", {"scheme": "Node", "value": "/nodes/vop/pyroadvancedshader", "type": "link", "text": ["Pyro Shader"], "fullpath": "/nodes/vop/pyroadvancedshader.html"}, " has the ability to mask ", {"type": "em", "text": ["scatter"]}, " and ", {"type": "em", "text": ["fire"]}, " by another field. By default, the mask field is set to ", {"type": "code", "text": ["density"]}, ", and its effect is to reduce emission in areas with higher ", {"type": "code", "text": ["density"]}, ". Masking is especially useful when rendering explosions, since it can introduce crunchy details to the soot. When used correctly, the volume will appear to glow internally, with this glow peeking through cracks in the smoke."], "extent": [1762, 2214]}, {"type": "para", "indent": 0, "text": ["The following image shows the smoke, scatter, scatter mask, and the final combined image.\n", {"scheme": "Image", "value": "/images/vop/Explosion_Scatter_Passes.jpg", "type": "img", "text": ""}], "extent": [2214, 2354]}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Scatter, Fire"], "extent": [2354, 2376], "body": [{"type": "para", "indent": 0, "text": ["The three possible emissive components are combined together for the final render, but they all serve different purposes."], "extent": [2376, 2500]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"type": "em", "text": ["Scatter"]}, " is mainly used to emulate light scattering inside an explosion and it relies on a special ", {"type": "code", "text": ["scatter"]}, " volume that can be generated by ", {"scheme": "Node", "value": "/nodes/sop/pyrobakevolume", "type": "link", "text": ["Pyro Bake Volume"], "fullpath": "/nodes/sop/pyrobakevolume.html"}, "."], "extent": [2500, 2689], "body": [{"type": "para", "indent": 4, "text": ["Smoke and scatter versus just smoke:"], "extent": [2689, 2730]}, {"type": "compare_images_group", "body": [{"ext": null, "type": "compare_images", "indent": 4, "role": "item", "extent": [2730, 2751], "body": [], "container": true, "attrs": {"image1": "/images/vop/render_smoke.jpg", "image2": "/images/vop/render_scatter.jpg"}}], "container": true, "role": "item_group"}], "container": true}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"type": "em", "text": ["Fire"]}, " can be used for shading fire and flames. By default, it uses ", {"type": "code", "text": ["temperature"]}, " volumes for both emission intensity and color. Masking can also be applied to this component."], "extent": [2846, 3025], "body": [{"type": "para", "indent": 4, "text": ["Smoke and fire versus just smoke:"], "extent": [3025, 3063]}, {"type": "compare_images_group", "body": [{"ext": null, "type": "compare_images", "indent": 4, "role": "item", "extent": [3063, 3084], "body": [], "container": true, "attrs": {"image1": "/images/vop/render_smoke.jpg", "image2": "/images/vop/render_fire.jpg "}}], "container": true, "role": "item_group"}], "container": true}], "container": true}]}]}, {"level": 2, "id": "clouds", "container": true, "type": "h", "indent": 0, "text": ["Clouds"], "extent": [3185, 3206], "body": [{"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/images/nodes/vop/xpu_billowy_cloud.jpg", "type": "img", "text": ""}], "extent": [3206, 3256]}, {"type": "para", "indent": 0, "text": ["Clouds exhibit strong multiple light scattering dominated by scattering in the light direction. This means rendering realistic clouds requires high anisotropy value (around ", {"type": "code", "text": ["0.877"]}, ") and multiple volumetric ray bounces, therefore are much more complicated and expensive to evaluate. "], "extent": [3256, 3540]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Cloud Render with Multiple Volumetric Ray Bounces"], "extent": [3540, 3598], "body": [{"type": "para", "indent": 0, "text": ["The image of the left side shows a billowy cloud with ", {"type": "ui", "text": ["Anisotropy"]}, " set to 0.877, however the ", {"type": "ui", "text": ["Volume Limit"]}, " on ", {"scheme": null, "value": " Node:lop/karmarenderproperties", "type": "link", "text": ["Karma Render Settings "], "exists": true}, " is set to ", {"type": "code", "text": ["0"]}, ", as a result, it renders the cloud black. To let more light through the cloud, the image on the right uses ", {"type": "ui", "text": ["Volume Limit"]}, " of ", {"type": "code", "text": ["32"]}, ".\nThis is a step towards the right direction; however, the render time already considerably increased. Setting ", {"type": "ui", "text": ["Volume Limit"]}, " to ", {"type": "code", "text": ["100"]}, " or even above ", {"type": "code", "text": ["200"]}, " would further improve the cloud look, however render times would increase drastically."], "extent": [3598, 4161]}, {"type": "compare_images_group", "body": [{"ext": null, "type": "compare_images", "indent": 0, "role": "item", "extent": [4161, 4178], "body": [], "container": true, "attrs": {"image1": "/images/nodes/vop/xpu_billowy_cloud_volumulimit_32.jpg", "image2": "/images/nodes/vop/xpu_billowy_cloud_volumulimit_0.jpg"}}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Luckily, there are some tricks we can utilize to improve the quality of the cloud look, while lowering render time and keeping the ", {"type": "ui", "text": ["Volume Limit"]}, " at ", {"type": "code", "text": ["32"]}, "."], "extent": [4318, 4476]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["Density Adjustment"], "extent": [4476, 4498], "body": [{"type": "para", "indent": 4, "text": ["We can exponentially decrease the cloud density with each volumetric ray bounce using by increasing the ", {"type": "ui", "text": ["Extinction Falloff"]}, " parameter on the shader. This helps to brighten the shadowed regions since the rays are less attenuated and exit the medium sooner with a fewer number of ray bounces. This effect helps to reduce rendering time for clouds that otherwise need many more ray bounces."], "extent": [4498, 4894]}, {"type": "para", "indent": 4, "text": ["While it is very tempting to considerably increase ", {"type": "ui", "text": ["Extinction Falloff"]}, " to shorten render time, the look of the cloud must be considered."], "extent": [4894, 5039]}, {"type": "para", "indent": 4, "text": ["In the following video, the ", {"type": "ui", "text": ["Extinction Falloff"]}, " is animated from ", {"type": "code", "text": ["0"]}, " to ", {"type": "code", "text": ["1"]}, ". Notice, at first the cloud brightened, specially the shadowed regions. In this example, the cloud reaches its peak brightness at values roughly between ", {"type": "code", "text": ["0.127-0.21"]}, ". Any value within this range is ideal to work with, while further increase will only make the cloud less bright with little contrast."], "extent": [5039, 5422]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [5422, 5434], "body": [], "container": true, "attrs": {"src": "/videos/cloud/xpu_cloud_extinction_falloff.mp4"}}], "container": true, "role": "item_group"}], "container": true}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Anisotropy Adjustment (Roughness)"], "extent": [5496, 5533], "body": [{"type": "para", "indent": 4, "text": ["Similarly to the density adjustment, we can also control anisotropy based on the number of volumetric ray bounces. One way to do this is to enable ", {"type": "ui", "text": ["Roughness"]}, " for anisotropy, which will exponentially lower the anisotropy towards zero with each volumetric ray bounces."], "extent": [5533, 5808]}, {"type": "para", "indent": 4, "text": ["This video shows the effect of increasing ", {"type": "ui", "text": ["Roughness"]}, " when the ", {"type": "ui", "text": ["Extinction Falloff"]}, " is set to ", {"type": "code", "text": ["0.21"]}, ". With increasing value, the cloud brightens, and we achieve the typical white powder like billowy look. The larger the roughness, the denser the cloud and sharper the details will become."], "extent": [5808, 6105]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [6105, 6117], "body": [], "container": true, "attrs": {"src": "/videos/cloud/xpu_cloud_anisotropy_roughness_w0.mp4"}}], "container": true, "role": "item_group"}, {"type": "para", "indent": 4, "text": ["The two images compare ", {"type": "ui", "text": ["Extinction Falloff"]}, " values against the same amount of ", {"type": "ui", "text": ["Roughness"]}, ". The right side of the image uses too high (", {"type": "code", "text": ["0.75"]}, ") extinction falloff value making the cloud pale with less contrast."], "extent": [6184, 6401]}, {"type": "compare_images_group", "body": [{"ext": null, "type": "compare_images", "indent": 4, "role": "item", "extent": [6401, 6422], "body": [], "container": true, "attrs": {"image1": "/images/nodes/vop/xpu_cloud_extinction_falloff_high.jpg", "image2": "/images/nodes/vop/xpu_cloud_extinction_falloff_optimal.jpg"}}], "container": true, "role": "item_group"}], "container": true}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Anisotropy Adjustment (Secondary Anisotropy)"], "extent": [6572, 6620], "body": [{"type": "para", "indent": 4, "text": ["As an alternative, instead of ", {"type": "ui", "text": ["Roughness"]}, ", enable ", {"type": "ui", "text": ["Use Secondary Anisotropy"]}, " to blend between two anisotropy values."], "extent": [6620, 6746]}, {"type": "para", "indent": 4, "text": ["The image on the left side shows a render using ", {"type": "ui", "text": ["Roughness"]}, " set to ", {"type": "code", "text": ["1"]}, ", while the image on the right side rendered with secondary anisotropy enabled, and uses ", {"type": "code", "text": ["0.5"]}, " as ", {"type": "ui", "text": ["Secondary Mix"]}, " and ", {"type": "code", "text": ["0"]}, " as ", {"type": "ui", "text": ["Secondary Anisotropy"]}, ".\n    The image on the left side is considerably smoother, with less sharp details. This can be helped to an extent by increasing ", {"type": "ui", "text": ["Roughness"]}, ". On the other hand, the image on the right side seems to drastically increase the brightness of areas with less density."], "extent": [6746, 7239]}, {"type": "compare_images_group", "body": [{"ext": null, "type": "compare_images", "indent": 4, "role": "item", "extent": [7239, 7260], "body": [], "container": true, "attrs": {"image1": "/images/nodes/vop/xpu_billowy_cloud_dhg.jpg", "image2": "/images/nodes/vop/xpu_billowy_cloud.jpg"}}], "container": true, "role": "item_group"}, {"type": "para", "indent": 4, "text": ["This video shows the effect of changing the ", {"type": "ui", "text": ["Secondary Mix"]}, ". Notice how the render becomes much noisy with various mix values, which is not an issue when using ", {"type": "ui", "text": ["Roughness"]}, " to change anisotropy."], "extent": [7379, 7581]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [7581, 7593], "body": [], "container": true, "attrs": {"src": "/videos/cloud/xpu_cloud_secondary_mix.mp4"}}], "container": true, "role": "item_group"}], "container": true}], "container": true}]}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [7650, 7662], "body": [{"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Smoke"], "extent": [7662, 7678], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable Smoke"], "extent": [8463, 8478], "body": [{"type": "para", "indent": 4, "text": ["Enables the smoke aspect of the volume. Smoke absorbs and attenuates light traveling through it. Use ", {"type": "ui", "text": ["Smoke Volume"]}, " to identify the volume storing the smoke\u2019s density."], "extent": [8499, 8674]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/sop/smoke.jpg", "type": "img", "text": ""}], "extent": [8674, 8712]}], "container": true, "attrs": {"id": "enablesmoke"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "type": "sep", "indent": 0, "text": [" Density "], "extent": [7732, 7746]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Density Scale"], "extent": [776, 792], "body": [{"type": "para", "indent": 4, "text": ["Controls the overall density of the smoke. Increasing this value will give the smoke a thicker appearance. Reducing it will make the smoke less opaque. To remap the thickness of the smoke, change the menu on the right side of this parameter from ", {"type": "ui", "text": ["Constant"]}, " to ", {"type": "ui", "text": ["Use Ramp"]}, ". "], "extent": [814, 1100]}], "container": true, "attrs": {"id": "densityscale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Density Range"], "extent": [1100, 1115], "body": [{"type": "para", "indent": 4, "text": ["Specifies the horizontal extent of the ", {"type": "ui", "text": ["Density Ramp"]}, ", which is evaluated to get the transformed smoke density."], "extent": [1144, 1263]}, {"type": "para", "indent": 4, "text": ["This parameter is available when the menu next to ", {"type": "ui", "text": ["Density Scale"]}, " is set to ", {"type": "ui", "text": ["Use Ramp"]}, "."], "extent": [1263, 1367]}], "container": true, "attrs": {"id": "density_sourcerange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Density Ramp"], "extent": [1367, 1381], "body": [{"type": "para", "indent": 4, "text": ["Controls how the smoke\u2019s density values are remapped. The horizontal axis of this ramp spans ", {"type": "ui", "text": ["Density Range"]}, "."], "extent": [1402, 1523]}, {"type": "para", "indent": 4, "text": ["This parameter is available when the menu next to ", {"type": "ui", "text": ["Density Scale"]}, " is set to ", {"type": "ui", "text": ["Use Ramp"]}, "."], "extent": [1523, 1625]}], "container": true, "attrs": {"id": "densityramp"}, "role": "item"}], "container": true, "role": "item_group"}, {"type": "include_group", "body": [{"ext": "/nodes/vop/kma_pyrosmokecolor#density_enablecontrolscale", "type": "include", "indent": 0, "role": "item", "extent": [7919, 7987]}], "container": true, "role": "item_group"}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Control Range"], "extent": [2243, 2258], "body": [{"type": "para", "indent": 4, "text": ["The values of ", {"type": "ui", "text": ["Density Control Volume"]}, " are remapped from this range to ", {"type": "ui", "text": ["Scale Range"]}, " before the result is multiplied by density values.   "], "extent": [2288, 2440]}], "container": true, "attrs": {"id": "density_controlrange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Scale Range"], "extent": [2440, 2453], "body": [{"type": "para", "indent": 4, "text": ["Controls the range of multipliers that can be applied to density by the control volume. Set the menu on the right to ", {"type": "ui", "text": ["Use Ramp"]}, " if you want to control the mapping. When this menu is set to ", {"type": "ui", "text": ["Constant"]}, ", mapping is linear. "], "extent": [2483, 2721]}], "container": true, "attrs": {"id": "density_controlscale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Control Ramp"], "extent": [2721, 2735], "body": [{"type": "para", "indent": 4, "text": ["Determines how the control volume values are mapped to density scales. The horizontal and vertical axes of this ramp span ", {"type": "ui", "text": ["Control Range"]}, " and ", {"type": "ui", "text": ["Scale Range"]}, ", respectively."], "extent": [2769, 2949]}, {"type": "para", "indent": 4, "text": ["This parameter is available when the menu next to ", {"type": "ui", "text": ["Scale Range"]}, " is set to ", {"type": "ui", "text": ["Use Ramp"]}, ".       "], "extent": [2949, 3055]}], "container": true, "attrs": {"id": "density_controlrangeramp"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "type": "sep", "indent": 0, "text": [" Color "], "extent": [8177, 8189]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Smoke Brightness"], "extent": [3067, 3086], "body": [{"type": "para", "indent": 4, "text": ["Controls the overall smoke brightness. This value acts as a multiplier on top of the smoke color. Increase this value to get brighter smoke."], "extent": [6691, 6840]}], "container": true, "attrs": {"id": "smokeint"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Smoke Color"], "extent": [8906, 8919], "body": [{"type": "para", "indent": 4, "text": ["Controls the overall color of the smoke. To get more natural looking smoke, change the menu on the right side of this parameter from ", {"type": "ui", "text": ["Constant"]}, " to ", {"type": "ui", "text": ["Use Ramp"]}, ". This will allow you to vary the smoke\u2019s color with its density."], "extent": [8939, 9174]}], "container": true, "attrs": {"id": "smokecolor"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Source Range"], "extent": [3212, 3226], "body": [{"type": "para", "indent": 4, "text": ["The minimum and maximum values (given by ", {"type": "ui", "text": ["Smoke Color Source Volume"]}, ") to map to the left and right endpoints of the ", {"type": "ui", "text": ["Density Color Ramp"]}, "."], "extent": [3258, 3409]}], "container": true, "attrs": {"id": "smokecolor_sourcerange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Shadow Color Ramp"], "extent": [3409, 3428], "body": [{"type": "para", "indent": 4, "text": ["Controls how the values (given by ", {"type": "ui", "text": ["Smoke Color Source Volume"]}, ") are mapped to its smoke color. The horizontal axis of this ramp spans the ", {"type": "ui", "text": ["Source Range"]}, "."], "extent": [3452, 3618]}], "container": true, "attrs": {"id": "smokecolorramp"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Absorption Color"], "extent": [6993, 7011], "body": [{"type": "para", "indent": 4, "text": ["The color that is absorbed as light travels through the volume."], "extent": [7032, 7105]}], "container": true, "attrs": {"id": "absorpcolor"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Source Range"], "extent": [3671, 3685], "body": [{"type": "para", "indent": 4, "text": ["The minimum and maximum values (given by ", {"type": "ui", "text": ["Absorption Color Source Volume"]}, ") to map to the left and right endpoints of the ", {"type": "ui", "text": ["Absorption Color Ramp"]}, "."], "extent": [3718, 3877]}], "container": true, "attrs": {"id": "absorpcolor_sourcerange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Absorption Color Ramp"], "extent": [3877, 3900], "body": [{"type": "para", "indent": 4, "text": ["Controls how the values (given by ", {"type": "ui", "text": ["Absorption Color Source Volume"]}, ") are mapped to its absorption color. The horizontal axis of this ramp spans the ", {"type": "ui", "text": ["Source Range"]}, "."], "extent": [3925, 4097]}], "container": true, "attrs": {"id": "absorpcolorramp"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Shadow Color"], "extent": [7105, 7119], "body": [{"type": "para", "indent": 4, "text": ["The color of shadows cast by the volume. Change the menu on the right side of this parameter from ", {"type": "ui", "text": ["Constant"]}, " to ", {"type": "ui", "text": ["Use Ramp"]}, " to change the color of the shadow based on smoke density."], "extent": [7140, 7330]}], "container": true, "attrs": {"id": "shadowcolor"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Source Range"], "extent": [4152, 4166], "body": [{"type": "para", "indent": 4, "text": ["The minimum and maximum values (given by ", {"type": "ui", "text": ["Shadow Color Source Volume"]}, ") to map to the left and right endpoints of the ", {"type": "ui", "text": ["Shadow Color Ramp"]}, "."], "extent": [4199, 4350]}], "container": true, "attrs": {"id": "shadowcolor_sourcerange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Shadow Color Ramp"], "extent": [4350, 4369], "body": [{"type": "para", "indent": 4, "text": ["Controls how the values (given by ", {"type": "ui", "text": ["Shadow Color Source Volume"]}, ") are mapped to its shadow color. The horizontal axis of this ramp spans the ", {"type": "ui", "text": ["Source Range"]}, "."], "extent": [4394, 4558]}], "container": true, "attrs": {"id": "shadowcolorramp"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Shadow Density"], "extent": [9879, 9895], "body": [{"type": "para", "indent": 4, "text": ["This multiplier applies on top of ", {"type": "ui", "text": ["Density Scale"]}, " when the volumes are lit. Increasing this value will result in less light penetrating the volume, without affecting the smoke\u2019s opacity to the viewer. Decreasing this value reduces the light\u2019s absorption, without changing how opaque the smoke appears."], "extent": [9914, 10226]}], "container": true, "attrs": {"id": "shadowint"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Tint Smoke Color with Cd"], "extent": [4609, 4635], "body": [{"type": "para", "indent": 4, "text": ["When turned on, the smoke color set by the ", {"type": "ui", "text": ["Smoke Color"]}, " parameter is multiplied by ", {"type": "code", "text": ["Cd"]}, " color volume (given by ", {"type": "ui", "text": ["Cd"]}, " Volume) if it exists to obtain the final smoke color."], "extent": [4655, 4839]}], "container": true, "attrs": {"id": "tintwithcd"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mix Smoke Color with Cd using Alpha"], "extent": [4839, 4876], "body": [{"type": "para", "indent": 4, "text": ["When turned on, the ", {"type": "code", "text": ["Alpha"]}, " volume is used to blend between the ", {"type": "ui", "text": ["Smoke Color"]}, " and the ", {"type": "code", "text": ["Cd"]}, " volume (given by ", {"type": "ui", "text": ["Cd"]}, " Volume) instead. Where alpha has a value of ", {"type": "code", "text": ["1"]}, ", it will use the color from the ", {"type": "code", "text": ["Cd"]}, " volume and where Alpha is ", {"type": "code", "text": ["0"]}, ", it will use the color set by ", {"type": "ui", "text": ["Smoke Color"]}, ". When this checkbox is turned off, the smoke color is the product of these two values instead.    "], "extent": [4899, 5285]}], "container": true, "attrs": {"id": "mixusingalpha"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "type": "sep", "indent": 0, "text": [" Anisotropy "], "extent": [8924, 8941]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Anisotropy"], "extent": [8941, 8954], "body": [{"type": "para", "indent": 4, "text": ["Controls the direction in which light entering the volume is scattered. At the default of ", {"type": "code", "text": ["0"]}, ", light scatters evenly in all directions (isotropic scattering). Positive values up to ", {"type": "code", "text": ["1"]}, " scatter more and more in the same direction as the incoming light. Negative values down to ", {"type": "code", "text": ["-1"]}, " scatter backwards. For clouds use a value around ", {"type": "code", "text": ["0.877"]}, "."], "extent": [8974, 9319]}], "container": true, "attrs": {"id": "anisotropy"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Roughness"], "extent": [9319, 9330], "body": [{"type": "para", "indent": 4, "text": ["Use this to control how fast the a none-zero anisotropy value (given by ", {"type": "ui", "text": ["Anisotropy"]}, ") changes to ", {"type": "code", "text": ["0"]}, " based on the number of volumetric ray bounces. This is used for cloud rendering when the ", {"type": "ui", "text": ["Anisotropy"]}, " value is set to a large forward scattering value (around ", {"type": "code", "text": ["0.877"]}, "). The larger this value, the brighter, sharper, and less noisy the cloud will render. Larger density clouds require larger values as well. To render a volume with multiple volumetric ray bounces, increase the ", {"type": "ui", "text": ["Volume Limit"]}, " on the ", {"scheme": "Node", "value": "/nodes/lop/karmarenderproperties", "type": "link", "text": ["Karma Render Settings LOP"], "fullpath": "/nodes/lop/karmarenderproperties.html"}, "."], "extent": [9358, 9928]}, {"type": "para", "indent": 4, "text": ["The video shows the effect of increased roughness on a cloud volume:"], "extent": [9928, 10001]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [10001, 10013], "body": [], "container": true, "attrs": {"src": "/videos/cloud/xpu_cloud_anisotropy_roughness_w0.mp4"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "anisotropyrougness"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Use Secondary Anisotropy"], "extent": [10080, 10106], "body": [{"type": "para", "indent": 4, "text": ["Enables a secondary phase function, which is blended linearly with the primary anisotropy. This allows the phase function to include both forward (positive values) and backwards (negative values) scattering. This can improve cloud rendering where you can fill in the cloud with backwards scattering, while maintaining the silver lining on the edges with forward scattering."], "extent": [10138, 10517]}], "container": true, "attrs": {"id": "usesecondaryanisotropy"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Secondary Mix"], "extent": [10517, 10532], "body": [{"type": "para", "indent": 4, "text": ["Controls the blend between the primary (given by ", {"type": "ui", "text": ["Anisotropy"]}, ") and secondary anisotropy (given by ", {"type": "ui", "text": ["Secondary Anisotropy"]}, ")."], "extent": [10554, 10686]}, {"type": "para", "indent": 4, "text": ["This video shows the effect of changing secondary mix:"], "extent": [10686, 10745]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [10745, 10757], "body": [], "container": true, "attrs": {"src": "/videos/cloud/xpu_cloud_secondary_mix.mp4"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "secondarymix"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Secondary Anisotropy"], "extent": [10815, 10837], "body": [{"type": "para", "indent": 4, "text": ["Controls the secondary scattering that can improve cloud rendering. To preserve a silver lining on the edges of the cloud, make the primary scattering (given by ", {"type": "ui", "text": ["Anisotropy"]}, ") largely positive, while using ", {"type": "code", "text": ["0"]}, " or lower values for this parameter to make the center of the cloud look more 'dark'."], "extent": [10866, 11167]}], "container": true, "attrs": {"id": "secondaryanisotropy"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "type": "sep", "indent": 0, "text": [" Multiscatter "], "extent": [11167, 11186]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Extinction Falloff"], "extent": [11186, 11207], "body": [{"type": "para", "indent": 4, "text": ["When the number of volumetric ray bounces reached the ", {"type": "ui", "text": ["Start Level"]}, ", the extinction coefficient is scaled by the power of this value. A value of ", {"type": "code", "text": ["0"]}, " has no effect, while a value less then ", {"type": "code", "text": ["1.0"]}, " exponentially reduces the extinction coefficient, which helps to brighten the shadowed regions since the rays are less attenuated and exit the medium sooner with a fewer number of ray bounces. This effect helps to reduce rendering time for clouds that otherwise need many more ray bounces. To render a volume with multiple volumetric ray bounces, increase the ", {"type": "ui", "text": ["Volume Limit"]}, " on  ", {"scheme": null, "value": " Node:lop/karmarenderproperties", "type": "link", "text": ["Karma Render Settings "], "exists": true}, "."], "extent": [11234, 11874]}, {"type": "para", "indent": 4, "text": ["The video shows the effect of increased falloff on a cloud volume:"], "extent": [11874, 11945]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [11945, 11957], "body": [], "container": true, "attrs": {"src": "/videos/cloud/xpu_cloud_extinction_falloff.mp4"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "extinctionfalloff"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Albedo Contribution"], "extent": [12019, 12041], "body": [{"type": "para", "indent": 4, "text": ["A constant multiplier for the albedo that is used in phase function. This helps to increase the direct lighting contribution. Values above ", {"type": "code", "text": ["1.0"]}, " might appear softer and more translucent. To render a volume with multiple volumetric ray bounces increase the ", {"type": "ui", "text": ["Volume Limit"]}, " on ", {"scheme": null, "value": " Node:lop/karmarenderproperties", "type": "link", "text": ["Karma Render Settings "], "exists": true}, "."], "extent": [12069, 12412]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [12412, 12424], "body": [], "container": true, "attrs": {"src": "/videos/cloud/xpu_cloud_albedo_contribution.mp4"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "albedocontribution"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Start Level"], "extent": [12491, 12504], "body": [{"type": "para", "indent": 4, "text": ["This number of volumetric ray bounces must be reached before the ", {"type": "ui", "text": ["Extinction Falloff"]}, " and ", {"type": "ui", "text": ["Albedo Contribution"]}, " multiplier takes effect. To render a volume with multiple volumetric ray bounces increase the ", {"type": "ui", "text": ["Volume Limit"]}, " on ", {"scheme": null, "value": " Node:lop/karmarenderproperties", "type": "link", "text": ["Karma Render Settings "], "exists": true}, "."], "extent": [12524, 12819]}], "container": true, "attrs": {"id": "startlevel"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Scatter"], "extent": [12819, 12833], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable Scatter"], "extent": [10315, 10332], "body": [{"type": "para", "indent": 4, "text": ["Enables the scattered emission aspect of the volume. Use this for shading explosions. This will generate the ", {"type": "ui", "text": ["Scatter Volume"]}, ", which is also used for rendering. Use ", {"type": "ui", "text": ["Source Volume"]}, " to identify the volume that controls this emission."], "extent": [10355, 10597]}, {"type": "para", "indent": 4, "text": ["Explosion viewed with and without scatter enabled (", {"type": "ui", "text": ["Enable Mask"]}, " is turned off)."], "extent": [10597, 10685]}, {"type": "compare_images_group", "body": [{"ext": null, "type": "compare_images", "indent": 4, "role": "item", "extent": [10685, 10706], "body": [], "container": true, "attrs": {"image1": "/images/sop/smoke.jpg", "image2": "/images/sop/scatter_nomask.jpg"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "enablescatter"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "type": "sep", "indent": 0, "text": [" Scatter "], "extent": [12888, 12902]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Intensity Scale"], "extent": [526, 544], "body": [{"type": "para", "indent": 4, "text": ["Sets the emission intensity for the scatter. Increase this value to make the scatter brighter."], "extent": [10829, 10933]}], "container": true, "attrs": {"id": "scatterint"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Hot Core Scale"], "extent": [622, 638], "body": [{"type": "para", "indent": 4, "text": ["Scales the emission intensity for the scatter where the luminance of the scatter is bright. As the explosion fades off over time, you will see the effect of this parameter less and less even with very large values because over time the luminance of the scatter value is getting less and less. It is good to boost your explosion brightness at the beginning of the explosion. Increasing the value of ", {"type": "ui", "text": ["Hot Core Scale"]}, " brightens the explosions fissures."], "extent": [10967, 11424]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [11424, 11436], "body": [], "container": true, "attrs": {"src": "/videos/scatter_hot_core_scale.mp4"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "hotcoreint"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Color Correct"], "extent": [716, 731], "body": [{"type": "para", "indent": 4, "text": ["Turns on the color correction controls for the scatter color. "], "extent": [745, 817]}], "container": true, "attrs": {"id": "docc"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Hue"], "extent": [479, 485], "body": [{"type": "para", "indent": 4, "text": ["Rotates the color hue, with values wrapping at 0-1 boundaries."], "extent": [499, 567]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/nodes/vop/hmtlxcolorcorrect_hue.jpg", "type": "img", "text": ""}], "extent": [567, 628]}], "container": true, "attrs": {"id": "hue"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Saturation"], "extent": [628, 640], "body": [{"type": "para", "indent": 4, "text": ["Adjust the color saturation."], "extent": [661, 695]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/nodes/vop/hmtlxcolorcorrect_saturation.jpg", "type": "img", "text": ""}], "extent": [695, 759]}], "container": true, "attrs": {"id": "saturation"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "type": "sep", "indent": 0, "text": [" Masking "], "extent": [13183, 13197]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable Mask"], "extent": [13197, 13211], "body": [{"type": "para", "indent": 4, "text": ["Masks the emission based on the ", {"type": "ui", "text": ["Mask Volume"]}, " using a threshold range. ", {"type": "ui", "text": ["Mask Center"]}, " and ", {"type": "ui", "text": ["Mask Width"]}, " control the masking range. By default, where the mask volume is at the minimum and maximum of this range, the additional emission multiplier is ", {"type": "code", "text": ["1"]}, " and ", {"type": "code", "text": ["0"]}, ", respectively. Emission is reduced in areas where the mask value is larger. Masking is useful for bringing out crunchy details for an explosion."], "extent": [16785, 17199]}, {"type": "para", "indent": 4, "text": ["Scatter with and without masking."], "extent": [17199, 17238]}, {"type": "compare_images_group", "body": [{"ext": null, "type": "compare_images", "indent": 4, "role": "item", "extent": [17238, 17259], "body": [], "container": true, "attrs": {"image1": "/images/sop/scatter_nomask.jpg", "image2": "/images/sop/scatter_mask.jpg"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "scatter_enablemask"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mask Center"], "extent": [13304, 13317], "body": [{"type": "para", "indent": 4, "text": ["In conjunction with ", {"type": "ui", "text": ["Mask Width"]}, ", this parameter controls the range of values used for masking emission. The effective range of mask values is from ", {"type": "code", "text": ["Mask Center - Mask Width * 0.5"]}, " to ", {"type": "code", "text": ["Mask Center + Mask Width * 0.5"]}, ". When set to a lower value, more of the emission will be masked and the explosion will glow less brightly. When set to a higher value, the volume will appear to glow internally, with this glow peeking through cracks in the smoke."], "extent": [17399, 17853]}, {"type": "para", "indent": 4, "text": ["The video shows the effect of increasing this parameter while keeping ", {"type": "ui", "text": ["Mask Width"]}, " fixed."], "extent": [17853, 17949]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [17949, 17961], "body": [], "container": true, "attrs": {"src": "/videos/scatter_mask_center.mp4"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "scatter_maskcenter"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mask Width"], "extent": [13414, 13426], "body": [{"type": "para", "indent": 4, "text": ["Controls the range of values used for masking emission, in conjunction with ", {"type": "ui", "text": ["Mask Center"]}, ". The effective range of mask values is from ", {"type": "code", "text": ["Mask Center - Mask Width * 0.5"]}, " to ", {"type": "code", "text": ["Mask Center + Mask Width * 0.5"]}, "."], "extent": [18051, 18262]}], "container": true, "attrs": {"id": "scatter_maskwidth"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Use Mask Ramp"], "extent": [13521, 13536], "body": [{"type": "para", "indent": 4, "text": ["Use a ramp to set how the emission changes between the minimum and maximum mask threshold (as set by ", {"type": "ui", "text": ["Mask Center"]}, " and ", {"type": "ui", "text": ["Mask Width"]}, "). "], "extent": [18305, 18449]}], "container": true, "attrs": {"id": "scatter_usemaskramp"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mask Ramp"], "extent": [13635, 13646], "body": [{"type": "para", "indent": 4, "text": ["Sets how the emission changes between the minimum and maximum mask values (as set by ", {"type": "ui", "text": ["Mask Center"]}, " and ", {"type": "ui", "text": ["Mask Width"]}, "). White means full emission and black means no emission."], "extent": [18488, 18674]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [18674, 18684], "body": [{"type": "para", "indent": 8, "text": ["The default white to black ramp will produce the exact same results as having ", {"type": "ui", "text": ["Use Mask Ramp"]}, " turned off."], "extent": [18684, 18801]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 4, "text": ["When the ramp is set white to black from left to right:"], "extent": [18801, 18862]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/sop/scatter_white_to_black_ramp.jpg", "type": "img", "text": ""}], "extent": [18862, 18919]}, {"type": "para", "indent": 4, "text": ["When the ramp is set black to white from left to right:"], "extent": [18919, 18980]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/sop/scatter_black_to_white_ramp.jpg", "type": "img", "text": ""}], "extent": [18980, 19041]}], "container": true, "attrs": {"id": "scatter_maskramp"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Fire"], "extent": [13739, 13750], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable Fire"], "extent": [19075, 19089], "body": [{"type": "para", "indent": 4, "text": ["Enables a secondary emission component. Fire is mainly used for fire and flame type simulations."], "extent": [19109, 19211]}, {"type": "para", "indent": 4, "text": ["This component is very similar to scatter. The only differences are that scatter has to use the same field for emission intensity and color, and scatter offers blurring to spread out the emission."], "extent": [19211, 19413]}, {"type": "para", "indent": 4, "text": ["Fire simulation viewed with and without fire enabled (", {"type": "ui", "text": ["Enable Mask"]}, " is turned off)."], "extent": [19413, 19504]}, {"type": "compare_images_group", "body": [{"ext": null, "type": "compare_images", "indent": 4, "role": "item", "extent": [19504, 19525], "body": [], "container": true, "attrs": {"image1": "/images/sop/fire_smoke.jpg", "image2": "/images/sop/fire_dofire.jpg"}}], "container": true, "role": "item_group"}, {"type": "para", "indent": 4, "text": ["Fire simulation viewed with fire enabled and with scatter enabled on top."], "extent": [19615, 19694]}, {"type": "compare_images_group", "body": [{"ext": null, "type": "compare_images", "indent": 4, "role": "item", "extent": [19694, 19715], "body": [], "container": true, "attrs": {"image1": "/images/sop/fire_dofire.jpg", "image2": "/images/sop/fire_dofirewithscatter.jpg    "}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "enablefire"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "type": "sep", "indent": 0, "text": [" Intensity "], "extent": [13803, 13819]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Intensity Scale"], "extent": [543, 561], "body": [{"type": "para", "indent": 4, "text": ["Sets the emission intensity for the fire. Increase this value to make the fire brighter. Set the menu on the right side of this parameter to ", {"type": "ui", "text": ["Use Ramp"]}, " to remap the intensity."], "extent": [19853, 20040]}], "container": true, "attrs": {"id": "fireint"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Source Range"], "extent": [629, 643], "body": [{"type": "para", "indent": 4, "text": ["The minimum and maximum source values to map to the left and right endpoints of the ", {"type": "ui", "text": ["Fire Intensity Ramp"]}, ". Increase the minimum source value to reduce the emissive parts of the volume."], "extent": [20074, 20266]}, {"type": "para", "indent": 4, "text": ["By increasing the minimum value from zero, the area of the fire will shrink (", {"type": "ui", "text": ["Enable Mask"]}, " is turned off)."], "extent": [20266, 20379]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [20379, 20391], "body": [], "container": true, "attrs": {"src": "/videos/fire_source_range_min.mp4"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "fireintrange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Fire Intensity Ramp"], "extent": [721, 742], "body": [{"type": "para", "indent": 4, "text": ["Controls how the raw ", {"type": "ui", "text": ["Intensity Volume"]}, " values are mapped to effective intensity. The horizontal axis of this ramp spans ", {"type": "ui", "text": ["Source Range"]}, "."], "extent": [20678, 20828]}], "container": true, "attrs": {"id": "fireintramp"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "type": "sep", "indent": 0, "text": [" Color "], "extent": [13982, 13994]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Color Mode"], "extent": [20828, 20840], "body": [{"type": "para", "indent": 4, "text": ["Sets how the color is calculated for the fire. ", {"type": "ui", "text": ["Color Ramp"]}, " will map the colors using ", {"type": "ui", "text": ["Fire Color Ramp"]}, " from the given ", {"type": "ui", "text": ["Source Range"]}, ". Choose ", {"type": "ui", "text": ["Physical Blackbody"]}, " or ", {"type": "ui", "text": ["Planck Backbody"]}, " to compute color based on the temperature of an incandescent blackbody."], "extent": [20863, 21138]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [21138, 21148], "body": [{"type": "para", "indent": 8, "text": [{"type": "ui", "text": ["Planck Blackbody"]}, " incorporates emission power into the calculated color. The power scales rapidly at high temperatures, so you might need to reduce emission intensity to compensate. To use the pure physical blackbody color, set emission intensity to constant ", {"type": "code", "text": ["1"]}, "."], "extent": [21148, 21428]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "firecolormode"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Source Range"], "extent": [21428, 21442], "body": [{"type": "para", "indent": 4, "text": ["The minimum and maximum source values to map to the left and right endpoints of the ", {"type": "ui", "text": ["Fire Color Ramp"]}, "."], "extent": [21466, 21576]}], "container": true, "attrs": {"id": "firecolorrange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Fire Color Ramp"], "extent": [21779, 21796], "body": [{"type": "para", "indent": 4, "text": ["Controls how the ", {"type": "ui", "text": ["Color Volume"]}, " values are mapped to emission color. The horizontal axis of this ramp spans ", {"type": "ui", "text": ["Source Range"]}, "."], "extent": [21819, 21956]}], "container": true, "attrs": {"id": "firecolorramp"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Temperature Scale"], "extent": [21956, 21975], "body": [{"type": "para", "indent": 4, "text": ["Scale applied to the ", {"type": "ui", "text": ["Color Volume"]}, " values before they are mapped to blackbody color."], "extent": [21998, 22095]}], "container": true, "attrs": {"id": "firetempscale"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "type": "sep", "indent": 0, "text": [" Masking "], "extent": [14228, 14242]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable Mask"], "extent": [14242, 14256], "body": [{"type": "para", "indent": 4, "text": ["Masks the emission based on the ", {"type": "ui", "text": ["Mask Volume"]}, " using a threshold range. ", {"type": "ui", "text": ["Mask Center"]}, " and ", {"type": "ui", "text": ["Mask Width"]}, " control the masking range. By default, where the mask volume is at the minimum and maximum of this range, the additional emission multiplier is ", {"type": "code", "text": ["1"]}, " and ", {"type": "code", "text": ["0"]}, ", respectively. Emission is reduced in areas where the mask value is larger. Masking is useful for bringing out crunchy details for an explosion."], "extent": [16785, 17199]}, {"type": "para", "indent": 4, "text": ["Scatter with and without masking."], "extent": [17199, 17238]}, {"type": "compare_images_group", "body": [{"ext": null, "type": "compare_images", "indent": 4, "role": "item", "extent": [17238, 17259], "body": [], "container": true, "attrs": {"image1": "/images/sop/scatter_nomask.jpg", "image2": "/images/sop/scatter_mask.jpg"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "fire_enablemask"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mask Center"], "extent": [14343, 14356], "body": [{"type": "para", "indent": 4, "text": ["In conjunction with ", {"type": "ui", "text": ["Mask Width"]}, ", this parameter controls the range of values used for masking emission. The effective range of mask values is from ", {"type": "code", "text": ["Mask Center - Mask Width * 0.5"]}, " to ", {"type": "code", "text": ["Mask Center + Mask Width * 0.5"]}, ". When set to a lower value, more of the emission will be masked and the explosion will glow less brightly. When set to a higher value, the volume will appear to glow internally, with this glow peeking through cracks in the smoke."], "extent": [17399, 17853]}, {"type": "para", "indent": 4, "text": ["The video shows the effect of increasing this parameter while keeping ", {"type": "ui", "text": ["Mask Width"]}, " fixed."], "extent": [17853, 17949]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [17949, 17961], "body": [], "container": true, "attrs": {"src": "/videos/scatter_mask_center.mp4"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "fire_maskcenter"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mask Width"], "extent": [14447, 14459], "body": [{"type": "para", "indent": 4, "text": ["Controls the range of values used for masking emission, in conjunction with ", {"type": "ui", "text": ["Mask Center"]}, ". The effective range of mask values is from ", {"type": "code", "text": ["Mask Center - Mask Width * 0.5"]}, " to ", {"type": "code", "text": ["Mask Center + Mask Width * 0.5"]}, "."], "extent": [18051, 18262]}], "container": true, "attrs": {"id": "fire_maskwidth"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Use Mask Ramp"], "extent": [14548, 14563], "body": [{"type": "para", "indent": 4, "text": ["Use a ramp to set how the emission changes between the minimum and maximum mask threshold (as set by ", {"type": "ui", "text": ["Mask Center"]}, " and ", {"type": "ui", "text": ["Mask Width"]}, "). "], "extent": [18305, 18449]}], "container": true, "attrs": {"id": "fire_usemaskramp"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mask Ramp"], "extent": [14656, 14667], "body": [{"type": "para", "indent": 4, "text": ["Sets how the emission changes between the minimum and maximum mask values (as set by ", {"type": "ui", "text": ["Mask Center"]}, " and ", {"type": "ui", "text": ["Mask Width"]}, "). White means full emission and black means no emission."], "extent": [18488, 18674]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [18674, 18684], "body": [{"type": "para", "indent": 8, "text": ["The default white to black ramp will produce the exact same results as having ", {"type": "ui", "text": ["Use Mask Ramp"]}, " turned off."], "extent": [18684, 18801]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 4, "text": ["When the ramp is set white to black from left to right:"], "extent": [18801, 18862]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/sop/scatter_white_to_black_ramp.jpg", "type": "img", "text": ""}], "extent": [18862, 18919]}, {"type": "para", "indent": 4, "text": ["When the ramp is set black to white from left to right:"], "extent": [18919, 18980]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/sop/scatter_black_to_white_ramp.jpg", "type": "img", "text": ""}], "extent": [18980, 19041]}], "container": true, "attrs": {"id": "fire_maskramp"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Bindings"], "extent": [14757, 14772], "body": [{"level": 2, "type": "sep", "indent": 0, "text": [" Smoke "], "extent": [14772, 14785]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Density Volume"], "extent": [5300, 5317], "body": [{"type": "para", "indent": 4, "text": ["The name of the volume to be used as smoke. Usually you should leave this as ", {"type": "code", "text": ["density"]}, "."], "extent": [5345, 5442]}], "container": true, "attrs": {"id": "density_volumename"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Density Control Volume"], "extent": [5442, 5466], "body": [{"type": "para", "indent": 4, "text": ["The control volume used to modify smoke density values. This volume is used if ", {"type": "ui", "text": ["Scale by Control Volume"]}, " is turned on. Use ", {"type": "code", "text": ["tempearture"]}, " or ", {"type": "code", "text": ["flame"]}, " for fire effects, where you want the density scaled according to your emissive volume."], "extent": [5501, 5747]}], "container": true, "attrs": {"id": "densitycontrol_volumename"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Smoke Color Source Volume"], "extent": [5747, 5774], "body": [{"type": "para", "indent": 4, "text": ["Selects the volume that is used for mapping the smoke color. Setting this to ", {"type": "ui", "text": ["Smoke Density"]}, " will use the modified smoke density by the shader. Otherwise, ", {"type": "ui", "text": ["Geometry Volume"]}, " will use the specified incoming volume from the geometry."], "extent": [5807, 6051]}], "container": true, "attrs": {"id": "smokecolorsource_volume"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Custom Volume"], "extent": [6051, 6066], "body": [{"type": "para", "indent": 4, "text": ["The volume that is used for mapping the smoke color."], "extent": [6103, 6165]}], "container": true, "attrs": {"id": "smokecolorsource_volumename"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Absorption Color Source Volume"], "extent": [6165, 6197], "body": [{"type": "para", "indent": 4, "text": ["Selects the volume that is used for mapping the absorption color. Setting this to ", {"type": "ui", "text": ["Smoke Density"]}, " will use the modified smoke density by the shader. Otherwise, ", {"type": "ui", "text": ["Geometry Volume"]}, " will use the specified incoming volume from the geometry."], "extent": [6231, 6484]}], "container": true, "attrs": {"id": "absorpcolorsource_volume"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Custom Volume"], "extent": [6484, 6499], "body": [{"type": "para", "indent": 4, "text": ["The volume that is used for mapping the absorption color."], "extent": [6537, 6604]}], "container": true, "attrs": {"id": "absorpcolorsource_volumename"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Shadow Color Source Volume"], "extent": [6604, 6632], "body": [{"type": "para", "indent": 4, "text": ["Selects the volume that is used for mapping the shadow color. Setting this to ", {"type": "ui", "text": ["Smoke Density"]}, " will use the modified smoke density by the shader. Otherwise, ", {"type": "ui", "text": ["Geometry Volume"]}, " will use the specified incoming volume from the geometry."], "extent": [6666, 6915]}], "container": true, "attrs": {"id": "shadowcolorsource_volume"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Custom Volume"], "extent": [6915, 6930], "body": [{"type": "para", "indent": 4, "text": ["The volume that is used for mapping the shadow color."], "extent": [6968, 7031]}], "container": true, "attrs": {"id": "shadowcolorsource_volumename"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Cd Volume"], "extent": [7031, 7042], "body": [{"type": "para", "indent": 4, "text": ["The name of the volume to be used as the color volume. Usually you should leave this as ", {"type": "code", "text": ["Cd"]}, "."], "extent": [7065, 7168]}], "container": true, "attrs": {"id": "cd_volumename"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Alpha Volume"], "extent": [7168, 7182], "body": [{"type": "para", "indent": 4, "text": ["The name of the volume to be used as the alpha volume. Usually you should leave this as ", {"type": "code", "text": ["Alpha"]}, "."], "extent": [7208, 7314]}], "container": true, "attrs": {"id": "alpha_volumename"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Anisotropy Control Volume"], "extent": [15463, 15490], "body": [], "container": true, "attrs": {"id": "anisotropycontrol_volumename"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "type": "sep", "indent": 0, "text": [" Scatter "], "extent": [15600, 15614]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Scatter Volume"], "extent": [938, 955], "body": [{"type": "para", "indent": 4, "text": ["The name of the volume to be used for the scatter color. Usually this volume is created by the ", {"scheme": "Node", "value": "/nodes/sop/pyrobakevolume", "type": "link", "text": ["Pyro Bake Volume"], "fullpath": "/nodes/sop/pyrobakevolume.html"}, " node."], "extent": [983, 1136]}], "container": true, "attrs": {"id": "scatter_volumename"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mask Volume"], "extent": [15683, 15696], "body": [{"type": "para", "indent": 4, "text": ["Selects the volume that is used for masking the scatter emission, when ", {"type": "ui", "text": ["Enable Masking"]}, " is on. Setting this to ", {"type": "ui", "text": ["Smoke Density"]}, " will use the modified smoke density by the shader. Otherwise, ", {"type": "ui", "text": ["Geometry Volume"]}, " will use the specified incoming volume from the geometry."], "extent": [15724, 16004]}], "container": true, "attrs": {"id": "scattermask_volume"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Custom Volume"], "extent": [16004, 16019], "body": [{"type": "para", "indent": 4, "text": ["The volume that is used for masking the scatter emission."], "extent": [16051, 16118]}], "container": true, "attrs": {"id": "scattermask_volumename"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Alpha Volume"], "extent": [16118, 16132], "body": [{"type": "para", "indent": 4, "text": ["Selects the volume that is used for multiplying the scatter emission, when ", {"type": "ui", "text": ["Enable Masking"]}, " is on. Setting this to ", {"type": "ui", "text": ["Smoke Density"]}, " will use the modified smoke density by the shader. Otherwise, ", {"type": "ui", "text": ["Geometry Volume"]}, " will use the specified incoming volume from the geometry."], "extent": [16161, 16445]}], "container": true, "attrs": {"id": "scatteralpha_volume"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Alpha Volume"], "extent": [16445, 16459], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Enable Mask"]}, " is on, the scatter emission is multiplied by this volume."], "extent": [16492, 16580]}], "container": true, "attrs": {"id": "scatteralpha_volumename"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "type": "sep", "indent": 0, "text": [" Fire "], "extent": [16580, 16591]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Intensity Volume"], "extent": [1052, 1071], "body": [{"type": "para", "indent": 4, "text": ["The name of the volume to be used for the intensity of fire."], "extent": [1097, 1167]}], "container": true, "attrs": {"id": "firek_volumename"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Color Volume"], "extent": [1167, 1181], "body": [{"type": "para", "indent": 4, "text": ["The name of the volume to be used for the color of fire."], "extent": [1211, 1277]}], "container": true, "attrs": {"id": "firecolor_volumename"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mask Volume"], "extent": [16717, 16730], "body": [{"type": "para", "indent": 4, "text": ["Selects the volume that is used for masking the fire emission, when ", {"type": "ui", "text": ["Enable Masking"]}, " is on. Setting this to ", {"type": "ui", "text": ["Smoke Density"]}, " will use the modified smoke density by the shader. Otherwise, ", {"type": "ui", "text": ["Geometry Volume"]}, " will use the specified incoming volume from the geometry.    "], "extent": [16755, 17036]}], "container": true, "attrs": {"id": "firemask_volume"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Custom Volume"], "extent": [17036, 17051], "body": [{"type": "para", "indent": 4, "text": ["The volume that is used for masking the fire emission."], "extent": [17080, 17144]}], "container": true, "attrs": {"id": "firemask_volumename"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Alpha Volume"], "extent": [17144, 17158], "body": [{"type": "para", "indent": 4, "text": ["Selects the volume that is used for multiplying the fire emission, when ", {"type": "ui", "text": ["Enable Masking"]}, " is on. Setting this to ", {"type": "ui", "text": ["Smoke Density"]}, " will use the modified smoke density by the shader. Otherwise, ", {"type": "ui", "text": ["Geometry Volume"]}, " will use the specified incoming volume from the geometry.    "], "extent": [17184, 17469]}], "container": true, "attrs": {"id": "firealpha_volume"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Custom Volume"], "extent": [17469, 17484], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Enable Mask"]}, " is on, the fire emission is multiplied by this volume.    "], "extent": [17510, 17599]}], "container": true, "attrs": {"id": "alpha_volumename"}, "role": "item"}], "container": true, "role": "item_group"}]}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [17599, 17608], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": null, "value": " Node:vop/kma_pyrosmokecolor ", "type": "link", "text": ["Karma Pyro Smoke Color "], "exists": true}], "extent": [17608, 17666]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": null, "value": " Node:vop/kma_pyrofirecolor ", "type": "link", "text": ["Karma Pyro Fire Color "], "exists": true}], "extent": [17666, 17722]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": null, "value": " Node:vop/kma_pyroscattercolor ", "type": "link", "text": ["Karma Pyro Scatter Color "], "exists": true}], "extent": [17722, 17784]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": null, "value": " Node:vop/kma_pyrofireemission ", "type": "link", "text": ["Karma Pyro Fire Emission "], "exists": true}], "extent": [17784, 17846]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": null, "value": " Node:vop/kma_pyroscatteremission ", "type": "link", "text": ["Karma Pyro Scatter Emission "], "exists": true}], "extent": [17846, 17914]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": null, "value": " Node:vop/kma_pyrovolumemask ", "type": "link", "text": ["Karma Pyro Volume Mask "], "exists": true}], "extent": [17914, 17972]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": null, "value": " Node:vop/kma_pyroanisotropy ", "type": "link", "text": ["Karma Pyro Anisotropy "], "exists": true}], "extent": [17972, 18030]}], "container": true}], "text": "Related"}], "title": ["Karma Pyro Shader"], "summary": ["Flexible, production-quality smoke, cloud, fire, and explosion shader."], "included": ["/nodes/sop/pyrobakevolume", "/nodes/sop/volumevisualization", "/nodes/vop/hmtlxcolorcorrect", "/nodes/vop/kma_pyrofirecolor", "/nodes/vop/kma_pyrofireemission", "/nodes/vop/kma_pyroscattercolor", "/nodes/vop/kma_pyroscatteremission", "/nodes/vop/kma_pyrosmokecolor", "/nodes/vop/kma_pyrovolumemask", "/nodes/vop/pyroadvancedshader"]}