{"type": "root", "attrs": {"type": "node", "context": "vop", "tags": "rman,displayfilter", "icon": "NETWORKS/shop", "internal": "pxrstylizedtoon", "version": "3.0", "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["pxrstylizedtoon"], "extent": [74, 94]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [94, 107], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Result"], "extent": [107, 120], "body": [{"type": "para", "indent": 7, "text": ["From PxrStylizedControl: read NPRtoonOut AOV from Artistic Toon in PxrStylizedControl, and place in Beauty, ignores all other parameters in this mode"], "extent": [149, 307]}], "container": true, "attrs": {"channel": "/visualizer"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Signal"], "extent": [307, 319], "body": [{"type": "para", "indent": 7, "text": ["Signal to use for Toon Stepping diffuse AOV: look up signal from required 'diffuse' AOV, check Max Indirect Bounces=0 in Path Tracer Intergrator settings of only direct diffuse. If dark albedo colors on objects, difficult to extract toon ramp, use Artistic Mode Signal instead. When Occlusion Integrator chosen - switch to PxrOcclusion in RenderMan Integrator Custom AOV - name of a color AOV to use for the signal to toon shading. Typically 'diffuse', can put any light AOV here. This AOV has to be setup in Maya/Katana/Houdini or DisplayFilter will exit."], "extent": [344, 909]}], "container": true, "attrs": {"channel": "/Signal"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Custom AOV"], "extent": [909, 925], "body": [{"type": "para", "indent": 7, "text": ["Name of a color AOV to use for the signal to toon shading. Typically diffuse, can put any light AOV here. This AOV has to be setup in Maya/Katana/Houdini or DisplayFilter will exit."], "extent": [961, 1151]}], "container": true, "attrs": {"channel": "/signal_aov_string"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Grayscale Mode"], "extent": [1151, 1171], "body": [{"type": "para", "indent": 7, "text": ["Under the hood a white shader approximation is created based off the Signal AOV to drive the Toon response.  By default dividing Diffuse by Albedo, but can also extract Signal AOV lighting results with a pure albedo from NPRalbedo AOV or albedo AOV.  If NPRalbedo AOV chosen, must set Albedo Color in Stylized Controller Pattern node.  Ignored when using PxrOcclusion integrator, or Artistic Mode. For Glass objects and objects that don\u2019t have an albedo: use Signal AOV Average"], "extent": [1201, 1687]}], "container": true, "attrs": {"channel": "/whiteShader"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Threshold Min"], "extent": [1687, 1706], "body": [{"type": "para", "indent": 7, "text": ["0 is off, values greater than 0 ignore small differences between Signal Energy and Albedo Color"], "extent": [1752, 1856]}], "container": true, "attrs": {"channel": "/Signal_Energy_Threshold_Min"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Threshold Max"], "extent": [1856, 1875], "body": [{"type": "para", "indent": 7, "text": ["1 is off, values smaller than one remap the difference between Signal Energy and Albedo Color to be darker"], "extent": [1921, 2036]}], "container": true, "attrs": {"channel": "/Signal_Energy_Threshold_Max"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Artistic From PxrStylizedControl"], "extent": [2036, 2074], "body": [{"type": "para", "indent": 7, "text": ["Read NPRtoonOut data AOV from Artistic Mode in PxrStylizedControl for grayscale stepping, then apply Toon color modes here in PxrStylizedToon DisplayFilter"], "extent": [2109, 2273]}], "container": true, "attrs": {"channel": "/Artistic_Pattern"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Light Rotation Space"], "extent": [2273, 2299], "body": [{"type": "para", "indent": 7, "text": ["Normalized Object -1..1: Range is -1..1 on each XYZ rotation of fake distant light to drive stepping direction.  See NPRcurvature for reference of normalized object space.  Can connect to PxrDistantLight rotation values, locator, or manual user input of rotation. Default is 0,0,-1 to match default of Distant Light (0,0,0) degrees on light that faces straight down the Z-axis onto object.  Degrees 0..360: matches PxrDistantLight where 0,0,0 faces down the Z-axis."], "extent": [2347, 2821]}], "container": true, "attrs": {"channel": "/Artistic_Light_Rotation_Space"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Rotation"], "extent": [2821, 2835], "body": [{"type": "para", "indent": 7, "text": ["-1..1 or 0..360 depending on Artistic Light Rotation Space"], "extent": [2877, 2944]}], "container": true, "attrs": {"channel": "/Artistic_Light_Rotation"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Artistic Shadow"], "extent": [2944, 2965], "body": [{"type": "para", "indent": 7, "text": ["Use NPRshadow LPE AOV from lights in scene to add shadow"], "extent": [3004, 3069]}], "container": true, "attrs": {"channel": "/Artistic_Shadow_Menu"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Shadow AOV"], "extent": [3069, 3085], "body": [{"type": "para", "indent": 7, "text": ["Name of AOV to use for shadow when connect light to Rotation in Artistic Mode.  Default is NPRshadow LPE."], "extent": [3121, 3235]}], "container": true, "attrs": {"channel": "/Shadow_AOV_String"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Shadow Color"], "extent": [3235, 3253], "body": [{"type": "para", "indent": 7, "text": ["Color to step to"], "extent": [3284, 3309]}], "container": true, "attrs": {"channel": "/Shadow_Color"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Signal Min"], "extent": [3309, 3325], "body": [{"type": "para", "indent": 7, "text": ["Remap signal (lighting, artistic angle, \u2026) for steps"], "extent": [3354, 3417]}], "container": true, "attrs": {"channel": "/Signal_Min"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Signal Max"], "extent": [3417, 3433], "body": [{"type": "para", "indent": 7, "text": ["Remap signal (lighting, artistic angle, \u2026) for steps"], "extent": [3462, 3525]}], "container": true, "attrs": {"channel": "/Signal_Max"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Gain"], "extent": [3525, 3535], "body": [{"type": "para", "indent": 7, "text": ["Gain on incoming signal"], "extent": [3569, 3601]}], "container": true, "attrs": {"channel": "/Signal_Pre_Gain"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Gamma"], "extent": [3601, 3612], "body": [{"type": "para", "indent": 7, "text": ["Gamma on incoming signal"], "extent": [3647, 3680]}], "container": true, "attrs": {"channel": "/Signal_Pre_Gamma"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Enable Float Ramp"], "extent": [3680, 3703], "body": [{"type": "para", "indent": 7, "text": ["int Spline_Ramp_Switch"], "extent": [3740, 3771]}], "container": true, "attrs": {"channel": "/Spline_Ramp_Switch"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Float Ramp"], "extent": [3771, 3787], "body": [{"type": "para", "indent": 7, "text": ["int ramp"], "extent": [3810, 3827]}], "container": true, "attrs": {"channel": "/ramp"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["ramp_Knots"], "extent": [3827, 3843], "body": [{"type": "para", "indent": 7, "text": ["float ramp_Knots"], "extent": [3872, 3897]}], "container": true, "attrs": {"channel": "/ramp_Knots"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["ramp_Floats"], "extent": [3897, 3914], "body": [{"type": "para", "indent": 7, "text": ["float ramp_Floats"], "extent": [3944, 3970]}], "container": true, "attrs": {"channel": "/ramp_Floats"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["ramp_Interpolation"], "extent": [3970, 3994], "body": [{"type": "para", "indent": 7, "text": ["string ramp_Interpolation"], "extent": [4031, 4065]}], "container": true, "attrs": {"channel": "/ramp_Interpolation"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Step Mode"], "extent": [4065, 4080], "body": [], "container": true, "attrs": {"channel": "/Step_Mode"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Darks Color"], "extent": [4117, 4134], "body": [{"type": "para", "indent": 7, "text": ["Color to step to"], "extent": [4158, 4183]}], "container": true, "attrs": {"channel": "/darks"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Steps"], "extent": [4183, 4194], "body": [{"type": "para", "indent": 7, "text": ["Number of steps to quantize signal (lighting or artistic angle)"], "extent": [4223, 4295]}], "container": true, "attrs": {"channel": "/Toon_Steps"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Smooth"], "extent": [4295, 4307], "body": [{"type": "para", "indent": 7, "text": ["Antialiasing between steps. Use on Physical or Artistic. Ignored on Artistic from PxrStylizedControl option (not needed)."], "extent": [4332, 4462]}], "container": true, "attrs": {"channel": "/Smooth"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Color Spline Ramp"], "extent": [4462, 4485], "body": [{"type": "para", "indent": 7, "text": ["int colorRamp"], "extent": [4513, 4535]}], "container": true, "attrs": {"channel": "/colorRamp"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["colorRamp_Knots"], "extent": [4535, 4556], "body": [{"type": "para", "indent": 7, "text": ["float colorRamp_Knots"], "extent": [4590, 4620]}], "container": true, "attrs": {"channel": "/colorRamp_Knots"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["colorRamp_Colors"], "extent": [4620, 4642], "body": [{"type": "para", "indent": 7, "text": ["color colorRamp_Colors"], "extent": [4677, 4708]}], "container": true, "attrs": {"channel": "/colorRamp_Colors"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["colorRamp_Interpolation"], "extent": [4708, 4737], "body": [{"type": "para", "indent": 7, "text": ["string colorRamp_Interpolation"], "extent": [4779, 4818]}], "container": true, "attrs": {"channel": "/colorRamp_Interpolation"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Lights Hue"], "extent": [4818, 4834], "body": [{"type": "para", "indent": 7, "text": ["Tint Albedo Lights to match a shadow color"], "extent": [4874, 4925]}], "container": true, "attrs": {"channel": "/HSV_Albedo_Lights_Hue"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Lights Sat"], "extent": [4925, 4941], "body": [{"type": "para", "indent": 7, "text": ["Tint Albedo Lights to match a shadow color"], "extent": [4981, 5032]}], "container": true, "attrs": {"channel": "/HSV_Albedo_Lights_Sat"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Lights Val"], "extent": [5032, 5048], "body": [{"type": "para", "indent": 7, "text": ["Tint Albedo Lights to match a shadow color"], "extent": [5088, 5139]}], "container": true, "attrs": {"channel": "/HSV_Albedo_Lights_Val"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Darks Hue"], "extent": [5139, 5154], "body": [{"type": "para", "indent": 7, "text": ["Tint Albedo Darks to match a shadow color"], "extent": [5193, 5243]}], "container": true, "attrs": {"channel": "/HSV_Albedo_Darks_Hue"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Darks Sat"], "extent": [5243, 5258], "body": [{"type": "para", "indent": 7, "text": ["Tint Albedo Darks to match a shadow color"], "extent": [5297, 5347]}], "container": true, "attrs": {"channel": "/HSV_Albedo_Darks_Sat"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Darks Val"], "extent": [5347, 5362], "body": [{"type": "para", "indent": 7, "text": ["Tint Albedo Darks to match a shadow color"], "extent": [5401, 5451]}], "container": true, "attrs": {"channel": "/HSV_Albedo_Darks_Val"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Stylized Control Mask"], "extent": [5451, 5478], "body": [{"type": "para", "indent": 7, "text": ["Mult by Toon mask from PxrStylizedControl node in AOV NPRlineMask BLUE channel"], "extent": [5513, 5600]}], "container": true, "attrs": {"channel": "/Toon_Mask_Switch"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Input Mask"], "extent": [5600, 5616], "body": [{"type": "para", "indent": 7, "text": ["Use light aov defined in signal_aov_string above as mask for previously daisy-chained Stylized shaders and/or physically based lighting."], "extent": [5652, 5797]}], "container": true, "attrs": {"channel": "/light_mask_switch"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Mode"], "extent": [5797, 5807], "body": [{"type": "para", "indent": 7, "text": ["Comp mode over previous result (if have previous daisy-chained Stylized nodes, or beauty)"], "extent": [5842, 5940]}], "container": true, "attrs": {"channel": "/daisy_chain_comp"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["BG Color"], "extent": [5940, 5954], "body": [{"type": "para", "indent": 7, "text": ["BG Color"], "extent": [5988, 6005]}], "container": true, "attrs": {"channel": "/backgroundColor"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Note"], "extent": [6005, 6015], "body": [{"type": "para", "indent": 7, "text": ["Required AOVs: diffuse albedo directSpecular NPRtoonOut NPRalbedo"], "extent": [6038, 6112]}], "container": true, "attrs": {"channel": "/Note"}, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}], "title": ["pxrstylizedtoon"]}