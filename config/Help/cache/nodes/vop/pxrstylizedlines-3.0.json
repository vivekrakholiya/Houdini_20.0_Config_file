{"type": "root", "attrs": {"type": "node", "context": "vop", "tags": "rman,displayfilter", "icon": "NETWORKS/shop", "internal": "pxrstylizedlines", "version": "3.0", "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["pxrstylizedlines"], "extent": [74, 95]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [95, 108], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Result"], "extent": [108, 121], "body": [], "container": true, "attrs": {"channel": "/visualizer"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Type"], "extent": [159, 169], "body": [{"type": "para", "indent": 7, "text": ["outline - line on alpha of object sections - line on random id lineNZ - line on combination of X Y components of surface normal and Z depth, good for unit scale curvature - line on change in surface normal camdist - line on change in camera distance aov - custom AOV defined below"], "extent": [196, 485]}], "container": true, "attrs": {"channel": "/lineType"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Data AOV"], "extent": [485, 499], "body": [{"type": "para", "indent": 7, "text": ["Name of a color AOV to do line detection on. Manually set if you want to test on your AOV."], "extent": [521, 620]}], "container": true, "attrs": {"channel": "/aov"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Write To Type AOV"], "extent": [620, 643], "body": [{"type": "para", "indent": 7, "text": ["OFF: edge detection results go into NPRlineOutAlpha and NPRlineOut. ON: overwrite original signal, example writes back to NPRlineNZ/NPRsections/etc"], "extent": [678, 834]}], "container": true, "attrs": {"channel": "/overwriteDataAOV"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Weight"], "extent": [834, 846], "body": [{"type": "para", "indent": 7, "text": ["During line detection weighting to get variance"], "extent": [876, 932]}], "container": true, "attrs": {"channel": "/weight_type"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Sigmoid Sharpness"], "extent": [932, 955], "body": [{"type": "para", "indent": 7, "text": ["Sharpness of the sigmoid pair. Used for softening/hardening the line edge. See: https://www.desmos.com/calculator/g4jbxcvtqz and modify variable a"], "extent": [991, 1146]}], "container": true, "attrs": {"channel": "/sigmoid_sharpness"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Sigmoid Offset"], "extent": [1146, 1166], "body": [{"type": "para", "indent": 7, "text": ["Offset from the midpoint for each sigmoid. Used for line thickness, the bigger the offset the thicker the weighting. See: https://www.desmos.com/calculator/g4jbxcvtqz and modify variable o"], "extent": [1199, 1396]}], "container": true, "attrs": {"channel": "/sigmoid_offset"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Activation"], "extent": [1396, 1412], "body": [{"type": "para", "indent": 7, "text": ["Activation for line detection algorithm"], "extent": [1450, 1498]}], "container": true, "attrs": {"channel": "/activation_function"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Sigmoid Sharpness"], "extent": [1498, 1521], "body": [{"type": "para", "indent": 7, "text": ["See: https://www.desmos.com/calculator/1agy4wsmrh and modify sharpness variable a"], "extent": [1568, 1658]}], "container": true, "attrs": {"channel": "/sigmoid_activation_sharpness"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Sigmoid Offset"], "extent": [1658, 1678], "body": [{"type": "para", "indent": 7, "text": ["See: https://www.desmos.com/calculator/1agy4wsmrh and modify offset variable o"], "extent": [1722, 1809]}], "container": true, "attrs": {"channel": "/sigmoid_activation_offset"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Slope"], "extent": [1809, 1820], "body": [{"type": "para", "indent": 7, "text": ["Line Detection - Hardness of the line. Higher slope is harder line. See https://www.desmos.com/calculator/djcxrcxchc and modify t for threhold, s for slope"], "extent": [1855, 2019]}], "container": true, "attrs": {"channel": "/Activation_Slope"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Threshold"], "extent": [2019, 2034], "body": [{"type": "para", "indent": 7, "text": ["Line Detection - Threshold to consider an edge. Default 0.05. See https://www.desmos.com/calculator/djcxrcxchc and modify t for threhold, s for slope"], "extent": [2073, 2231]}], "container": true, "attrs": {"channel": "/Activation_Threshold"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Ramp"], "extent": [2231, 2241], "body": [{"type": "para", "indent": 7, "text": ["int ramp"], "extent": [2264, 2281]}], "container": true, "attrs": {"channel": "/ramp"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["ramp_Knots"], "extent": [2281, 2297], "body": [{"type": "para", "indent": 7, "text": ["float ramp_Knots"], "extent": [2326, 2351]}], "container": true, "attrs": {"channel": "/ramp_Knots"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["ramp_Floats"], "extent": [2351, 2368], "body": [{"type": "para", "indent": 7, "text": ["float ramp_Floats"], "extent": [2398, 2424]}], "container": true, "attrs": {"channel": "/ramp_Floats"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["ramp_Interpolation"], "extent": [2424, 2448], "body": [{"type": "para", "indent": 7, "text": ["string ramp_Interpolation"], "extent": [2485, 2519]}], "container": true, "attrs": {"channel": "/ramp_Interpolation"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Line Detect Multiplier"], "extent": [2519, 2547], "body": [{"type": "para", "indent": 7, "text": ["For Float Spline Ramp Activation of line detection, multiply user spline values"], "extent": [2588, 2676]}], "container": true, "attrs": {"channel": "/Line_Detect_Mutliplier"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Gamma"], "extent": [2676, 2687], "body": [{"type": "para", "indent": 7, "text": ["After line detection happens, runs gamma on final lines."], "extent": [2716, 2781]}], "container": true, "attrs": {"channel": "/linesGamma"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Thickness"], "extent": [2781, 2796], "body": [{"type": "para", "indent": 7, "text": ["Master Line Thickness, based on pixels"], "extent": [2828, 2875]}], "container": true, "attrs": {"channel": "/lineThickness"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["by PxrStylizedControl"], "extent": [2875, 2902], "body": [{"type": "para", "indent": 7, "text": ["Multiply Line Thickness by set here by Line Thickness set on PxrStylizedControl per object"], "extent": [2950, 3049]}], "container": true, "attrs": {"channel": "/thickness_from_pattern_switch"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["PxrStylizedControl Scale"], "extent": [3049, 3079], "body": [{"type": "para", "indent": 7, "text": ["Globally scale line thickness. If you have line thickness set per object and they are all different values, and you up the resolution of the render, use this global scale to increase or decrease line thickness of all lines, since they are based on pixel width."], "extent": [3118, 3387]}], "container": true, "attrs": {"channel": "/line_thickness_scale"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["by Z Depth"], "extent": [3387, 3403], "body": [{"type": "para", "indent": 7, "text": ["Hot tips here!"], "extent": [3450, 3473]}], "container": true, "attrs": {"channel": "/thickness_from_zdepth_switch"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Cam Dist Z Min"], "extent": [3473, 3493], "body": [{"type": "para", "indent": 7, "text": ["Linstep Min on Z (blue channel from lineNZ)"], "extent": [3516, 3568]}], "container": true, "attrs": {"channel": "/Zmin"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Cam Dist Z Max"], "extent": [3568, 3588], "body": [{"type": "para", "indent": 7, "text": ["Linstep Max on Z (blue channel from lineNZ)"], "extent": [3611, 3663]}], "container": true, "attrs": {"channel": "/Zmax"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Z Min Thickness Scale"], "extent": [3663, 3690], "body": [], "container": true, "attrs": {"channel": "/Zmin_thickness"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Z Max Thickness Scale"], "extent": [3732, 3759], "body": [], "container": true, "attrs": {"channel": "/Zmax_thickness"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["by Lighting"], "extent": [3801, 3818], "body": [{"type": "para", "indent": 7, "text": ["Hot tips here!"], "extent": [3867, 3890]}], "container": true, "attrs": {"channel": "/thickness_from_lighting_switch"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Low Mult"], "extent": [3890, 3904], "body": [{"type": "para", "indent": 7, "text": ["Scale (multiply) Line Thickness by this value in shadows. Use Line Thickness From Lighting in Visualizer dropdown to preview signal."], "extent": [3942, 4083]}], "container": true, "attrs": {"channel": "/Light_min_thickness"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["High Mult"], "extent": [4083, 4098], "body": [{"type": "para", "indent": 7, "text": ["Scale (multiply) Line Thickness by this value in light areas. Use Line Thickness From Lighting in Visualizer dropdown to preview signal."], "extent": [4136, 4281]}], "container": true, "attrs": {"channel": "/Light_max_thickness"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Invert"], "extent": [4281, 4293], "body": [{"type": "para", "indent": 7, "text": ["Invert min max above: so thicker in shadows"], "extent": [4342, 4394]}], "container": true, "attrs": {"channel": "/Light_min_max_thickness_invert"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Gamma"], "extent": [4394, 4405], "body": [], "container": true, "attrs": {"channel": "/Light_thickness_gamma"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Signal"], "extent": [4454, 4466], "body": [{"type": "para", "indent": 7, "text": ["Choose the input signal to use for the light signal to line color and line thickness by lighting. Typically diffuse, can put any light AOV here. Camera Range - uses camera min and max depth set in paremeters below instead. Custom AOV - type in color AOV in Signal String below."], "extent": [4491, 4777]}], "container": true, "attrs": {"channel": "/signal"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Signal String"], "extent": [4777, 4796], "body": [{"type": "para", "indent": 7, "text": ["Name of a color AOV to use for the light signal to line color and line thickness by lighting. Typically diffuse, can put any light AOV here. This AOV has to be setup in Maya/Katana/Houdini or DisplayFilter will exit."], "extent": [4832, 5057]}], "container": true, "attrs": {"channel": "/signal_aov_string"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Mode"], "extent": [5057, 5067], "body": [{"type": "para", "indent": 7, "text": ["Under the hood a white shader approximation is created based off the Signal AOV to drive the Hatching. By default using average of RGB components of Signal AOV, but can also divide Signal AOV lighting results with a pure albedo from NPRalbedo AOV or albedo AOV. If NPRalbedo AOV chosen, must set Albedo Color in PxrStylizedControl node."], "extent": [5097, 5442]}], "container": true, "attrs": {"channel": "/whiteShader"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Enable"], "extent": [5442, 5454], "body": [{"type": "para", "indent": 7, "text": ["If using signals to drive line thickness/color, need to dilate and sort by z depth to pickup correct signal since line detection goes half off geo."], "extent": [5491, 5647]}], "container": true, "attrs": {"channel": "/Dilate_Sort_Switch"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Radius"], "extent": [5647, 5659], "body": [{"type": "para", "indent": 7, "text": ["How big of a radius to dilate Z-sorted signal. Larger values = longer render time. MAX size of 6: will clamp if over."], "extent": [5696, 5822]}], "container": true, "attrs": {"channel": "/Dilate_Sort_Radius"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Depth Scale"], "extent": [5822, 5839], "body": [{"type": "para", "indent": 7, "text": ["Scale Z depth for sorting based on scene scale"], "extent": [5881, 5936]}], "container": true, "attrs": {"channel": "/Dilate_Sort_Depth_Scale"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Weight"], "extent": [5936, 5948], "body": [{"type": "para", "indent": 7, "text": ["During dilate sort, weighting"], "extent": [5990, 6028]}], "container": true, "attrs": {"channel": "/Dilate_Sort_Weight_Type"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Use Alpha"], "extent": [6028, 6043], "body": [{"type": "para", "indent": 7, "text": ["If object has alpha, the zero alpha on camera depth will be incorrect, switch to ON to mix between camera depth of object and Dilate_Sort_Max_Depth based on alpha"], "extent": [6086, 6257]}], "container": true, "attrs": {"channel": "/Dilate_Sort_Alpha_Switch"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Dilate Sort Max Depth"], "extent": [6257, 6284], "body": [{"type": "para", "indent": 7, "text": ["Max Depth to consider for outside of alpha"], "extent": [6324, 6375]}], "container": true, "attrs": {"channel": "/Dilate_Sort_Max_Depth"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["From"], "extent": [6375, 6385], "body": [], "container": true, "attrs": {"channel": "/lineColorFrom"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Line Color"], "extent": [6426, 6442], "body": [{"type": "para", "indent": 7, "text": ["Lines color"], "extent": [6470, 6490]}], "container": true, "attrs": {"channel": "/lineColor"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["HSV Albedo"], "extent": [6490, 6506], "body": [{"type": "para", "indent": 7, "text": ["HSV tint on Albedo color used to color lines"], "extent": [6535, 6588]}], "container": true, "attrs": {"channel": "/HSV_Albedo"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Light Tint"], "extent": [6588, 6604], "body": [{"type": "para", "indent": 7, "text": ["Color lines by lighting"], "extent": [6637, 6669]}], "container": true, "attrs": {"channel": "/light_response"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["HSV Light"], "extent": [6669, 6684], "body": [{"type": "para", "indent": 7, "text": ["HSV"], "extent": [6712, 6724]}], "container": true, "attrs": {"channel": "/HSV_Light"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["HSV Dark"], "extent": [6724, 6738], "body": [{"type": "para", "indent": 7, "text": ["HSV"], "extent": [6765, 6777]}], "container": true, "attrs": {"channel": "/HSV_Dark"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Line Color Shadow"], "extent": [6777, 6800], "body": [{"type": "para", "indent": 7, "text": ["Line color in dark/shadow areas"], "extent": [6834, 6874]}], "container": true, "attrs": {"channel": "/lineColorShadow"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Linstep Switch"], "extent": [6874, 6894], "body": [{"type": "para", "indent": 7, "text": ["Use linstep Min Max values below on Z (blue channel from lineNZ)"], "extent": [6935, 7008]}], "container": true, "attrs": {"channel": "/camdist_linstep_switch"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Cam Dist Z Min"], "extent": [7008, 7028], "body": [{"type": "para", "indent": 7, "text": ["Linstep Min on Z (blue channel from lineNZ)"], "extent": [7059, 7111]}], "container": true, "attrs": {"channel": "/camdist_Zmin"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Cam Dist Z Max"], "extent": [7111, 7131], "body": [{"type": "para", "indent": 7, "text": ["Linstep Max on Z (blue channel from lineNZ)"], "extent": [7162, 7214]}], "container": true, "attrs": {"channel": "/camdist_Zmax"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Z Scale Switch"], "extent": [7214, 7234], "body": [{"type": "para", "indent": 7, "text": ["Use Z Scale"], "extent": [7274, 7294]}], "container": true, "attrs": {"channel": "/camdist_zscale_switch"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Z Scale"], "extent": [7294, 7307], "body": [{"type": "para", "indent": 7, "text": ["Scale Z (from lineNZ blue channel) for line detect"], "extent": [7340, 7399]}], "container": true, "attrs": {"channel": "/camdist_zscale"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Enable"], "extent": [7399, 7411], "body": [{"type": "para", "indent": 7, "text": ["Distort lines using Distort U V fractal plugged into PxrStylizedControl"], "extent": [7444, 7524]}], "container": true, "attrs": {"channel": "/Distort_Switch"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Offset"], "extent": [7524, 7536], "body": [{"type": "para", "indent": 7, "text": ["Scale UV Offsets from NPRdistort AOV"], "extent": [7571, 7616]}], "container": true, "attrs": {"channel": "/Distort_UV_Scale"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Remap"], "extent": [7616, 7627], "body": [{"type": "para", "indent": 7, "text": ["Assumes incoming signal to Distort UV is ", {"scheme": null, "value": "0..1", "type": "link", "text": "", "fullpath": "/nodes/vop/0..1.html"}, ", remaps to ", {"scheme": null, "value": "-1..1", "type": "link", "text": "", "fullpath": "/nodes/vop/-1..1.html"}], "extent": [7668, 7743]}], "container": true, "attrs": {"channel": "/Distort_Negative_Remap"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Distort Filtering"], "extent": [7743, 7766], "body": [], "container": true, "attrs": {"channel": "/Distort_Filtering"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["PxrStylizedControl Mask"], "extent": [7811, 7840], "body": [{"type": "para", "indent": 7, "text": ["Mult by line mask from PxrStylizedControl pattern node in AOV NPRmask"], "extent": [7874, 7952]}], "container": true, "attrs": {"channel": "/lineMask_switch"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Input Mask"], "extent": [7952, 7968], "body": [{"type": "para", "indent": 7, "text": ["Use AOV defined in Input Signal as mask for previously daisy-chained Stylized shaders and/or physically based lighting"], "extent": [8004, 8131]}], "container": true, "attrs": {"channel": "/light_mask_switch"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Lines Inside Alpha"], "extent": [8131, 8155], "body": [{"type": "para", "indent": 7, "text": ["Mult by alpha for only inside lines from line detect, don\u2019t go off geo. Premult."], "extent": [8192, 8281]}], "container": true, "attrs": {"channel": "/linesInside_switch"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Mode"], "extent": [8281, 8291], "body": [{"type": "para", "indent": 7, "text": ["Comp mode over previous result (if have previous daisy-chained Stylized nodes, or beauty)"], "extent": [8326, 8424]}], "container": true, "attrs": {"channel": "/daisy_chain_comp"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Mix"], "extent": [8424, 8433], "body": [{"type": "para", "indent": 7, "text": ["Mix this node to previous result"], "extent": [8463, 8504]}], "container": true, "attrs": {"channel": "/compModeMix"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Note"], "extent": [8504, 8514], "body": [{"type": "para", "indent": 7, "text": ["Required AOVs: 1) NPRoutline 2) NPRsections 3) NPRlineNZ 4) NPRlineCamdist 5) NPRalbedo 6) NPRlineAlbedo 7) NPRmask 8) NPRlineWidth 9) diffuse 10) albedo 11) NPRlineOut 12) NPRlineOutAlpha 13) sampleCount 14) NPRcurvature 15) NPRdistort"], "extent": [8544, 8789]}], "container": true, "attrs": {"channel": "/shaderNotes"}, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}], "title": ["pxrstylizedlines"]}