{"type": "root", "attrs": {"type": "node", "context": "cop2", "internal": "aidenoise", "icon": "COP2/aidenoise", "since": "18.5", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Denoise AI"], "extent": [0, 15]}, {"type": "summary", "indent": 0, "text": ["Uses machine-learning algorithms to denoise images with high quality and speed."], "extent": [100, 187]}, {"type": "warning_group", "body": [{"ext": null, "type": "warning", "indent": 0, "text": ["Old network"], "role": "item", "extent": [16, 38], "body": [{"type": "para", "indent": 4, "text": ["As of Houdini 20.5, use ", {"scheme": null, "value": "/nodes/cop/index", "type": "link", "text": ["Copernicus nodes"], "fullpath": "/nodes/cop/index.html"}, " instead of Compositing nodes. Though both networks still exist, the Compositing network is now designated as ", {"type": "code", "text": ["COP Network - Old"]}, ". The Compositing network and its nodes will be deprecated and then removed in a future Houdini release."], "extent": [38, 335]}], "container": true}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [230, 245], "body": [{"type": "para", "indent": 0, "text": ["You can install libraries that use various techniques (such as machine learning and GPU computation) to provide very fast and high-quality denoising. This node is a convenient front-end to use those libraries to denoise the image in a compositing network."], "extent": [245, 503]}, {"type": "box_group", "body": [{"ext": null, "type": "box", "indent": 0, "role": "item", "extent": [518, 524], "body": [{"type": "para", "indent": 4, "text": ["This utility currently supports ", {"scheme": null, "value": "https://openimagedenoise.github.io", "type": "link", "text": ["Intel Open Image Denoise"], "exists": true}, " and the ", {"scheme": null, "value": "https://developer.nvidia.com/optix-denoiser", "type": "link", "text": ["NVIDIA OptiX Denoiser"], "exists": true}, ". You must be on a supported platform and have the chosen denoising library installed for this utility to work."], "extent": [544, 830]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Houdini ships with OIDN so it will be available if you are in a Houdini shell environment."], "extent": [830, 928]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["The NVIDIA OptiX Denoiser only works with NVIDIA cards. It is now included with the NVIDIA driver (version 435 or later). If you have an earlier driver version, you can choose ", {"type": "ui", "text": ["Render \u25b8 Download NVIDIA OptiX Denoiser"]}, " in Houdini to download the library automatically."], "extent": [928, 1205]}], "container": true}, {"type": "para", "indent": 4, "text": ["You can specify multiple image planes to denoise simultaneously."], "extent": [1205, 1275]}], "container": true, "attrs": {"id": "supported"}}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Some denoising libraries can use normals and/or albedo to get a better sense of the image, guiding how and where it reduces noise. This node lets you optionally specify the name of a normal plane and the name of an albedo plane to use as input for the denoiser."], "extent": [544, 808]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Tips"], "extent": [808, 819], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["The ", {"scheme": null, "value": "/ref/utils/idenoise", "type": "link", "text": ["idenoise"], "fullpath": "/ref/utils/idenoise.html"}, " utility lets you apply the same denoisers as this node uses from the command line."], "extent": [819, 941]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Like most COP nodes, this node lets you vary the effect using a grayscale mask image. This can be especially useful for certain denoising workflows since you can concentrate the effect in areas with high noise, while avoiding applying to much smoothing to other areas."], "extent": [941, 1214]}], "container": true}]}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [1214, 1222], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Image to Denoise"], "extent": [1222, 1241], "body": [{"type": "para", "indent": 4, "text": ["The node applies the chosen denoiser to the image in the first input."], "extent": [1241, 1316]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Mask"], "extent": [1316, 1322], "body": [{"type": "para", "indent": 4, "text": ["If you connect a grayscale image to the second input, the node uses it as a mask to vary the strength of the denoising effect."], "extent": [1322, 1455]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1455, 1467], "body": [{"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Denoise"], "extent": [1467, 1482], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Denoiser"], "extent": [1482, 1497], "body": [{"type": "para", "indent": 8, "text": ["The library to use to denoise the image. Currently supports the following options:"], "extent": [1520, 1612]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Intel Denoiser"], "extent": [1612, 1636], "body": [{"type": "para", "indent": 12, "text": ["Use the Intel Open Image Denoise library. This library ships with Houdini so it should always be available."], "extent": [1636, 1757]}], "container": true}, {"type": "dt", "indent": 8, "text": ["NVIDIA Optix"], "extent": [1757, 1779], "body": [{"type": "para", "indent": 12, "text": ["Use the NVIDIA Optix library. This option is only available if you have an NVIDIA graphics card with the appropriate driver (see the Overview above)."], "extent": [1779, 1942]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "denoiser"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Normal Plane"], "extent": [1942, 1960], "body": [{"type": "para", "indent": 8, "text": ["Name of the normal plane in the image file to use as input to the denoiser.\n        If this is blank or the corresponding image plane does not exist, the denoiser will not use a normal plane."], "extent": [1981, 2182]}], "container": true, "attrs": {"id": "normal"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Albedo Plane"], "extent": [2182, 2200], "body": [{"type": "para", "indent": 8, "text": ["Name of the albedo plane in the image file to use as input to the denoiser.\n        If this is blank or the corresponding image plane does not exist, the denoiser will not use an albedo plane."], "extent": [2221, 2423]}], "container": true, "attrs": {"id": "albedo"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Motion Vectors Plane"], "extent": [2423, 2449], "body": [{"type": "para", "indent": 8, "text": ["Name of the motion vectors plane in the image file to use for OptiX temporal denoising.\n        This plane is required for OptiX temporal denoising.\n        If this is blank or the corresponding image plane does not exist, the denoiser will not work in Temporal mode."], "extent": [2471, 2748]}], "container": true, "attrs": {"id": "mvector"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Previous Frame Plane"], "extent": [2748, 2774], "body": [{"type": "para", "indent": 8, "text": ["Name of the plane where is stored previous frame beauty. This plane is required for OptiX temporal denoising.\n        The previous frame plane could be created using consequent combination of Shift (to shift the\n        sequence to one frame back) and Rename (to rename beauty plane to ", {"type": "q", "text": ["prevframe"]}, ") COPs,\n        which should merged then with a current frame beauty and then promoted to aidenoise in ", {"type": "q", "text": ["Optix 7 Denoiser"]}, " mode.\n        If this is blank or the corresponding image plane does not exist, the denoiser will not work in Temporal mode."], "extent": [2795, 3349]}], "container": true, "attrs": {"id": "prevfr"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Mask"], "extent": [695, 711], "body": [{"type": "para", "indent": 8, "text": ["A mask can be chosen to limit the effect of the operator to\n        areas defined by the mask. The mask can be taken from the mask\n        input (side input) or from the first input itself."], "extent": [711, 911]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Effect Amount"], "extent": [911, 934], "body": [{"type": "para", "indent": 12, "text": ["If no mask is present, this blends the output with the input\n            by a constant amount (0 = all input, 1 = all output)."], "extent": [972, 1112]}, {"type": "para", "indent": 12, "text": ["If a mask is present, this amount multiplies the mask."], "extent": [1112, 1180]}], "container": true, "attrs": {"channels": "/effectamount"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Operation Mask"], "extent": [1180, 1204], "body": [{"type": "para", "indent": 12, "text": ["Selects the mask plane to use as a mask from the mask input.\n            The mask can be selected from:"], "extent": [1250, 1367]}, {"type": "para", "indent": 12, "text": ["A mask can be a component of a plane or an entire plane. If\n            a vector plane is supplied as a mask, its components are\n            multiplied by the images' components."], "extent": [1367, 1559]}, {"type": "para", "indent": 12, "text": [{"type": "strong", "text": ["Scalar Mask ('A', 'C.r')"]}], "extent": [1559, 1599]}, {"lang": null, "type": "pre", "indent": 12, "text": ["\n            C.r = I.r * M\n            C.g = I.g * M\n            C.b = I.b * M\n            \n            "], "extent": [1599, 1722]}, {"type": "para", "indent": 12, "text": [{"type": "strong", "text": ["Vector Mask ('C')"]}], "extent": [1722, 1755]}, {"lang": null, "type": "pre", "indent": 12, "text": ["\n            C.r = I.r * M.r\n            C.g = I.g * M.g\n            C.b = I.b * M.b\n            \n            "], "extent": [1755, 1884]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["First Input"], "extent": [1884, 1910], "body": [{"type": "para", "indent": 16, "text": ["Useful for masking the operation to the image\u2019s own\n                alpha plane."], "extent": [1910, 2007]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Mask Input"], "extent": [2007, 2031], "body": [{"type": "para", "indent": 16, "text": ["Selects the mask from the side mask input."], "extent": [2031, 2090]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Off"], "extent": [2090, 2107], "body": [{"type": "para", "indent": 16, "text": ["Turns off masking, without requiring disconnection of\n                the mask input (useful for temporarily disabling the\n                mask)."], "extent": [2107, 2269]}], "container": true}], "container": true}], "container": true, "attrs": {"channels": "/maskinput /maskplane"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Resize Mask to Fit Image"], "extent": [2269, 2303], "body": [{"type": "para", "indent": 12, "text": ["If the mask image is a different resolution than the output\n            image, turning on this parameter will scale the mask to the\n            output image\u2019s resolution."], "extent": [2303, 2487]}, {"type": "para", "indent": 12, "text": ["If this node is changing constantly, and the mask is not, it\n            is somewhat faster to put a Scale COP down to do the resize\n            for the mask image. Otherwise, the scale will occur every\n            time this node cooks."], "extent": [2487, 2737]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Invert Mask"], "extent": [2737, 2758], "body": [{"type": "para", "indent": 12, "text": ["Inverts the mask so that all fully 'masked' portions become\n            unmasked. This saves you from inserting an Invert COP after\n            the node with the mask."], "extent": [2758, 2938]}], "container": true, "role": "item"}], "container": true}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Scope"], "extent": [473, 490], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Plane Scope"], "extent": [490, 512], "body": [{"type": "para", "indent": 12, "text": ["Specifies the scope for both the RGB components of Color,\n            Alpha, and other planes. The (C)RGBA mask only affects Color\n            components and Alpha. 'C' will toggle all the RGB\n            components."], "extent": [512, 742]}, {"type": "para", "indent": 12, "text": ["For planes other than Color and Alpha, the plane name (plus\n            component, if applicable) should be specified in the string\n            field. The pulldown menu can be used to select planes or\n            components present in this node."], "extent": [742, 1001]}, {"type": "para", "indent": 12, "text": ["A plane is specified by its name. A component is specified\n            by both its plane and component name. The '*' wildcard may\n            be used to scope all extra planes. Any number of planes or\n            components can be specified, separated by spaces."], "extent": [1001, 1277]}, {"type": "para", "indent": 12, "text": ["Examples:"], "extent": [1277, 1300]}, {"lang": null, "type": "pre", "indent": 12, "text": ["\n            P\n            N.x N.y\n            P N Pz\n            "], "extent": [1300, 1385]}], "container": true, "role": "item"}], "container": true}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Frame Scope"], "extent": [1385, 1408], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Frame Scope"], "extent": [1408, 1430], "body": [{"type": "para", "indent": 12, "text": ["Allows scoping of specific frames in the frame range. This\n            is in addition to the plane scope (so a plane at a certain\n            frame must be both plane scoped and frame scoped to be\n            modified)."], "extent": [1430, 1663]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["All Frames"], "extent": [1663, 1687], "body": [{"type": "para", "indent": 16, "text": ["All frames are scoped."], "extent": [1687, 1726]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Inside Range"], "extent": [1726, 1752], "body": [{"type": "para", "indent": 16, "text": ["All frames inside a subrange are scoped."], "extent": [1752, 1809]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Outside Range"], "extent": [1809, 1836], "body": [{"type": "para", "indent": 16, "text": ["All frames outside a subrange are scoped."], "extent": [1836, 1894]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Even Frames"], "extent": [1894, 1919], "body": [{"type": "para", "indent": 16, "text": ["Even numbered frames are scoped."], "extent": [1919, 1968]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Odd Frames"], "extent": [1968, 1992], "body": [{"type": "para", "indent": 16, "text": ["Odd numbered frames are scoped."], "extent": [1992, 2040]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Specific Frames"], "extent": [2040, 2069], "body": [{"type": "para", "indent": 16, "text": ["A user-defined list of frames are scoped."], "extent": [2069, 2127]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Frame Range"], "extent": [2127, 2148], "body": [{"type": "para", "indent": 12, "text": ["For Inside/Outside range, this parameter specifies the\n            subrange of the sequence to scope (or unscope). This can be\n            edited in Timeline viewer mode (", {"keys": ["Ctrl", "2"], "type": "keys", "text": null}, " in viewer)."], "extent": [2190, 2398]}], "container": true, "attrs": {"channels": "/frange1 /frange2"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Frame Dropoff"], "extent": [2398, 2421], "body": [{"type": "para", "indent": 12, "text": ["For Inside/Outside Range, this parameter specifies certain\n            number of frames before and after to slowly ramp up to\n            scoped. The operation will be blended with its input to\n            'ease in' or 'ease out' the scoping effect over a number of\n            frames. This can be edited in Timeline viewer mode\n            (", {"keys": ["Ctrl", "2"], "type": "keys", "text": null}, " in viewer)."], "extent": [2467, 2846]}], "container": true, "attrs": {"channels": "/fdropoff1 /fdropoff2"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Non-scoped Effect"], "extent": [2846, 2873], "body": [{"type": "para", "indent": 12, "text": ["For unscoped frames, this sets the blend factor between the\n            input and modified images. Normally this is zero (use the\n            input image). By setting this to a non-zero value, you can\n            make unscoped frames be 'slightly' unscoped. The value can\n            vary between 0 (unscoped) and 1 (scoped)."], "extent": [2907, 3245]}], "container": true, "attrs": {"channels": "/foutside"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Frame List"], "extent": [3245, 3265], "body": [{"type": "para", "indent": 12, "text": ["The frame list for 'Specific Frames'. Frame numbers should\n            be separated by spaces."], "extent": [3296, 3403]}], "container": true, "attrs": {"channels": "/flist"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Automatically Adjust for Length Changes"], "extent": [3403, 3452], "body": [{"type": "para", "indent": 12, "text": ["If the sequence range changes, enabling this parameter will\n            adjust the subrange and frame dropoff lengths to fit the new\n            range."], "extent": [3452, 3616]}], "container": true, "role": "item"}], "container": true}]}], "text": "Parameters"}, {"level": 1, "id": "locals", "container": true, "type": "locals_section", "indent": 0, "role": "section", "extent": [3416, 3424], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["L"], "extent": [15, 18], "body": [{"type": "para", "indent": 4, "text": ["Sequence length"], "extent": [18, 38]}], "container": true}, {"type": "dt", "indent": 0, "text": ["S"], "extent": [38, 41], "body": [{"type": "para", "indent": 4, "text": ["Start of sequence"], "extent": [41, 63]}], "container": true}, {"type": "dt", "indent": 0, "text": ["E"], "extent": [63, 66], "body": [{"type": "para", "indent": 4, "text": ["End of sequence"], "extent": [66, 86]}], "container": true}, {"type": "dt", "indent": 0, "text": ["IL"], "extent": [86, 90], "body": [{"type": "para", "indent": 4, "text": ["Input sequence length"], "extent": [90, 116]}], "container": true}, {"type": "dt", "indent": 0, "text": ["SR"], "extent": [116, 120], "body": [{"type": "para", "indent": 4, "text": ["Sequence frame rate"], "extent": [120, 144]}], "container": true}, {"type": "dt", "indent": 0, "text": ["NP"], "extent": [144, 148], "body": [{"type": "para", "indent": 4, "text": ["Number of planes in sequence"], "extent": [148, 181]}], "container": true}, {"type": "dt", "indent": 0, "text": ["W,H"], "extent": [181, 186], "body": [{"type": "para", "indent": 4, "text": ["Width and height of image"], "extent": [186, 216]}], "container": true}, {"type": "dt", "indent": 0, "text": ["I"], "extent": [216, 219], "body": [{"type": "para", "indent": 4, "text": ["Image index (0 at start frame)"], "extent": [219, 254]}], "container": true}, {"type": "dt", "indent": 0, "text": ["IT"], "extent": [254, 258], "body": [{"type": "para", "indent": 4, "text": ["Image time (0 at start frame)"], "extent": [258, 292]}], "container": true}, {"type": "dt", "indent": 0, "text": ["AI"], "extent": [292, 296], "body": [{"type": "para", "indent": 4, "text": ["Current plane array index"], "extent": [296, 326]}], "container": true}, {"type": "dt", "indent": 0, "text": ["PI"], "extent": [326, 330], "body": [{"type": "para", "indent": 4, "text": ["Current plane index"], "extent": [330, 354]}], "container": true}, {"type": "dt", "indent": 0, "text": ["PC"], "extent": [354, 358], "body": [{"type": "para", "indent": 4, "text": ["Num of channels in current plane"], "extent": [358, 395]}], "container": true}, {"type": "dt", "indent": 0, "text": ["CXRES"], "extent": [395, 402], "body": [{"type": "para", "indent": 4, "text": ["Composite Project X resolution"], "extent": [402, 437]}], "container": true}, {"type": "dt", "indent": 0, "text": ["CYRES"], "extent": [437, 444], "body": [{"type": "para", "indent": 4, "text": ["Composite Project Y resolution"], "extent": [444, 479]}], "container": true}, {"type": "dt", "indent": 0, "text": ["CPIXA"], "extent": [479, 486], "body": [{"type": "para", "indent": 4, "text": ["Composite Project pixel aspect ratio"], "extent": [486, 527]}], "container": true}, {"type": "dt", "indent": 0, "text": ["CDEPTH"], "extent": [527, 535], "body": [{"type": "para", "indent": 4, "text": ["Composite Project raster depth"], "extent": [535, 570]}], "container": true}, {"type": "dt", "indent": 0, "text": ["CBP"], "extent": [570, 575], "body": [{"type": "para", "indent": 4, "text": ["Composite Project black point"], "extent": [575, 609]}], "container": true}, {"type": "dt", "indent": 0, "text": ["CWP"], "extent": [609, 614], "body": [{"type": "para", "indent": 4, "text": ["Composite Project white point"], "extent": [614, 648]}], "container": true}], "container": true}], "text": "Locals"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [3447, 3456], "body": [{"type": "related_item_group", "body": [{"ext": null, "type": "related_item", "indent": 0, "text": [" ", {"scheme": null, "value": "/ref/utils/idenoise", "type": "link", "text": ["idenoise"], "fullpath": "/ref/utils/idenoise.html"}], "role": "item", "extent": [3456, 3492]}], "container": true, "role": "item_group"}], "text": "Related"}], "title": ["Denoise AI"], "summary": ["Uses machine-learning algorithms to denoise images with high quality and speed."], "included": ["/composite/_old_cops_deprecated", "/nodes/cop2/localvars", "/nodes/cop2/maskparms", "/nodes/cop2/pixelparms", "/ref/utils/idenoise"]}