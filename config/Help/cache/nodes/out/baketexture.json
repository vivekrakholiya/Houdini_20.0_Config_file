{"type": "root", "attrs": {"type": "node", "context": "out", "internal": "baketexture", "icon": "ROP/mantra", "version": "3.0", "since": "16.0", "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Bake Texture"], "extent": [0, 17]}, {"type": "summary", "indent": 0, "text": ["Generates a texture map from one or more objects' rendered appearance."], "extent": [113, 191]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [191, 206], "body": [{"type": "para", "indent": 0, "text": ["It can be useful to generate a texture from the rendered appearance of a model."], "extent": [206, 288]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["As a performance ", {"type": "q", "text": ["cheat"]}, ", you can bake the fully rendered appearance of a model into a texture, and then use the texture instead of running the actual shaders. When you can get away with it (where it\u2019s not noticeable that the object\u2019s appearance doesn\u2019t change), this can give a large speedup, especially for large numbers of identical objects with complex shaders."], "extent": [288, 657], "body": [{"type": "para", "indent": 4, "text": ["This is especially useful when you ", {"scheme": null, "value": "#xfer", "type": "link", "text": ["bake a texture from a high-resolution model and apply it to a low-resolution model"], "fullpath": "/nodes/out/baketexture.html#xfer", "fragment": "#xfer"}, ", possibly in combination with other resolution ", {"type": "q", "text": ["tricks"]}, " such as subdivision surfaces."], "extent": [657, 874]}], "container": true}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["You can capture the rendered appearance of a model as the starting point for a hand-painted texture map."], "extent": [874, 982]}], "container": true}, {"type": "para", "indent": 0, "text": ["This node renders one or more objects as flat texture maps."], "extent": [982, 1043]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [1043, 1049], "body": [{"type": "para", "indent": 4, "text": ["This node is set up to make it easy to bake out known shader exports of Houdini\u2019s Principled and Classic shaders, using the checkboxes on the ", {"type": "ui", "text": ["Images \u25b8 Main"]}, " tab. If you are using another shader (for example, the FBX Surface shader), you need to manually set up the exports to bake using the ", {"type": "ui", "text": ["Extra Image Planes"]}, " multiparm at the bottom of the ", {"scheme": null, "value": "#images_main", "type": "link", "text": ["Main tab"], "fullpath": "/nodes/out/baketexture.html#images_main", "fragment": "#images_main"}, "."], "extent": [1049, 1428]}], "container": true}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["UDIM and Ptex"], "extent": [1428, 1448], "body": [{"type": "para", "indent": 0, "text": ["This node can generate UDIM unwrapped texture images, or ", {"scheme": null, "value": "/shade/ptex", "type": "link", "text": ["Ptex"], "fullpath": "/shade/ptex.html"}, " texture maps, using the ", {"type": "ui", "text": ["UV unwrapping method"]}, " parameter."], "extent": [1448, 1586]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["For UDIM textures, the node will use the ", {"type": "code", "text": ["uv"]}, " attribute on the model to lay out the baked output."], "extent": [1586, 1687], "body": [{"type": "para", "indent": 4, "text": ["The node will replace the string ", {"type": "code", "text": ["<UDIM>"]}, " in the output filename with the UDIM index."], "extent": [1687, 1778]}], "container": true}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": null, "value": "/shade/ptex", "type": "link", "text": ["Ptex"], "fullpath": "/shade/ptex.html"}, " generates a separate texture for each face and saves all the textures and the model topology together in a single archive. Since Ptex texture tiles must map to quadrilaterals, Mantra assumes the geometry will render as a subdivision surface. This node creates Ptex tiles for each polygon using the subdivision rules (3 faces for a triangle, 1 for a quad, 5 for a pentagon, 6 for a hexagon, and so on)."], "extent": [1778, 2203]}], "container": true}]}, {"level": 2, "id": "xfer", "container": true, "type": "h", "indent": 0, "text": ["Baking high-res object onto low-res object"], "extent": [2203, 2259], "body": [{"type": "para", "indent": 0, "text": ["When you specify the objects to render in the ", {"type": "ui", "text": ["UV render objects"]}, ", you can optionally render the appearance of one object into the UV space of another object. This is useful for baking the look of high-res geometry and complex shaders, and then applying them to a much lower-resolution object."], "extent": [2259, 2557]}, {"type": "para", "indent": 0, "text": ["By default, baking will use the surface normal of the lower-resolution object for projection. This may be undesired in areas where there are normal discontinuities. For such cases, you may optionally specify ", {"type": "ui", "text": ["UV cage object"]}, " which is a dupicate of of ", {"type": "ui", "text": ["UV object"]}, " whose vertices are manually pushed out slightly. The ", {"type": "ui", "text": ["UV cage object"]}, " will then be used to map points toward ", {"type": "ui", "text": ["UV object"]}, " as the new projection direction."], "extent": [2557, 2984]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Object pattern matching"], "extent": [2984, 3014], "body": [{"type": "para", "indent": 0, "text": ["You can use the ", {"type": "ui", "text": ["UV render objects"]}, " parameter to specify multiple objects to render. You can also use wildcards in the ", {"type": "ui", "text": ["UV render objects"]}, " sub-parameters to match multiple objects in one go."], "extent": [3014, 3211]}, {"type": "para", "indent": 0, "text": ["When you have one pattern in the ", {"type": "ui", "text": ["UV object"]}, " path, and a corresponding ", {"type": "code", "text": ["*"]}, " wildcard in the ", {"type": "ui", "text": ["Output picture"]}, " filename, the node will replace the ", {"type": "code", "text": ["*"]}, " in the filename with the match from the object path."], "extent": [3211, 3417]}, {"type": "para", "indent": 0, "text": ["For example, if the ", {"type": "ui", "text": ["UV object"]}, " path is ", {"type": "code", "text": ["/obj/*"]}, ", and the ", {"type": "ui", "text": ["Output picture"]}, " filename is ", {"type": "code", "text": ["$HIP/textures/*.rat"]}, ", then the node will render ", {"type": "code", "text": ["/obj/apple"]}, " as ", {"type": "code", "text": ["$HIP/textures/apple.rat"]}, ", ", {"type": "code", "text": ["/obj/bear"]}, " as ", {"type": "code", "text": ["$HIP/textures/bear.rat"]}, ", and so on."], "extent": [3417, 3653]}, {"type": "para", "indent": 0, "text": ["Note that the pattern in the ", {"type": "ui", "text": ["UV object"]}, " path can be something other than a ", {"type": "code", "text": ["*"]}, ". For example, if you have the objects ", {"type": "code", "text": ["/obj/ball1"]}, ", ", {"type": "code", "text": ["/obj/ball2"]}, ", and ", {"type": "code", "text": ["/obj/ball3"]}, ", you could use a path of ", {"type": "code", "text": ["/obj/ball[1-3]"]}, " and an output filename like ", {"type": "code", "text": ["$HIP/textures/*.rat"]}, "."], "extent": [3653, 3913]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Tips and notes"], "extent": [3913, 3934], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["As with a regular render, you can output multiple image planes as textures. For example shading position, direct lighting, indirect lighting, and so on."], "extent": [3934, 4091]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Mantra unwraps the model using a lens shader (see ", {"type": "code", "text": ["$HH/CVex/uvlens.vfl"]}, "). Mantra only supports lens shaders in ray-tracing and PBR ray-tracing."], "extent": [4091, 4238]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["The lens shader raises the ", {"type": "q", "text": ["camera"]}, " very slightly above the surface, to account for precision errors in calculating the surface position. This means it\u2019s very important to have correct surface normals on the model. If the model\u2019s normals are reversed for some reason, you can un-reverse them on this node using the ", {"type": "ui", "text": ["Reverse normals"]}, " parameter."], "extent": [4238, 4587]}, {"blevel": 3, "type": "bullet", "indent": 0, "text": ["The ", {"scheme": "Vex", "value": "/vex/functions/uvunwrap", "type": "link", "text": "", "fallback_text": "uvunwrap()", "fullpath": "/vex/functions/uvunwrap.html"}, " function the lens shader uses correctly accounts for subdivided surfaces and displacement shaders when calculating the surface positions."], "extent": [4587, 4748]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["When ", {"type": "ui", "text": ["Extract Format"]}, " does not support floating point data (such as ", {"type": "code", "text": ["TGA"]}, ", ", {"type": "code", "text": ["PNG"]}, " or ", {"type": "code", "text": ["JPG"]}, "), the output values of ", {"type": "code", "text": ["Tangent-Space Normal (Nt)"]}, " and ", {"type": "code", "text": ["Shading Normal (N)"]}, " planes will be automatically remapped from -1~1 to 0~1."], "extent": [4748, 4975]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Writing out UDIM tiles for ", {"type": "ui", "text": ["Extra Image Planes"]}, " with ", {"type": "ui", "text": ["Different File"]}, " option is currently unsupported."], "extent": [4975, 5086]}], "container": true}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [5086, 5098], "body": [{"type": "para", "indent": 0, "text": ["This is a version of the regular ", {"scheme": "Node", "value": "/nodes/out/ifd", "type": "link", "text": ["Mantra render node"], "fullpath": "/nodes/out/ifd.html"}, " which is configured with parameters to allow for easy baking of texture maps for objects. See the ", {"scheme": "Node", "value": "/nodes/out/ifd", "type": "link", "text": ["help for the render node"], "fullpath": "/nodes/out/ifd.html"}, " for more general help."], "extent": [5098, 5329]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Texture Format"], "extent": [5329, 5345], "body": [{"type": "para", "indent": 4, "text": ["Choose ", {"type": "q", "text": ["UDIM"]}, " to generate regular UV images, or ", {"type": "q", "text": ["Ptex"]}, " to generate Ptex images."], "extent": [5345, 5430]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Resolution"], "extent": [5430, 5442], "body": [{"type": "para", "indent": 4, "text": ["The size of the output texture image. This is ignored for Ptex textures."], "extent": [5442, 5520]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Minimum Map Resolution"], "extent": [5520, 5544], "body": [{"type": "para", "indent": 4, "text": ["For Ptex, the texture size to use for the smallest faces in each object, from ", {"type": "code", "text": ["4"]}, " to ", {"type": "code", "text": ["1024"]}, " pixels."], "extent": [5544, 5649]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Maximum Map Resolution"], "extent": [5649, 5673], "body": [{"type": "para", "indent": 4, "text": ["For Ptex, the maximum possible texture size to use, from ", {"type": "code", "text": ["4"]}, " to ", {"type": "code", "text": ["1024"]}, " pixels. This is a clamp on the per-face value calculated by multiplying the ", {"type": "ui", "text": ["Minimum map resolution"]}, " by the ", {"type": "ui", "text": ["Map resolution scale"]}, "."], "extent": [5673, 5885]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Map Resolution Scale"], "extent": [5885, 5907], "body": [{"type": "para", "indent": 4, "text": ["For Ptex, this node calculates the size of each texture by scaling the ", {"type": "ui", "text": ["Minimum map resolution"]}, " based on the relative size of each face. The smallest faces will get the ", {"type": "ui", "text": ["Minimum map resolution"]}, ". With a scale of ", {"type": "code", "text": ["1.0"]}, ", faces 2\u00d7 larger than the smallest will get 2\u00d7 larger textures. If you set the scale to ", {"type": "code", "text": ["0.0"]}, ", ", {"type": "em", "text": ["all"]}, " faces will get the minimum resolution."], "extent": [5907, 6273]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["UV Render Objects"], "extent": [6273, 6292], "body": [{"type": "para", "indent": 4, "text": ["For each object you want to render, click the ", {"scheme": "Smallicon", "value": "BUTTONS/add", "type": "link", "text": "", "fullpath": "/nodes/out/BUTTONS/add.html"}, " Add button and enter the path of the object in ", {"type": "ui", "text": ["UV Object"]}, ", and the texture filename in ", {"type": "ui", "text": ["Output picture"]}, ". You can do ", {"scheme": null, "value": "#patterns", "type": "link", "text": ["simple pattern expansion"], "fullpath": "/nodes/out/baketexture.html#patterns", "fragment": "#patterns"}, " in the path and filename."], "extent": [6292, 6555]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["To take the rendered appearance of a high resolution object and bake it into the texture space of the ", {"type": "ui", "text": ["UV object"]}, ", enter the path of the ", {"type": "ui", "text": ["High res object"]}, "."], "extent": [6555, 6722]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["To bake using the projection direction from a cage object, enter the path of ", {"type": "ui", "text": ["UV cage object"]}, ". "], "extent": [6722, 6831]}], "container": true}, {"type": "para", "indent": 4, "text": ["The output picture field accepts a few special codes:"], "extent": [6831, 6894]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Texture unwrapping method"]}, " is ", {"type": "q", "text": ["UDIM"]}, ", you can use ", {"type": "code", "text": ["<UDIM>"]}, " in the filename, and the node will replace it with the UDIM index to render out multiple files."], "extent": [6894, 7064]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["If you enter ", {"type": "code", "text": ["%(CHANNEL)s"]}, " as part of the filename, the node will replace it with the channel name."], "extent": [7064, 7171]}], "container": true}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [7171, 7181], "body": [{"type": "para", "indent": 8, "text": [{"type": "ui", "text": ["Output picture"]}, " must be a floating point image format that supports multi-channel images for ", {"type": "ui", "text": ["UDIM Post Process"]}, " and ", {"type": "ui", "text": ["Extract image planes"]}, " to work correctly. It is strongly recommended to leave it in .rat format, and use ", {"type": "ui", "text": ["Extract image planes"]}, " to extract the channels into a different format."], "extent": [7181, 7494]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Images"], "extent": [7494, 7507], "body": [{"level": 3, "id": "images_main", "container": true, "type": "h", "indent": 0, "text": ["Main"], "extent": [7507, 7535], "body": [{"type": "para", "indent": 0, "text": ["You can use the controls on the ", {"type": "ui", "text": ["Output"]}, " tab to rename the channels in the output filenames."], "extent": [7535, 7632]}, {"type": "parameters_item_group", "body": [{"ext": null, "type": "parameters_item", "indent": 0, "text": ["Fit P To Object Bounding Box"], "role": "item", "extent": [23809, 23842], "body": [{"type": "para", "indent": 4, "text": ["When baking, instead of writing shading position ", {"type": "code", "text": ["P"]}, " raw, it will be normalized to 0~1 based on bounding cube of the UV Object."], "extent": [23912, 24045]}], "container": true, "attrs": {"hprop": "vm_bake_normalizep", "ifdprop": "renderer:bake_normalizep"}, "id": "vm_bake_normalizep"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Extract image planes"], "role": "item", "extent": [24045, 24069], "body": [{"type": "para", "indent": 4, "text": ["When enabled, image planes contained in the output image will be extracted to separate files. The files will be saved alongside the output image, in the format: ", {"type": "code", "text": ["$<basename>>.", {"type": "var", "text": ["plane_name"]}, ".", {"type": "var", "text": ["extension"]}]}, "."], "extent": [24146, 24357]}], "container": true, "attrs": {"hprop": "vm_extractimageplanes", "ifdprop": "renderer:extractimageplanes"}, "id": "vm_extractimageplanes"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Remove Intermediate Output"], "role": "item", "extent": [24564, 24594], "body": [{"type": "para", "indent": 4, "text": ["When enabled, intermediate output file (vm_uvoutputpicture) will be deleted after the image planes have been extracted."], "extent": [24685, 24810]}], "container": true, "attrs": {"hprop": "vm_extractremoveintermediate", "ifdprop": "renderer:extractremoveintermediate"}, "id": "vm_extractremoveintermediate"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Shading tangent-space normal (Nt)"], "role": "item", "extent": [26813, 26850], "body": [], "container": true, "attrs": {"hprop": "vm_quickplane_Nt", "status": "nd"}, "id": "vm_quickplane_Nt"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Displacement (Ds)"], "role": "item", "extent": [207310, 207331], "body": [{"type": "para", "indent": 4, "text": ["Used when baking textures. Stores the magnitude between the high-res and low-res objects."], "extent": [207361, 207456]}], "container": true, "attrs": {"hprop": "vm_quickplane_Ds"}, "id": "vm_quickplane_Ds"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Vector Displacement (Vd)"], "role": "item", "extent": [207456, 207484], "body": [{"type": "para", "indent": 4, "text": ["Used when baking textures. Stores the deltas between the high-res and low-res objects."], "extent": [207514, 207606]}], "container": true, "attrs": {"hprop": "vm_quickplane_Vd"}, "id": "vm_quickplane_Vd"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Tangent-Space Vector Displacement (Vdt)"], "role": "item", "extent": [207606, 207649], "body": [{"type": "para", "indent": 4, "text": ["Used when baking textures. Stores the deltas between the high-res and low-res objects in the low-res object\u2019s tangent-space."], "extent": [207680, 207810]}], "container": true, "attrs": {"hprop": "vm_quickplane_Vdt"}, "id": "vm_quickplane_Vdt"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Occlusion (Oc)"], "role": "item", "extent": [207810, 207828], "body": [{"type": "para", "indent": 4, "text": ["Used when baking textures. The occlusion at the shading position."], "extent": [207858, 207929]}], "container": true, "attrs": {"hprop": "vm_quickplane_Oc"}, "id": "vm_quickplane_Oc"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Cavity (Cv)"], "role": "item", "extent": [207929, 207944], "body": [{"type": "para", "indent": 4, "text": ["Used when baking textures. The occlusion along the inverted normal at the shading position.  This produces ", {"type": "q", "text": ["relief"]}, " shading."], "extent": [207974, 208104]}], "container": true, "attrs": {"hprop": "vm_quickplane_Cv"}, "id": "vm_quickplane_Cv"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Thickness (Th)"], "role": "item", "extent": [208104, 208122], "body": [{"type": "para", "indent": 4, "text": ["Used when baking textures. The thickness at the shading position."], "extent": [208152, 208223]}], "container": true, "attrs": {"hprop": "vm_quickplane_Th"}, "id": "vm_quickplane_Th"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Curvature (Cu)"], "role": "item", "extent": [208223, 208241], "body": [{"type": "para", "indent": 4, "text": ["Used when baking textures. The curvature at the shading position."], "extent": [208271, 208342]}], "container": true, "attrs": {"hprop": "vm_quickplane_Cu"}, "id": "vm_quickplane_Cu"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Shading position (P)"], "role": "item", "extent": [26609, 26633], "body": [], "container": true, "attrs": {"hprop": "vm_quickplane_P", "status": "nd"}, "id": "vm_quickplane_P"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Shading normal (N)"], "role": "item", "extent": [26746, 26768], "body": [], "container": true, "attrs": {"hprop": "vm_quickplane_N", "status": "nd"}, "id": "vm_quickplane_N"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Surface Unlit Base Color (basecolor)"], "role": "item", "extent": [27579, 27619], "body": [], "container": true, "attrs": {"hprop": "vm_quickplane_basecolor", "status": "nd"}, "id": "vm_quickplane_basecolor"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Surface Unlit Diffuse Color (diffcolor)"], "role": "item", "extent": [27672, 27715], "body": [], "container": true, "attrs": {"hprop": "vm_quickplane_diffcolor", "status": "nd"}, "id": "vm_quickplane_diffcolor"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Surface Unlit Specular Color (speccolor)"], "role": "item", "extent": [27768, 27812], "body": [], "container": true, "attrs": {"hprop": "vm_quickplane_speccolor", "status": "nd"}, "id": "vm_quickplane_speccolor"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Surface Emission Color (emitcolor)"], "role": "item", "extent": [27865, 27903], "body": [], "container": true, "attrs": {"hprop": "vm_quickplane_emitcolor", "status": "nd"}, "id": "vm_quickplane_emitcolor"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Surface SSS color (ssscolor)"], "role": "item", "extent": [27956, 27988], "body": [], "container": true, "attrs": {"hprop": "vm_quickplane_ssscolor", "status": "nd"}, "id": "vm_quickplane_ssscolor"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Surface Metallic (metallic)"], "role": "item", "extent": [28040, 28071], "body": [], "container": true, "attrs": {"hprop": "vm_quickplane_metallic", "status": "nd"}, "id": "vm_quickplane_metallic"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Surface Roughness (specrough)"], "role": "item", "extent": [28123, 28156], "body": [], "container": true, "attrs": {"hprop": "vm_quickplane_specrough", "status": "nd"}, "id": "vm_quickplane_specrough"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Extra image planes"], "role": "item", "extent": [211982, 212004], "body": [{"type": "para", "indent": 4, "text": ["These controls let you output VEX variables as auxiliary image planes, either as extra planes in the output file or extra files."], "extent": [212031, 212169]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [212169, 212178], "body": [{"type": "para", "indent": 8, "text": ["As of Houdini 9.1, each channel can now be written out to a different file. This lets you work with OpenEXR programs that don\u2019t support multiple channels in a single ", {"type": "code", "text": [".exr"]}, " image."], "extent": [212178, 212371]}, {"type": "para", "indent": 8, "text": ["You can also do fancy stuff like send one channel to the ", {"type": "code", "text": ["md"]}, " device (a non-interactive MPlay window), or split your image into multiple ", {"type": "code", "text": [".pic"]}, " files with a handful of ", {"type": "code", "text": [".tif"]}, " files thrown in. But if the primary image is ", {"type": "code", "text": ["ip"]}, ", all planes go to ", {"type": "code", "text": ["ip"]}, "."], "extent": [212371, 212633]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 4, "text": ["The Channel Name parameter lets you give the channel in the output file a different name than the default (the name of the VEX variable). For example, you want to send out the Of variable. If the Channel Name is left blank, the plane name in the ", {"type": "code", "text": [".pic"]}, " file will be ", {"type": "code", "text": ["Of"]}, ". If you set Channel Name to ", {"type": "code", "text": ["Opacity"]}, ", the plane in the ", {"type": "code", "text": [".pic"]}, " file will be called ", {"type": "code", "text": ["Opacity"]}, "."], "extent": [212633, 213002]}], "container": true, "attrs": {"hprop": "vm_numaux"}, "id": "vm_numaux"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Output"], "extent": [8347, 8362], "body": [{"type": "para", "indent": 0, "text": ["The controls on this tab let you optionally remap channel names to new strings in the output filenames. Turning on export of a channel on the ", {"type": "ui", "text": ["Main"]}, " sub-tab enables the corresponding renaming field on this sub-tab."], "extent": [8362, 8581]}, {"type": "parameters_item_group", "body": [{"ext": null, "type": "parameters_item", "indent": 0, "text": ["Name Separator"], "role": "item", "extent": [25551, 25569], "body": [{"type": "para", "indent": 4, "text": ["When extracting images for baking, this is the separator string that\u2019s inserted between the filename and the channel name.  For with a separator of ", {"type": "code", "text": ["."]}, ", the extracted image might be ", {"type": "code", "text": ["texture.Nt.png"]}, " instead of ", {"type": "code", "text": ["texture_Nt.png"]}, "."], "extent": [25642, 25875]}], "container": true, "attrs": {"hprop": "vm_extractseparator", "ifdprop": "renderer:extractseparator"}, "id": "vm_extractseparator"}], "container": true, "role": "item_group"}]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Baking"], "extent": [8617, 8630], "body": [{"type": "parameters_item_group", "body": [{"ext": null, "type": "parameters_item", "indent": 0, "text": ["Disable Lighting/Emission"], "role": "item", "extent": [208520, 208550], "body": [{"type": "para", "indent": 4, "text": ["Disables all lighting on primary image plane in order to make baking faster."], "extent": [208577, 208659]}], "container": true, "attrs": {"hprop": "vm_bake_skipcf"}, "id": "vm_bake_skipcf"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Add Baking Exports to Shader Layers"], "role": "item", "extent": [208659, 208698], "body": [{"type": "para", "indent": 4, "text": ["Add baking related shader exports to layers structs, so they can be mixed by layer compositing operations and finally exported."], "extent": [208730, 208863]}], "container": true, "attrs": {"hprop": "vm_bake_layerexport"}, "id": "vm_bake_layerexport"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Baking samples"], "role": "item", "extent": [208863, 208881], "body": [{"type": "para", "indent": 4, "text": ["Number of samples to use for raytraced shading (eg. Occlusion, Cavity, Thickness). Increasing the number of samples will reduce noise in the shading."], "extent": [208909, 209064]}], "container": true, "attrs": {"hprop": "vm_bake_samples"}, "id": "vm_bake_samples"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Use MikkT Tangent Space"], "role": "item", "extent": [209064, 209091], "body": [{"type": "para", "indent": 4, "text": ["Use Mikkelsen\u2019s Tangent Space for baking tangent space normals (", {"type": "code", "text": ["Nt"]}, "). The basis is computed per-fragment (Unreal Engine compatible). Use a ", {"scheme": "Node", "value": "/nodes/sop/divide", "type": "link", "text": ["Divide SOP"], "fullpath": "/nodes/sop/divide.html"}, " to convert the UV Object into triangle mesh before baking because other applications may interpolate tangents across quads differently."], "extent": [209162, 209472]}], "container": true, "attrs": {"hprop": "vm_bake_usemikkt", "ifdprop": "renderer:bake_usemikkt"}, "id": "vm_bake_usemikkt"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Tangent Normal Face Forward"], "role": "item", "extent": [209472, 209503], "body": [{"type": "para", "indent": 4, "text": ["When enabled, backfacing normals in tangent space (i.e. its Z axis in tangent basis is negative) will be flipped to always face forward."], "extent": [209594, 209736]}], "container": true, "attrs": {"hprop": "vm_bake_normalsfaceforward", "ifdprop": "renderer:bake_normalsfaceforward"}, "id": "vm_bake_normalsfaceforward"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Tangent Normal Flip X"], "role": "item", "extent": [209736, 209761], "body": [{"type": "para", "indent": 4, "text": ["Toggles flipping of the normal\u2019s X axis. Various packages may expect normal maps in different spaces. The flip parameters allow you to match these various spaces."], "extent": [209800, 209968]}], "container": true, "attrs": {"hprop": "vm_bake_tangentnormalflipx"}, "id": "vm_bake_tangentnormalflipx"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Tangent Normal Flip Y"], "role": "item", "extent": [209968, 209993], "body": [{"type": "para", "indent": 4, "text": ["Toggles flipping of the normal\u2019s Y axis. Various packages may expect normal maps in different spaces. The flip parameters allow you to match these various spaces."], "extent": [210032, 210200]}], "container": true, "attrs": {"hprop": "vm_bake_tangentnormalflipy"}, "id": "vm_bake_tangentnormalflipy"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Include Displacement in Tangent Normal"], "role": "item", "extent": [210200, 210242], "body": [], "container": true, "attrs": {"hprop": "vm_bake_tangentnormalincludedisp"}, "id": "vm_bake_tangentnormalincludedisp"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Occlusion Bias"], "role": "item", "extent": [210298, 210316], "body": [{"type": "para", "indent": 4, "text": ["This acts as a contrast control over the occlusion shading, with values higher and lower than ", {"type": "code", "text": ["0.5"]}, " resulting in more and less contrast."], "extent": [210350, 210492]}], "container": true, "attrs": {"hprop": "vm_bake_occlusionbias"}, "id": "vm_bake_occlusionbias"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Cavity Distance"], "role": "item", "extent": [210492, 210511], "body": [{"type": "para", "indent": 4, "text": ["Controls the distance within which features will influence the shading."], "extent": [210546, 210623]}], "container": true, "attrs": {"hprop": "vm_bake_cavitydistance"}, "id": "vm_bake_cavitydistance"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Cavity Bias"], "role": "item", "extent": [210623, 210638], "body": [{"type": "para", "indent": 4, "text": ["This acts as a contrast control over the cavity occlusion shading, with values higher and lower than ", {"type": "code", "text": ["0.5"]}, " resulting in more and less contrast."], "extent": [210669, 210818]}], "container": true, "attrs": {"hprop": "vm_bake_cavitybias"}, "id": "vm_bake_cavitybias"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Occlusion-based Curvature"], "role": "item", "extent": [210818, 210847], "body": [{"type": "para", "indent": 4, "text": ["This is a course but fast approximation for measuring curvature. When off (the default), the renderer measures curvature using local topology. Turning this on measures curvature by casting occlusion rays. The number of occlusion rays is controlled by ", {"type": "ui", "text": ["Baking Samples"]}, " parameter."], "extent": [210885, 211171]}], "container": true, "attrs": {"hprop": "vm_bake_curvatureocc"}, "id": "vm_bake_curvatureocc"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Curvature Ray Distance"], "role": "item", "extent": [211171, 211197], "body": [{"type": "para", "indent": 4, "text": ["Maximum occlusion ray distance to use when ", {"type": "ui", "text": ["Occlusion-based Curvature"]}, " is on."], "extent": [211237, 211322]}], "container": true, "attrs": {"hprop": "vm_bake_curvaturesdist"}, "id": "vm_bake_curvaturesdist"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Curvature Scale"], "role": "item", "extent": [211322, 211341], "body": [{"type": "para", "indent": 4, "text": ["Multiplies the output curvature value. If you are seeing any curvature shading you should increase this value until the gradient is visible."], "extent": [211381, 211527]}], "container": true, "attrs": {"hprop": "vm_bake_curvaturescale"}, "id": "vm_bake_curvaturescale"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Curvature Bias"], "role": "item", "extent": [211527, 211545], "body": [{"type": "para", "indent": 4, "text": ["This acts as a contrast control over the curvature\u2019s shading, with values higher and lower than ", {"type": "code", "text": ["0.5"]}, " resulting in more and less contrast."], "extent": [211584, 211732]}], "container": true, "attrs": {"hprop": "vm_bake_curvaturebias"}, "id": "vm_bake_curvaturebias"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Custom UDIM Range"], "role": "item", "extent": [211732, 211753], "body": [{"type": "para", "indent": 4, "text": ["Used to specify UDIM tiles to bake. Example: ", {"type": "q", "text": ["1001-1004,1011"]}, " (without quotes). If left blank, mantra will bake all UDIM tiles the UV object occupies."], "extent": [211826, 211982]}], "container": true, "attrs": {"hprop": "vm_bake_udimrange", "ifdprop": "renderer:bake_udimrange"}, "id": "vm_bake_udimrange"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Unwrapping"], "extent": [9210, 9227], "body": [{"type": "parameters_item_group", "body": [{"ext": null, "type": "parameters_item", "indent": 0, "text": ["Unwrap Method"], "role": "item", "extent": [178441, 178459], "body": [{"type": "para", "indent": 4, "text": ["Selects the method used to unwrap from the 'UV Object'."], "extent": [178492, 178557]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["UV To Surface"], "extent": [178557, 178576], "body": [{"type": "para", "indent": 8, "text": ["Maps the UVs to their locations on the surface of the object."], "extent": [178576, 178651]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Trace Closest Surface"], "extent": [178651, 178678], "body": [{"type": "para", "indent": 8, "text": ["Uses raytracing to find the surface closest to the ", {"type": "ui", "text": ["UV Object"]}, "."], "extent": [178678, 178753]}], "container": true}], "container": true}], "container": true, "attrs": {"hprop": "vm_uv_unwrap_method"}, "id": "vm_uv_unwrap_method"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Ray Bias"], "role": "item", "extent": [183306, 183318], "body": [{"type": "para", "indent": 4, "text": ["Determines how much to offset the position of the ray from the surface of the object along the normal vector. This value should be increased proportional to the displacement in a displacement shader (if there is one) in order to ensure that the ray hits the surface. The\n    bias is used solely for camera rays."], "extent": [183346, 183663]}], "container": true, "attrs": {"hprop": "vm_uv_ray_bias"}, "id": "vm_uv_ray_bias"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Ray Max Distance"], "role": "item", "extent": [183663, 183683], "body": [{"type": "para", "indent": 4, "text": ["If ", {"type": "code", "text": ["vm_uv_unwrap_method"]}, " is set to ", {"type": "code", "text": ["Trace Closest Surface"]}, " this parameter controls the maximum distance to trace for nearby surfaces. Useful for limiting the areas of the scene that will be baked onto the low-res object."], "extent": [183714, 183940]}], "container": true, "attrs": {"hprop": "vm_uv_ray_maxdist"}, "id": "vm_uv_ray_maxdist"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Reverse Normals"], "role": "item", "extent": [183053, 183072], "body": [{"type": "para", "indent": 4, "text": ["When texture baking, this will reverse normals on the geometry.  This\n    determines the orientation of the surface for the baking lens shader (i.e.\n    shade the inside or outside of the surface)."], "extent": [183103, 183306]}], "container": true, "attrs": {"hprop": "vm_uv_flip_normal"}, "id": "vm_uv_flip_normal"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["UDIM Post Process"], "role": "item", "extent": [182363, 182384], "body": [{"type": "para", "indent": 4, "text": ["When baking to a UDIM image, this option determines what type of post-processing is applied to the final image.  The choices are  ", {"type": "ui", "text": ["No Post Processing"]}, ", ", {"type": "ui", "text": ["Border Expansion"]}, ", ", {"type": "ui", "text": ["Fill Background With Average Color"]}, ", and ", {"type": "ui", "text": ["Diffuse Fill"]}, "."], "extent": [182451, 182698]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [182698, 182708], "body": [{"type": "para", "indent": 12, "text": ["Currently, this is only supported when rendering to disk (not to flipbooks)"], "extent": [182708, 182797]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"hprop": "vm_uvpostprocess", "ifdprop": "renderer:uvpostprocess"}, "id": "vm_uvpostprocess"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["UV Additional Pixels at Border"], "role": "item", "extent": [182797, 182831], "body": [{"type": "para", "indent": 4, "text": ["When baking to a UDIM image and performing island border expansion, this\n    parameter indicates by how many pixels each island should be enlarged."], "extent": [182900, 183053]}], "container": true, "attrs": {"hprop": "vm_uvborderpixels", "ifdprop": "renderer:uvborderpixels"}, "id": "vm_uvborderpixels"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Orient Ptex Subfaces Clockwise"], "role": "item", "extent": [182005, 182039], "body": [{"type": "para", "indent": 4, "text": ["When baking to a Ptex image, this option determines the orientation of face ids for subfaces when splitting non-quad faces.  The default is to order the sub-faces counterclockwise.  However, some software expects to have the faces ordered clockwise."], "extent": [182108, 182363]}], "container": true, "attrs": {"hprop": "vm_ptexwraporient", "ifdprop": "renderer:ptexwraporient"}, "id": "vm_ptexwraporient"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Exclude Light Paths"], "role": "item", "extent": [180009, 180032], "body": [{"type": "para", "indent": 4, "text": ["This parameter controls the light components excluded during bake renders. When baking it is common to render only view-independent components such as ", {"type": "q", "text": ["diffuse"]}, ". The default value of ", {"type": "code", "text": ["-diffuse & -volume"]}, " will only render diffuse and volume light paths."], "extent": [180061, 180319]}], "container": true, "attrs": {"hprop": "vm_uvlightpaths"}, "id": "vm_uvlightpaths"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Ptex Scale Prim Attribute"], "role": "item", "extent": [181251, 181280], "body": [{"type": "para", "indent": 4, "text": ["When baking to a Ptex image, mantra will look for primitive-level scalar attribute of this name to scale tile resolution of current face. Note that the scaled resolution is still clamped by Minimum and Maximum resolutions."], "extent": [181347, 181575]}], "container": true, "attrs": {"hprop": "vm_ptexscaleattr", "ifdprop": "renderer:ptexscaleattr"}, "id": "vm_ptexscaleattr"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Ptex Use Relative Scale"], "role": "item", "extent": [181575, 181602], "body": [{"type": "para", "indent": 4, "text": ["If this is disabled, mantra will no longer measure relative size of faces compared with smallest faces in the model when baking to a Ptex image. The tile resolution of each face will simply be ", {"type": "ui", "text": ["Minimum Ptex Map Resolution"]}, " multiplied by ", {"type": "ui", "text": ["Ptex Resolution Scale"]}, " and primitive-level Ptex scale attribute (if one exists)."], "extent": [181677, 182005]}], "container": true, "attrs": {"hprop": "vm_ptexrelativescale", "ifdprop": "renderer:ptexrelativescale"}, "id": "vm_ptexrelativescale"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Rendering"], "extent": [9547, 9563], "body": [{"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Sampling"], "extent": [9563, 9581], "body": [{"type": "parameters_item_group", "body": [{"ext": null, "type": "parameters_item", "indent": 0, "text": ["Pixel samples"], "role": "item", "extent": [125451, 125468], "body": [{"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 4, "text": [{"scheme": "Image", "value": "/images/render/mug/sampling_tab/PixelSampling.jpg", "type": "img", "text": ""}], "role": "item", "extent": [125520, 125588], "body": [{"type": "para", "indent": 8, "text": ["Controls the number of primary rays Mantra will use to sample your scene per pixel. The two numbers represent an arrangement of samples in the X and Y axis and are generally the same number. However, for non-square pixels it may be necessary to use different values in X and Y. Multiplying these two values together will give you the number of primary rays per pixel."], "extent": [125588, 125969]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 4, "text": ["Increasing Pixel Samples will result in a cleaner, higher quality image. However, since all other sampling values are multiplied by the number of Pixel Samples, they should only be increased when necessary. For more details on when to increase Pixel Samples, see the \u201cRemoving Noise\u201d section."], "extent": [125969, 126267]}], "container": true, "attrs": {"hprop": "vm_samples", "ifdprop": "image:samples"}, "id": "vm_samples"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Ray variance anti-aliasing"], "role": "item", "extent": [126267, 126297], "body": [{"type": "para", "indent": 4, "text": ["When enabled, this parameter will cause Mantra to use ray variance antialiasing when determining the number of Secondary Rays to send for every Primary Ray."], "extent": [126362, 126528]}, {"type": "para", "indent": 4, "text": ["This means that rather than using a specific number of rays, Mantra will first send out a small number of rays and use this sample set to evaluate the Variance. Depending on the amount of variance, Mantra will continue to send more rays up to the ", {"type": "ui", "text": ["Max Ray Samples"]}, " value. Ray Variance Antialiasing is useful for optimizing your render by sending more rays only in the areas they are needed."], "extent": [126528, 126930]}, {"type": "para", "indent": 4, "text": ["In cases where the minimum number of rays to remove noise is equal to the maximum number of rays, you may save a small amount of render time by disabling Ray Variance Antialiasing."], "extent": [126930, 127116]}], "container": true, "attrs": {"hprop": "vm_dorayvariance", "ifdprop": "object:dorayvariance"}, "id": "vm_dorayvariance"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Min Ray Samples"], "role": "item", "extent": [128182, 128201], "body": [{"type": "para", "indent": 4, "text": ["This value is the ", {"type": "strong", "text": ["minimum number of secondary rays"]}, " to use for each BSDF type when generating an image. When ", {"type": "ui", "text": ["Ray Variance anti-aliasing"]}, " is disabled, this number represents the number of secondary rays to send regardless of the ", {"type": "ui", "text": ["Noise Level"]}, "."], "extent": [128266, 128524]}, {"type": "para", "indent": 4, "text": ["Remember, this number is multiplied by the current number of Pixel Samples ", {"type": "em", "text": ["and"]}, " the number of BSDF types on the material being evaluated."], "extent": [128524, 128668]}], "container": true, "attrs": {"hprop": "vm_minraysamples", "ifdprop": "object:minraysamples"}, "id": "vm_minraysamples"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Volume step rate"], "role": "item", "extent": [143685, 143705], "body": [{"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 4, "text": [{"scheme": "Image", "value": "/images/render/mug/sampling_tab/VolumeQuality.jpg", "type": "img", "text": ""}], "role": "item", "extent": [143772, 143839], "body": [{"type": "para", "indent": 8, "text": ["How finely or coarsely a volume is sampled as a ray travels through it. Volumetric objects are made up of 3d structures called Voxels, the value of this parameter represents the number of voxels a ray will travel through before performing another sample."], "extent": [143839, 144107]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 4, "text": ["The default value is ", {"type": "code", "text": ["0.25"]}, ", which means that every one of every four voxels will be sampled. A value of ", {"type": "code", "text": ["1"]}, " would mean that all voxels are sampled and a value of 2 would mean that all voxels are sampled twice. This means that the volume step rate value behaves in a similar way to pixel samples, acting as a multiplier on the total number of samples for volumetric objects."], "extent": [144107, 144491]}, {"type": "para", "indent": 4, "text": ["For volumes that aren\u2019t voxel based, like CVEX procedural volumes, Mantra will divide the bounding box of the volume into roughly 100 \u201cvirtual\u201d voxels. In these cases, setting the Volume Step Rate correctly is essential to maintaining the correct level of detail."], "extent": [144491, 144764]}, {"type": "para", "indent": 4, "text": ["Keep in mind that increasing the volume step rate can dramatically increase render times, so it should only be adjusted when necessary. Also, while increasing the default from ", {"type": "code", "text": ["0.25"]}, " can reduce volumetric noise, increasing the value beyond ", {"type": "code", "text": ["1"]}, " will rarely see similar results."], "extent": [144764, 145050]}, {"type": "para", "indent": 4, "text": ["For more information about volume sampling, see ", {"scheme": null, "value": "/render/sampling", "type": "link", "text": ["sampling and noise"], "fullpath": "/render/sampling.html"}, "."], "extent": [145050, 145142]}], "container": true, "attrs": {"hprop": "vm_volumesteprate", "ifdprop": "object:volumesteprate"}, "id": "vm_volumesteprate"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Volume shadow step rate"], "role": "item", "extent": [149215, 149242], "body": [{"type": "para", "indent": 4, "text": ["A factor to proportionally decrease the volume step rate only for shadows, relative to the volume step rate. Smaller values will cause mantra to use a larger ray march step size for shadow rays than other shading rays.  A value of 1 will produce equal quality for shadow rays and shading rays."], "extent": [149321, 149620]}], "container": true, "attrs": {"hprop": "vm_volumeshadowsteprate", "ifdprop": "object:volumeshadowsteprate"}, "id": "vm_volumeshadowsteprate"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Stochastic transparency"], "role": "item", "extent": [150862, 150889], "body": [{"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 4, "text": [{"scheme": "Image", "value": "/images/render/mug/sampling/VolumeSamplingStochastic.jpg", "type": "img", "text": ""}], "role": "item", "extent": [150949, 151023], "body": [{"type": "para", "indent": 8, "text": ["The number of transparent samples to be shaded as a ray travels through translucent objects. Increasing this value will result in less noise in translucent objects and is generally less costly than increasing Pixel samples, Volume Step Rate, or Min and Max ray samples. Stochastic Sampling will not have any effect on noise from Indirect Sources however."], "extent": [151023, 151387]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 4, "text": ["This may make the image noisier than without stochastic transparency, so you may need to compensate by, for example, increasing the pixel samples. You should generally leave this option on."], "extent": [151387, 151586]}, {"type": "para", "indent": 4, "text": ["The renderer ignores this option for micropolygon rendering (except for secondary ray tracing) and for renders that only generate opacity (such as deep shadow maps). In those cases it is more efficient to composite all the transparent shading results."], "extent": [151586, 151847]}, {"type": "para", "indent": 4, "text": ["Added in Houdini 12."], "extent": [151847, 151873]}], "container": true, "attrs": {"hprop": "vm_transparent", "ifdprop": "image:transparent"}, "id": "vm_transparent"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Stochastic samples"], "role": "item", "extent": [151873, 151895], "body": [{"type": "para", "indent": 4, "text": ["The number of transparent samples to shade when ", {"scheme": null, "value": "#vm_transparent", "type": "link", "text": ["Stochastic Transparency"], "fullpath": "/props/mantra.html#vm_transparent", "fragment": "#vm_transparent"}, " is on. Higher values improve shading quality for volumes and transparent surfaces, but are slower to render."], "extent": [151969, 152173]}], "container": true, "attrs": {"hprop": "vm_transparentsamples", "ifdprop": "image:transparentsamples"}, "id": "vm_transparentsamples"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Sample lock"], "role": "item", "extent": [140718, 140733], "body": [{"type": "para", "indent": 4, "text": ["Sampling generally occurs in random patterns which change on every frame of an animation. This can cause a distracting \u201cbuzz\u201d when there is a significant amount of noise in your images which can make evaluation of other aspects of the scene difficult. Enabling this parameter will \u201clock\u201d the sampling patterns so that the noise remains the same on every frame."], "extent": [140791, 141161]}, {"type": "para", "indent": 4, "text": ["Also, in some cases where the final rendered images will be sent through a post-render de- noise process, it can be useful to have the noise remain constant frame to frame. Consistent sampling patterns can help when analyzing the noise."], "extent": [141161, 141407]}, {"type": "para", "indent": 4, "text": ["It defaults to \u201coff\u201d because it is generally unacceptable to have a locked sampling pattern for final sequences."], "extent": [141407, 141525]}], "container": true, "attrs": {"hprop": "vm_samplelock", "ifdprop": "image:samplelock"}, "id": "vm_samplelock"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Random seed"], "role": "item", "extent": [140413, 140428], "body": [{"type": "para", "indent": 4, "text": ["Adjusting this parameter will cause the pixel sampling patterns used by Mantra to be regenerated in different configurations. By default, the patterns change on every frame, so manually changing this value is not necessary."], "extent": [140489, 140718]}], "container": true, "attrs": {"hprop": "vm_randomseed", "ifdprop": "renderer:randomseed"}, "id": "vm_randomseed"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Allow image motion blur"], "role": "item", "extent": [152173, 152200], "body": [{"type": "para", "indent": 4, "text": ["Occasionally, when motion blur is going to be added to an image as a post-process or for other compositing operations, it is necessary to calculate the motion blur but not include it in the final rendered image. In these cases, Allow Image Motion Blur should be disabled."], "extent": [152263, 152540]}, {"type": "para", "indent": 4, "text": ["This means that the blurred positions necessary for Motion Blur can be exported as a custom Motion Vector Image Plane from within a shader using the GetBlurP() function without the small overhead of doing the actual shading in the render."], "extent": [152540, 152784]}, {"type": "para", "indent": 4, "text": ["This parameter is related to the motion blur parameters which are available only when Motion Blur is enabled. Disabling this option will cause motion blur to be removed from the final rendered image, however the blurred Position will still be calculated, allowing for custom motion vector image planes to be created."], "extent": [152784, 153106]}], "container": true, "attrs": {"hprop": "vm_imageblur", "ifdprop": "renderer:imageblur"}, "id": "vm_imageblur"}], "container": true, "role": "item_group"}]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Advanced"], "extent": [9889, 9904], "body": [{"level": 3, "id": "objects_tab", "container": true, "type": "h", "indent": 0, "text": ["Objects"], "extent": [9855, 9883], "body": [{"type": "para", "indent": 0, "text": ["The parameters on this tab determine which objects and lights are included in the IFD."], "extent": [9883, 9972]}, {"type": "para", "indent": 0, "text": ["Mantra processes these parameters in the following order:"], "extent": [9972, 10031]}, {"type": "ord_group", "body": [{"blevel": 2, "type": "ord", "indent": 0, "text": ["Candidate objects/lights are selected."], "extent": [10031, 10072]}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["Forced objects/lights are added. "], "extent": [10072, 10108]}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["Objects/Lights matching the exclusion parameter are removed."], "extent": [10108, 10172]}], "container": true}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Candidate Objects"], "extent": [10172, 10191], "body": [{"type": "para", "indent": 4, "text": ["The geometry objects in this parameter will be included in the IFD if their display flags are turned on and their display channel is enabled."], "extent": [10191, 10338]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Force Objects"], "extent": [10338, 10353], "body": [{"type": "para", "indent": 4, "text": ["Objects in this parameter are added to the IFD regardless of the state of their display. Objects can only be added to the IFD once."], "extent": [10353, 10490]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Forced Matte"], "extent": [10490, 10504], "body": [{"type": "para", "indent": 4, "text": ["Objects forced to be output as matte objects."], "extent": [10504, 10555]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Forced Phantom"], "extent": [10555, 10571], "body": [{"type": "para", "indent": 4, "text": ["Objects forced to be output as phantom objects."], "extent": [10571, 10624]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Exclude Objects"], "extent": [10624, 10641], "body": [{"type": "para", "indent": 4, "text": ["Objects in this parameter are excluded from the scene, regardless of whether they are selected in the ", {"type": "ui", "text": ["Candidate Objects"]}, " or ", {"type": "ui", "text": ["Force Objects"]}, "."], "extent": [10641, 10792]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Solo Light"], "extent": [10792, 10804], "body": [{"type": "para", "indent": 4, "text": ["Only lights in this parameter will be included in the IFD. This includes shadow map generation and illumination. If this parameter is set, the candidate, forced, and exclusion parameters are ignored."], "extent": [10804, 11009]}, {"type": "para", "indent": 4, "text": ["Using this parameter in conjunction with the ", {"type": "code", "text": ["render_viewcamera"]}, " property provides a quick way of generating shadow maps for selected lights."], "extent": [11009, 11156]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Candidate Lights"], "extent": [11156, 11174], "body": [{"type": "para", "indent": 4, "text": ["Each light in this parameter is added to the IFD if the dimmer channel of the light is not 0. The standard light sets the dimmer channel to 0 when the light is not enabled."], "extent": [11174, 11352]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Force Lights"], "extent": [11352, 11366], "body": [{"type": "para", "indent": 4, "text": ["The lights in this parameter are added to the IFD regardless of the value in their dimmer channels."], "extent": [11366, 11471]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Exclude Lights"], "extent": [11471, 11487], "body": [{"type": "para", "indent": 4, "text": ["These lights will be excluded from the scene, even if they are selected in ", {"type": "ui", "text": ["Candidate Lights"]}, " or Force Lights__."], "extent": [11487, 11607]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Headlight Creation"], "extent": [11607, 11627], "body": [{"type": "para", "indent": 4, "text": ["If there are no lights in the scene, a headlight is created by default. To disable, turn off this checkbox."], "extent": [11627, 11740]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Visible Fog"], "extent": [11740, 11753], "body": [{"type": "para", "indent": 4, "text": ["The fog/atmosphere objects in this parameter are included in the IFD if their display flags are turned on and their display channel is enabled."], "extent": [11753, 11903]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": "scripts_tab", "container": true, "type": "h", "indent": 0, "text": ["Scripts"], "extent": [11903, 11931], "body": [{"type": "para", "indent": 0, "text": ["Each script command refers to an hscript command which will be run, regardless of the expression language selected for the parameter. The resulting string will be run as an hscript command. It is possible to use the python, unix or source hscript commands to perform complex processing."], "extent": [11931, 12220]}, {"type": "para", "indent": 0, "text": ["The commands are always run when rendering occurs. The command checks the parameters of the output driver when it is rendering a range or sending output to a command."], "extent": [12220, 12388]}, {"type": "para", "indent": 0, "text": ["Before the render occurs, Houdini will automatically set the current hscript directory to point to the output driver."], "extent": [12388, 12507]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Pre-Render Script"], "extent": [12507, 12526], "body": [{"type": "para", "indent": 4, "text": ["This command is run before any IFDs are generated. It is only run once per render."], "extent": [12526, 12614]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Pre-Frame Script"], "extent": [12614, 12632], "body": [{"type": "para", "indent": 4, "text": ["This command is run before each IFD is generated."], "extent": [12632, 12687]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Post-Frame Script"], "extent": [12687, 12706], "body": [{"type": "para", "indent": 4, "text": ["This command is run after each IFD is generated. Although the IFD may have been generated, this does not necessarily mean that mantra has finished rendering the image when this command is run."], "extent": [12706, 12904]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Post-Render Script"], "extent": [12904, 12925], "body": [{"type": "para", "indent": 4, "text": ["This command is run one time, after all IFDs have been generated. Although the IFD may have been generated, this does not necessarily mean that mantra has finished rendering the image when this command is run."], "extent": [12925, 13141]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": "driver_tab", "container": true, "type": "h", "indent": 0, "text": ["Driver"], "extent": [13141, 13167], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Command"], "extent": [13167, 13177], "body": [{"type": "para", "indent": 4, "text": ["The command (i.e. mantra) where the IFD file is sent. This will be disabled if the IFD file is saved to disk."], "extent": [13177, 13296]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [13296, 13306], "body": [{"type": "para", "indent": 8, "text": ["The Mantra ROP will not automatically gzip based on the file extension of the ", {"type": "code", "text": [".ifd"]}, " file. The file ", {"type": "code", "text": [".ifd.gz"]}, " will contain uncompressed data. However, you can set your render command to something like ", {"type": "code", "text": ["gzip > foo$F4.ifd.gz"]}, " to compress the file."], "extent": [13306, 13561]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Disk File"], "extent": [13561, 13572], "body": [{"type": "para", "indent": 4, "text": ["The location where the IFD file is saved to disk. You must turn on the Disk File checkbox to enable this parameter."], "extent": [13572, 13693]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Wait for Render to Complete"], "extent": [13693, 13722], "body": [{"type": "para", "indent": 4, "text": ["When sending the output to a command, Houdini will normally return control after it is finished writing the IFD. This allows the render process to complete in the background. Turning on this parameter will force Houdini to block until the mantra finishes rendering the frame."], "extent": [13722, 14003]}, {"type": "para", "indent": 4, "text": ["When rendering a frame range, this option is automatically turned on. However, the option is not automatically turned on when rendering in an hscript or python loop construct. Therefore caution must be used or it is possible to end up starting multiple background renders."], "extent": [14003, 14281]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [14281, 14291], "body": [{"type": "para", "indent": 8, "text": ["The rps and rkill hscript commands can be used to query or kill background renders. "], "extent": [14291, 14389]}, {"type": "para", "indent": 8, "text": ["See the ", {"scheme": null, "value": "#trouble", "type": "link", "text": ["Troubleshooting"], "fullpath": "/nodes/out/ifd.html#trouble", "fragment": "#trouble"}, " section for more information."], "extent": [14389, 14474]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Initialize Simulation OPs"], "extent": [14474, 14501], "body": [{"type": "para", "indent": 4, "text": ["If this option is turned on, POP and DOP simulations will be initialized before rendering."], "extent": [14501, 14597]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Show In Viewport"], "extent": [14597, 14615], "body": [{"type": "para", "indent": 4, "text": ["Enabling this checkbox will cause the driver to show up in the viewport menu. By default, SOHO output drivers to not appear in the viewport menu."], "extent": [14615, 14766]}], "container": true, "role": "item"}, {"ext": null, "type": "parameters_item", "indent": 0, "text": ["Save Binary Geometry"], "role": "item", "extent": [20635, 20660], "body": [{"type": "para", "indent": 4, "text": ["Saves binary geometry in the IFD. If this option is turned off, ASCII geometry is saved in the IFD. Binary is much more efficient. ASCII is readable."], "extent": [20691, 20846]}], "container": true, "attrs": {"hprop": "vm_binarygeometry"}, "id": "vm_binarygeometry"}], "container": true, "role": "item_group"}]}]}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [10000, 10009], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/out/ifd", "type": "link", "text": ["Mantra"], "fullpath": "/nodes/out/ifd.html"}], "extent": [10009, 10034]}], "container": true}], "text": "Related"}], "title": ["Bake Texture"], "summary": ["Generates a texture map from one or more objects' rendered appearance."], "included": ["/nodes/out/ifd", "/nodes/out/standard", "/props/_minmax_styles", "/props/mantra"]}