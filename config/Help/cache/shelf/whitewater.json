{"type": "root", "attrs": {"icon": "SHELF/whitewater", "tags": "particlefluids"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Whitewater"], "extent": [47, 62]}, {"type": "summary", "indent": 0, "text": ["Creates spray, foam, and churn based on an underlying FLIP fluid simulation."], "extent": [62, 147]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [147, 162], "body": [{"type": "para", "indent": 0, "text": ["This tool sets up the ", {"scheme": "Node", "value": "/nodes/sop/whitewatersource", "type": "link", "text": ["source"], "fullpath": "/nodes/sop/whitewatersource.html"}, " and ", {"scheme": "Node", "value": "/nodes/dop/whitewatersolver", "type": "link", "text": ["solver"], "fullpath": "/nodes/dop/whitewatersolver.html"}, " for a whitewater simulation. Whitewater is created from a source ", {"scheme": null, "value": "/shelf/flipfluidfromobject", "type": "link", "text": ["FLIP"], "fullpath": "/shelf/flipfluidfromobject.html"}, " simulation based on several criteria including fluid acceleration, curvature, and vorticity. Whitewater enhances the look of fluid animation with secondary effects such as spray, foam, and bubbles."], "extent": [162, 557]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [557, 563], "body": [{"type": "para", "indent": 4, "text": ["We recommend using the shelf tool to set up whitewater, as it is difficult to do from scratch."], "extent": [563, 663]}], "container": true}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Using Whitewater"], "extent": [663, 686], "body": [{"type": "ord_group", "body": [{"blevel": 2, "type": "ord", "indent": 0, "text": ["Click the ", {"scheme": "Icon", "value": "SHELF/whitewater", "type": "link", "text": "", "fullpath": "/shelf/SHELF/whitewater.html"}, {"scheme": "Tool", "value": "whitewater", "type": "link", "text": ["Whitewater"], "fullpath": "/shelf/whitewater.html"}, " tool on the\n  ", {"type": "ui", "text": ["Particle Fluids"]}, " tab."], "extent": [686, 791]}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["Select a ", {"scheme": null, "value": "/shelf/flipfluidfromobject", "type": "link", "text": ["FLIP Fluid Object"], "fullpath": "/shelf/flipfluidfromobject.html"}, " and press ", {"keys": ["Enter"], "type": "keys", "text": null}, " to complete your \n  selection.  "], "extent": [791, 903]}], "container": true}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [903, 909], "body": [{"type": "para", "indent": 4, "text": ["You may need to navigate into the DOP Network containing the fluid object to select it."], "extent": [909, 1009]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/images/fluid/whitewater1.jpg", "type": "img", "text": ""}, "    "], "extent": [1009, 1052]}, {"type": "para", "indent": 0, "text": ["For specific parameter help, see the ", {"scheme": "Node", "value": "/nodes/sop/whitewatersource", "type": "link", "text": ["Whitewater Source"], "fullpath": "/nodes/sop/whitewatersource.html"}, ", ", {"scheme": "Node", "value": "/nodes/dop/whitewaterobject", "type": "link", "text": ["Whitewater Object"], "fullpath": "/nodes/dop/whitewaterobject.html"}, ", and ", {"scheme": "Node", "value": "/nodes/dop/whitewatersolver", "type": "link", "text": ["Whitewater Solver"], "fullpath": "/nodes/dop/whitewatersolver.html"}, " node help."], "extent": [1052, 1246]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Understanding the network of nodes"], "extent": [1246, 1287], "body": [{"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/images/shelf/wavetank_nodes_whitewater.jpg", "type": "img", "text": ""}], "extent": [1287, 1341]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Whitewater Source"], "extent": [1341, 1367], "body": [{"type": "para", "indent": 0, "text": ["This is where the spray and foam come from, and where some of the most important parameters to change the amount and location of your whitewater can be found."], "extent": [1367, 1528]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["The ", {"type": "ui", "text": ["Curvature"]}, " tab on the ", {"scheme": "Node", "value": "/nodes/sop/whitewatersource", "type": "link", "text": ["Whitewater Source"], "fullpath": "/nodes/sop/whitewatersource.html"}, " node allows you to control where the whitecap is created. You can specify at what surface curvature to emit whitewater as well as the ", {"type": "ui", "text": ["Max Velocity Angle"]}, "."], "extent": [1528, 1772]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["The ", {"type": "ui", "text": ["Acceleration"]}, " tab on the ", {"scheme": "Node", "value": "/nodes/sop/whitewatersource", "type": "link", "text": ["Whitewater Source"], "fullpath": "/nodes/sop/whitewatersource.html"}, " node controls whitewater where then are velocity changes. For example, if the fluid changes direction suddenly, like when a wave collides with a rock and goes back in the opposite direction."], "extent": [1772, 2044]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["The ", {"type": "ui", "text": ["Vorticity"]}, " tab on the ", {"scheme": "Node", "value": "/nodes/sop/whitewatersource", "type": "link", "text": ["Whitewater Source"], "fullpath": "/nodes/sop/whitewatersource.html"}, " node looks for areas that are spinning, or the curling of velocity. When water is churned, bubbles are created. This is not typically something you would want in an ocean, unless a boat is traveling through, or a person is flailing around in the water."], "extent": [2044, 2383]}], "container": true}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Whitewater Sim"], "extent": [2383, 2406], "body": [{"type": "para", "indent": 0, "text": ["This where the whitewater is simulated, and where you can modify the animation."], "extent": [2406, 2488]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/dop/whitewaterobject", "type": "link", "text": ["Whitewater Object"], "fullpath": "/nodes/dop/whitewaterobject.html"}, " is the container for whitewater. It contains several visualization options for the particles, as well as parameters that control the nature of their interactions with collision objects."], "extent": [2488, 2723]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["The ", {"scheme": "Node", "value": "/nodes/dop/whitewatersolver", "type": "link", "text": ["Whitewater Solver"], "fullpath": "/nodes/dop/whitewatersolver.html"}, " is where you can control the behavior of the whitewater particles."], "extent": [2723, 2843], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["The ", {"type": "ui", "text": ["Emission"]}, " tab has controls for birthing particles. You can also set different aging rates for bubbles, foam, and spray here, which will result in particles having different lifespans based on their depth."], "extent": [2843, 3062]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["You can set the simulation region and states of its boundaries in the ", {"type": "ui", "text": ["Limits"]}, " tab. Here you can also give the solver access to the signed distance field of the collision geometry. This is important if you expect whitewater to come to rest atop other objects: without access to this signed distance field, particles may get wrong forces applied to them."], "extent": [3062, 3425]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["The solver\u2019s ", {"type": "ui", "text": ["Forces"]}, " tab allows you to set the basic forces that are experienced by whitewater particles and their effect at different depths. With default settings, for instance, buoyancy force opposes gravity and only acts on submerged particles."], "extent": [3425, 3684]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["The ", {"type": "ui", "text": ["Foam"]}, " tab contains the more advanced mechanisms that drive whitewater dynamics."], "extent": [3684, 3778], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": [{"type": "ui", "text": ["Clumping"]}, " is responsible for maintaining particle density, giving whitewater fluid-like behavior."], "extent": [3778, 3890]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": [{"type": "ui", "text": ["Erosion"]}, " can be used to preserve whitewater in denser areas and accelerate particle reduction in regions where whitewater is more scarce."], "extent": [3890, 4042]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": [{"type": "ui", "text": ["Repellants"]}, " can be used to generate cellular foam patterns."], "extent": [4042, 4116]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": [{"type": "ui", "text": ["Adhesion"]}, " can help in preventing whitewater from separating from the liquid\u2019s surface."], "extent": [4116, 4217]}], "container": true}], "container": true}], "container": true}], "container": true}], "container": true}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [4217, 4222], "body": [{"type": "para", "indent": 4, "text": ["Typically you will not need to make changes in the ", {"type": "ui", "text": ["Advanced"]}, " tab."], "extent": [4222, 4296]}], "container": true}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Import Whitewater"], "extent": [4296, 4322], "body": [{"type": "para", "indent": 0, "text": ["This is the result of ", {"type": "code", "text": ["whitewater_source"]}, " and ", {"type": "code", "text": ["whitewater_sim"]}, " combined."], "extent": [4322, 4397]}, {"type": "para", "indent": 0, "text": ["For information on how to animate a wave tank with whitewater, see ", {"scheme": null, "value": "/fluid/whitewater", "type": "link", "text": ["whitewater"], "fullpath": "/fluid/whitewater.html"}, "."], "extent": [4397, 4497]}]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Tips"], "extent": [4497, 4508], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["The ", {"type": "ui", "text": ["Visualization"]}, " tab on the ", {"scheme": "Node", "value": "/nodes/sop/whitewatersource", "type": "link", "text": ["Whitewater Source node"], "fullpath": "/nodes/sop/whitewatersource.html"}, " has controls for visualizing things like curvature, acceleration, and vorticity. Enabling ", {"type": "ui", "text": ["Source Particles"]}, " can be useful to get an idea of the emission amount that will be generated in your simulation by setting the ", {"type": "ui", "text": ["Whitewater Scale"]}, " and ", {"type": "ui", "text": ["Emission Amount"]}, " values to the same values as the matching parameters on the ", {"scheme": "Node", "value": "/nodes/dop/whitewatersolver", "type": "link", "text": ["Whitewater Solver"], "fullpath": "/nodes/dop/whitewatersolver.html"}, "."], "extent": [4508, 4968]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["The ", {"type": "ui", "text": ["Whitewater Scale"]}, " parameter on the ", {"scheme": "Node", "value": "/nodes/dop/whitewatersolver", "type": "link", "text": ["Whitewater Solver"], "fullpath": "/nodes/dop/whitewatersolver.html"}, " controls particle separation. You can use a higher value when testing for quicker simulation playback, and then reduce to a smaller value later for more particles and more detail."], "extent": [4968, 5239]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Increasing the ", {"type": "ui", "text": ["Aging Rates"]}, " of bubbles, foam, or spray on the ", {"scheme": "Node", "value": "/nodes/dop/whitewatersolver", "type": "link", "text": ["Whitewater Solver"], "fullpath": "/nodes/dop/whitewatersolver.html"}, " will boost it\u2019s death chance by that amount. For example, if you don\u2019t want bubbles in your whitewater but you want foam to stick around for a longer period of time, you can set the  ", {"type": "ui", "text": ["Bubbles Aging Rate"]}, " to a higher value and set the ", {"type": "ui", "text": ["Foam Aging Rate"]}, " to a lower value."], "extent": [5239, 5627]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["To prevent particles from over accumulating in small regions or from separating too far, use the ", {"type": "ui", "text": ["Clumping"]}, " controls on the ", {"scheme": "Node", "value": "/nodes/dop/whitewatersolver", "type": "link", "text": ["Whitewater Solver"], "fullpath": "/nodes/dop/whitewatersolver.html"}, "'s ", {"type": "ui", "text": [" Foam"]}, " tab. This will give the whitewater a more cohesive look."], "extent": [5627, 5871], "body": [{"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/fluid/clumping.jpg", "type": "img", "text": ""}], "extent": [5871, 5914]}, {"type": "para", "indent": 4, "text": ["Image courtesy of Igor Zanic."], "extent": [5914, 5949]}], "container": true}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Get foam to stick to the surface of the fluid and prevent artifacts when rendering by using the ", {"type": "ui", "text": ["Adhesion"]}, " controls on the ", {"scheme": "Node", "value": "/nodes/dop/whitewatersolver", "type": "link", "text": ["Whitewater Solver"], "fullpath": "/nodes/dop/whitewatersolver.html"}, "'s ", {"type": "ui", "text": [" Foam"]}, " tab."], "extent": [5949, 6140], "body": [{"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/fluid/adhesion.jpg", "type": "img", "text": ""}], "extent": [6140, 6184]}, {"type": "para", "indent": 4, "text": ["Image courtesy of Igor Zanic."], "extent": [6184, 6219]}], "container": true}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["The ", {"type": "ui", "text": ["Erosion"]}, " controls on the ", {"scheme": "Node", "value": "/nodes/dop/whitewatersolver", "type": "link", "text": ["Whitewater Solver"], "fullpath": "/nodes/dop/whitewatersolver.html"}, "'s ", {"type": "ui", "text": [" Foam"]}, " tab can be used to eat away whitewater from the outside inward and eliminate whitewater that has separated from the main body."], "extent": [6219, 6439], "body": [{"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/fluid/erosion.jpg", "type": "img", "text": ""}], "extent": [6439, 6482]}, {"type": "para", "indent": 4, "text": ["Image courtesy of Igor Zanic."], "extent": [6482, 6517]}], "container": true}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Repellants are used to create cellular foam patterns in whitewater. These parameters are on the ", {"scheme": "Node", "value": "/nodes/dop/whitewatersolver", "type": "link", "text": ["Whitewater Solver"], "fullpath": "/nodes/dop/whitewatersolver.html"}, "'s ", {"type": "ui", "text": [" Foam"]}, " tab.  The ", {"type": "ui", "text": ["Noise Range"]}, " and ", {"type": "ui", "text": ["Pulse Frequency Range"]}, " parameters control the look and shape of the repellants. Repellants with a higher pulse change shape more rapidly, and repellants that are less noisy appear more circular. For more information see the ", {"scheme": null, "value": "/fluid/whitewater", "type": "link", "text": ["Whitewater"], "fullpath": "/fluid/whitewater.html"}, " page in the Fluid chapter."], "extent": [6517, 6989], "body": [{"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [6989, 6999], "body": [{"type": "para", "indent": 8, "text": ["Unless ", {"type": "ui", "text": ["Density Threshold"]}, " is enabled, repellants are not affected by whitewater."], "extent": [6999, 7092]}], "container": true}], "container": true, "role": "item_group"}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [7092, 7104], "body": [], "container": true, "attrs": {"src": "/videos/noise_pulse.mp4"}}], "container": true, "role": "item_group"}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/fluid/repellants.jpg", "type": "img", "text": ""}], "extent": [7151, 7197]}, {"type": "para", "indent": 4, "text": ["Image courtesy of Igor Zanic."], "extent": [7197, 7250]}], "container": true}], "container": true}]}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [7250, 7259], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/dop/whitewaterobject", "type": "link", "text": "", "fullpath": "/nodes/dop/whitewaterobject.html"}], "extent": [7259, 7290]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/dop/whitewatersolver", "type": "link", "text": "", "fullpath": "/nodes/dop/whitewatersolver.html"}], "extent": [7290, 7320]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/whitewatersource", "type": "link", "text": "", "fullpath": "/nodes/sop/whitewatersource.html"}], "extent": [7320, 7351]}], "container": true}], "text": "Related"}], "title": ["Whitewater"], "summary": ["Creates spray, foam, and churn based on an underlying FLIP fluid simulation."]}